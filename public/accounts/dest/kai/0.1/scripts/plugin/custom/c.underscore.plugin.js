define("plugin/custom/c.underscore.plugin",["underscore","jquery"],function(){var t=[],e=t.slice;_.inherit=function(t,n){function r(){_.isFunction(this.initialize)&&this.initialize.apply(this,arguments)}function i(t,n){return function(){var r=this,i=[function(){return s[t].apply(r,arguments)}];return n.apply(this,i.concat(e.call(arguments)))}}if(0===arguments.length||arguments.length>2)throw"参数错误";var a=null,o=e.call(arguments);if("function"==typeof o[0]&&(a=o.shift()),o=o[0],r.superclass=a,a){var u=function(){};u.prototype=a.prototype,r.prototype=new u}var s=r.superclass&&r.superclass.prototype;for(var c in o){var f=o[c];if(s&&"function"==typeof f){var l=/^\s*function\s*\(([^\(\)]*?)\)\s*?\{/i.exec(f.toString())[1].replace(/\s/g,"").split(",");"$super"===l[0]&&s[c]&&(f=i(c,f))}if(_.isObject(r.prototype[c])&&_.isObject(f)&&"function"!=typeof r.prototype[c]&&"function"!=typeof f){var p={};_.extend(p,r.prototype[c]),_.extend(p,f),r.prototype[c]=p}else r.prototype[c]=f}return r.prototype.initialize||(r.prototype.initialize=function(){}),r.prototype.constructor=r,r},function(){function t(t,e,n,r,i){var a=Math.abs(t-e),o=Math.abs(n-r),u=a>=o?t-e>0?"left":"right":n-r>0?"up":"down";return i&&("left"==u||"right"==u?o/a>i&&(u=""):("up"==u||"down"==u)&&a/o>i&&(u="")),u}function e(e,n,s,c,f,l){if(e&&e[0]){var p="",g=l||r;e[0]["__flip_"+n]=s,e[0].__hasFlipEvent||(e[0].__hasFlipEvent=!0,e.on(a,function(t){t.touches=t.touches||t.originalEvent.touches;var e=t.touches&&t.touches[0]||t;i.x1=e.pageX,i.y1=e.pageY}).on(o,function(e){var n=e.touches&&e.touches[0]||e;i.x2=n.pageX,i.y2=n.pageY,(i.x2&&Math.abs(i.x1-i.x2)>g||i.y2&&Math.abs(i.y1-i.y2)>g)&&(p=t(i.x1,i.x2,i.y1,i.y2,f));var r="function"==typeof c?c(p):c;r||e.preventDefault()}).on(u,function(n){n.changedTouches=n.changedTouches||n.originalEvent.changedTouches;var r=n.changedTouches&&n.changedTouches[0]||n;if(i.x2=r.pageX,i.y2=r.pageY,i.x2&&Math.abs(i.x1-i.x2)>g||i.y2&&Math.abs(i.y1-i.y2)>g){var a=t(i.x1,i.x2,i.y1,i.y2,f);_.isFunction(e[0]["__flip_"+a])&&e[0]["__flip_"+a]()}else _.isFunction(e[0].__flip_tap)&&e[0].__flip_tap();i={}}))}}function n(t){t&&t[0]&&(t.off(a).off(o).off(u),t[0].__hasFlipEvent&&delete t[0].__hasFlipEvent,t[0].__flip_left&&delete t[0].__flip_left,t[0].__flip_right&&delete t[0].__flip_right)}var r=20,i={},a="touchstart",o="touchmove",u="touchend";"ontouchstart"in window||(a="mousedown",o="mousemove",u="mouseup"),_.flip=e,_.flipDestroy=n,$.flip=e,$.flipDestroy=n}(),function(){_.dateUtil={formatNum:function(t){return 10>t?"0"+t:t.toString()},parse:function(t,e){if("undefined"==typeof t)return null;if("string"==typeof e){var n=(new Date(e),e.replace(/[^ymd]/g,"").split(""));if(!n&&3!=n.length)return null;e=e.replace(/y|m|d/g,function(t){switch(t){case"y":return"(\\d{4})";case"m":case"d":return"(\\d{1,2})"}});for(var r=new RegExp(e,"g"),i=r.exec(t),a={},o=0,u=n.length;u>o;o++)a[n[o]]=i[o+1];return new Date(a.y,a.m-1,a.d)}return null},format:function(t,e){return arguments.length<2&&!t.getTime&&(e=t,t=new Date),"string"!=typeof e&&(e="Y年M月D日 H时F分S秒"),e.replace(/Y|y|M|m|D|d|H|h|F|f|S|s/g,function(e){switch(e){case"y":return(t.getFullYear()+"").slice(2);case"Y":return t.getFullYear();case"m":return t.getMonth()+1;case"M":return _.dateUtil.formatNum(t.getMonth()+1);case"d":return t.getDate();case"D":return _.dateUtil.formatNum(t.getDate());case"h":return t.getHours();case"H":return _.dateUtil.formatNum(t.getHours());case"f":return t.getMinutes();case"F":return _.dateUtil.formatNum(t.getMinutes());case"s":return t.getSeconds();case"S":return _.dateUtil.formatNum(t.getSeconds())}})},isDate:_.isDate,isLeapYear:function(t){return _.isDate(t)&&(t=t.getFullYear()),t%4===0&&t%100!==0||t%400===0?!0:!1},getDaysOfMonth:function(t,e){return _.isDate(t)?(e=t.getMonth(),t=t.getFullYear()):e--,[31,_.dateUtil.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},getBeginDayOfMouth:function(t,e){_.isDate(t)?(e=t.getMonth(),t=t.getFullYear()):e--;var n=new Date(t,e,1);return n.getDay()}}}()});