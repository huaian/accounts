define("plugin/vendor/tiNet/tiNetCaller",["dojox/encoding/crypto/SimpleAES","data/store/c.common.store","module","data/model/dataHandlerFactory","./tiNetCallerPlugins"],function(e,t,n,i){function o(e){var t={};return t.customerNumber=e,t.callType="3",_.isObject(a.loginParams)?(a.loginParams.hotline=a.loginParams.hotLine,_.extend(t,a.loginParams),r.outcall.get(t)):!1}var r=i.create(n.config().restStores),a={};return window.initTiNet=function(){var n,i={};n=r.querycurrenttinetinfo.get?r.querycurrenttinetinfo.get(""):r.querycurrenttinetinfo({});var o,c=t.UserStore.getInstance(),d=t.HeadStore.getInstance(),s=d.get()||{};o=c.getAttr("callSystem");var l=c.getAttr("___password");return o&&_.isObject(o)?(i.hotLine=o.hotLine||o.hotline,i.cno=o.seatId||o.seatNumber,i.pwd=o.seatPwd||o.password||e.decrypt(l,s.auth||""),i.bindTel=o.bindTel,i.bindType=o.bindType||o.bindTelType,i.initStatus="online",i.enterpriseId=o.enterpriseId||"",a.loginParams=i,void executeAction("doLogin",i)):!1},window.cbLogin=function(e){"0"!=e.code?Kai.showToast({text:"电话插件初始化失败!"+e.msg,closeTime:3e3}):(Kai.showToast({text:"电话插件初始化成功!",closeTime:3e3}),cbThisStatus(e))},window.cbKickout=function(){a.dialKickout=!0},window.logout=function(){var e={};e.type="1",e.removeBinding="1",executeAction("doLogout",e)},window.cbLogout=function(e){},a.callTiNet=o,a.initTiNet=window.initTiNet,a});