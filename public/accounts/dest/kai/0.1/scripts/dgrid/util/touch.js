define("dgrid/util/touch",["dojo/on","dojo/query"],function(e,t){function n(t,n,r,u){if(!(r.targetTouches.length>1)){var c=r.changedTouches[0],o=c.screenX,i=c.screenY;u&&r.preventDefault();var s=e(t,"touchend",function(e){var t=e.changedTouches[0];e.targetTouches.length||(Math.abs(t.screenX-o)<a.tapRadius&&Math.abs(t.screenY-i)<a.tapRadius&&(u&&e.preventDefault(),n.call(this,e)),s.remove())})}}function r(t,r){return e(t,"touchstart",function(e){n(t,r,e)})}function u(t,r){var u,c;return e(t,"touchstart",function(e){u?n(t,function(e){if(u){var t=e.changedTouches[0];Math.abs(t.screenX-u.screenX)<a.tapRadius&&Math.abs(t.screenY-u.screenY)<a.tapRadius&&(c&&clearTimeout(c),u=c=null,r.call(this,e))}},e,!0):n(t,function(e){u=e.changedTouches[0],c=setTimeout(function(){u=c=null},a.dbltapTime)},e)})}var a={tapRadius:10,dbltapTime:250,selector:function(n,r,u){return function(a,c){var o=r.bubble;return o?r=o:u!==!1&&(u=!0),e(a,r,function(e){var r=e.target;for(3===r.nodeType&&(r=r.parentNode);!t.matches(r,n,a);)if(r===a||!u||!(r=r.parentNode))return;return c.call(r,e)})}},countCurrentTouches:function(e,t){if(!("touches"in e))return-1;var n,r,u;for(n=0,r=0;u=e.touches[n];++n)t.contains(u.target)&&++r;return r}};return a.tap=r,a.dbltap=u,a});