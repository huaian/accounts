define("dstore/charting/StoreSeries",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array"],function(t,e,i){return e(null,{constructor:function(t,e){this.collection=t.track?t.track():t,e?"function"==typeof e?this.value=e:"object"==typeof e?this.value=function(t){var i={};for(var n in e)i[n]=t[e[n]];return i}:this.value=function(t){return t[e]}:this.value=function(t){return t.value},this.data=[],this._initialRendering=!1,this.fetch()},destroy:function(){var t=this.collection.tracking;t&&t.remove()},setSeriesObject:function(t){this.series=t},fetch:function(){var e=this.collection,i=t.hitch(this,this._update);e.fetch().then(t.hitch(this,function(t){this.objects=t,i(),e.tracking&&e.on("add, update, delete",i)}))},_update:function(){var t=this;this.data=i.map(this.objects,function(e){return t.value(e,t.collection)}),this.series&&(this.series.chart.updateSeries(this.series.name,this,this._initialRendering),this._initialRendering=!1,this.series.chart.delayedRender())}})});