require({cache:{"url:ui/scroll/template/ui.scroll.layer.html":'<div class="cui-pop-box">\r\n\r\n<%if(typeof title == \'string\' && title.length > 0){ %>\r\n  <div class="cui-hd">\r\n    <%=title %><div class="lab-close-area">\r\n      <span class="cui-top-close">Ã—</span></div>\r\n  </div>\r\n<%} %>\r\n  <div class="cui-bd" style="overflow: hidden; position: relative; background-color: #fafafa;\r\n    width: 100%;">\r\n  \r\n  </div>\r\n  <div class="cui-roller-btns">\r\n    <%if(typeof btns == \'string\'){ %>\r\n      <%=btns %>\r\n    <% } else { %>\r\n      <% for(var i = 0, len = btns.length; i < len; i++ ) {%>\r\n      <div class="cui-flexbd <%=btns[i].className%>">\r\n        <%=btns[i].name%></div>\r\n      <% } %>\r\n    <%} %>\r\n  </div>\r\n</div>\r\n'}}),define("ui/scroll/ui.scroll.layer",["../ui.layer","dojo/text!./template/ui.scroll.layer.html","./ui.scroll"],function(i,t,s){return _.inherit(i,{propertys:function($super){$super(),this.template=t,this.datamodel={title:"",btns:[{name:"cancel",className:"cui-btns-cancel"},{name:"ok",className:"cui-btns-ok"}]},this.addEvents({"click .cui-btns-ok":"okAction","click .cui-btns-cancel":"cancelAction","click .cui-top-close":"closeAction"}),this.html=null,this.html="",this.maxHeight=300,this.sheight=0,this.scrollOpts={}},okAction:function(){},cancelAction:function(){},closeAction:function(){this.hide()},initElement:function(){this.swrapper=this.$(".cui-bd"),this.box_wrapper=this.$(".cui-pop-box")},initSize:function(){this.html&&(this.html=$(this.html),this.html.length>1&&(this.html=$("<div></div>").append(this.html)),this.html.css({"background-color":"white",position:"absolute"}),this.swrapper.append(this.html),this._initWrapperSize())},_initWrapperSize:function(){var i=0;this.width&&this.box_wrapper.width(this.width),this.sheight=this.html.height(),i=Math.min(this.sheight,this.maxHeight),this.swrapper.height(i)},refreshHeight:function(){this._initWrapperSize(),this.scroll&&this.scroll.refresh&&this.scroll.refresh(),this._initScroll()},initialize:function($super,i){$super(i)},_initScroll:function(){this.scroll&&this.scroll.destory&&this.scroll.destory(),this.sheight>=this.maxHeight&&(this.scrollOpts.wrapper=this.swrapper,this.scrollOpts.scroller=this.html,this.scroll=new s(this.scrollOpts))},addEvent:function($super){$super(),this.on("onShow",function(){this.initSize(),this._initScroll()},1),this.on("onHide",function(){this.scroll&&(this.scroll.destroy(),this.scroll=null)})}})});