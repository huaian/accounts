require({cache:{"url:ui/radiolist/template/ui.radio.list.html":'<div class="cui-pop-box">\r\n<%if(typeof title == \'string\' && title.length > 0){ %>\r\n  <div class="cui-hd">\r\n    <div class="cui-text-center">\r\n      <%=title %></div>\r\n  </div>\r\n<%} %>\r\n\r\n  <div class="cui-bd cui-roller-bd" style="overflow: hidden; position: relative;">\r\n    <ul class="cui-select-view " style="position: absolute; width: 100%; ">\r\n      <%for(var i = 0, len = data.length; i < len; i++) { %>\r\n        <li data-index="<%=i %>" <%if(i == index){ %>class="current"<%} %> ><%=data[i].name || data[i].id %></li>\r\n      <% } %>\r\n    </ul>\r\n  </div>\r\n</div>'}}),define("ui/radiolist/ui.radio.list",["../ui.layer","dojo/text!./template/ui.radio.list.html","../scroll/ui.scroll"],function(t,i,e){return _.inherit(t,{propertys:function($super){$super(),this.template=i,this.datamodel={title:"标题",data:[],selectId:null,index:0},this.itemNum=this.datamodel.data.length,this.displayNum=5,this.scroll=null,this.addEvents({"click .cui-select-view> li":"clickAction"}),this.onClick=function(t,i,e){}},resetPropery:function($super){$super(),this._resetNum(),this._resetIndex()},_resetIndex:function(){if(this.datamodel.selectId)for(var t=0,i=this.datamodel.data.length;i>t;t++)if(this.datamodel.selectId==this.datamodel.data[t].id){this.datamodel.index=t;break}},_resetNum:function(){this.displayNum=this.displayNum%2===0?this.displayNum+1:this.displayNum,this.itemNum=this.datamodel.data.length},clickAction:function(t){var i=$(t.currentTarget),e=i.attr("data-index");this.setIndex(e),this.onClick&&this.onClick.call(this,this.getSelected(),e,t)},setId:function(t){if(t){var i,e,s=-1;for(i=0,e=this.datamodel.data.length;e>i;i++)if(this.datamodel.data[i].id==t){s=i;break}-1!=s&&(this.datamodel.selectId=t,this.datamodel.index=s,this.setIndex(s))}},setDatamodel:function(t){_.extend(this.datamodel,t),this.itemNum=this.datamodel.data.length,this.refresh()},getId:function(){return this.datamodel.selectId},setIndex:function(t,i){t=parseInt(t),0>t||t>=this.datamodel.data.length||(this.datamodel.index=t,this.datamodel.selectId=this.datamodel.data[t].id,this.$("li").removeClass("current"),this.$('li[data-index="'+t+'"]').addClass("current"),i&&this._position())},getIndex:function(){return this.datamodel.index},getSelected:function(){return this.datamodel.data[this.datamodel.index]},initElement:function(){this.swrapper=this.$(".cui-bd"),this.scroller=this.$(".cui-select-view")},initSize:function(){var t=this.displayNum;this.sheight=this.scroller.height(),this.itemHeight=parseInt(this.sheight/this.itemNum),t>this.itemNum&&(t=this.itemNum),this.swrapper.height(this.itemHeight*t)},_position:function(){if(this.scroll){var t,i=this.datamodel.index;this.itemNum-i<this.displayNum&&(i=this.itemNum-this.displayNum),t=this.itemHeight*i*-1,this.scroll.scrollTo(0,t)}},initialize:function($super,t){$super(t)},addEvent:function($super){$super(),this.on("onShow",function(){this.initSize(),this.scroll&&this.scroll.destory&&this.scroll.destory(),this.itemNum>this.displayNum&&(this.scroll=new e({wrapper:this.swrapper,scroller:this.scroller}),this._position())},1),this.on("onHide",function(){this.scroll&&(this.scroll.destroy(),this.scroll=null)})}})});