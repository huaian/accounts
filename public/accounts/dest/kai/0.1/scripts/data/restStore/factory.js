define("data/restStore/factory",["dojo/_base/lang","dojo/_base/declare","custom/dstore/Rest","custom/dstore/CacheableRestStore","dstore/Cache","custom/dstore/Trackable","cutil/c.util.config","appConfig/interface"],function(e,t,r,a,o,n,c,i){"use strict";var u,d=d||{},s=s||{},h=c.getBaseUrl(i);h&&h.domain&&h.protocol&&(u=h.protocol+"://"+h.domain+"/"+h.path);var f=function(e){var t=this;_.each(e,function(e){var o=e.cacheable?a:r;if(!e.URI)throw Error("没有提供URI资源路径");t[e.name]=new o(_.extend(e,{target:e.URI.indexOf("http")>=0?e.URI:u+e.URI,authRequired:_.isBoolean(e.authRequired)?e.authRequired:!0}))})};return d.create=function(e,t){var r={name:e||_.uniqueId()};return _.extend(r,{add:f}),r},d.createDictStore=function(e,t){var t=t||{},r=t.dictPath||Kai.restDictPath||"/dict/code/";return s[r+e+"/"]||(s[r+e+"/"]=new a({authRequired:!1,target:u+r+e+"/",parse:function(e){var t=JSON.parse(e);return t.body}})),s[r+e+"/"]},d});