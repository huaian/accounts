define("data/storage/c.local.storage",["common/c.class.inherit","cutil/c.util.date","data/storage/c.abstract.storage"],function(t,e,a){var n=new t.Class(a,{__propertys__:function(){},initialize:function($super,t){this.proxy=window.localStorage,_.isFunction($super)&&$super(t)},oldGet:function(t){var a=localStorage.getItem(t),n=a?JSON.parse(a):null;if(n&&n.timeout){var o=new Date,r=e.parse(n.timeout).valueOf();if(n.timeby){if(r-o>=0)return n}else if(r-e.parse(e.format(o,"Y-m-d")).valueOf()>=0)return n;return localStorage.removeItem(t),null}return n},oldSet:function(t,e){localStorage.setItem(t,e)},getExpireTime:function(t){var a=localStorage.getItem(t),n=a?JSON.parse(a):null;return n&&n.timeout?n.timeout:new e(e.getServerDate()).format("Y-m-d")},oldRemove:function(t){localStorage.removeItem(t)}});return n.getInstance=function(){return this.instance?this.instance:this.instance=new this},n.localStorage=n.getInstance(),n});