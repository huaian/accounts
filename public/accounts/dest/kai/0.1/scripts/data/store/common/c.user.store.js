define("data/store/common/c.user.store",["common/c.class.inherit","data/storage/c.local.storage","data/store/c.local.store","../c.session.store","cutil/c.util.common","data/store/common/c.head.store"],function(t,e,r,s,i,n){var o=e.localStorage,a=new t.Class(s,{__propertys__:function(){this.key="USER",this.lifeTime="0.5D"},initialize:function($super,t){_.isFunction($super)&&$super(t)},getUser:function(t){if(!_.isFunction(t)){var e=o.oldGet("USERINFO");return e=e&&e.data||null,e&&this.set(e),e||this.get()}},setUser:function(t){this.set(t);var e=o.getExpireTime("USER"),r={data:t,timeout:e};o.oldSet("USERINFO",JSON.stringify(r))},removeUser:function(){o.oldRemove("USERINFO"),this.remove()},isNonUser:function(){this.getUser();return!1},isLogin:function(){var t=this.getUser();return t&&!!t.Auth},getUserName:function(){var t=this.getUser();return t&&t.UserName},getUserId:function(){var t=this.getUser()||{};return t.UserID||i.getGuid()},getAuth:function(){var t=this.getUser();return t&&t.Auth},setAuth:function(t){var e=this.isLogin(),r=this.getUser()||{};r.Auth=t,r["X-Sso-Token"]=t,r.IsNonUser=e?!1:!0,this.setUser(r)},setThirdParts:function(t){var e=this.isLogin(),r=this.getUser()||{};e&&t&&(r.thirdParts=t,this.setUser(r))},setThirdPartsNon:function(){var t=this.isLogin(),e=this.getUser()||{};t&&(e.thirdParts="",this.setUser(e))},getThirdParts:function(){var t=this.getUser();return t&&t.thirdParts},getThirdPart:function(t){var e=this.getUser();if(t&&e&&e.thirdParts&&e.thirdParts.length>0){var r=e.thirdParts;return _.find(r,function(e){return e.ThirdPartType==t?e:void 0})}},setNonUser:function(t){var e=n.getInstance();e.setAttr("auth",t);var r={};r.Auth=t,r.IsNonUser=!0,this.setUser(r)},setExpireTime:function($super,t){$super(t);var e=this.get(),r={data:e,timeout:t};o.oldSet("USERINFO",JSON.stringify(r))}});return a});