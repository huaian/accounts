define("data/model/c.user.model",["common/c.class.inherit","data/model/c.model","data/store/c.common.store","cutil/c.util.common"],function(t,i,o,r){"use strict";var a=o.UserStore.getInstance(),s=(o.HeadStore.getInstance(),{});return s.NotUserLoginModel=new t.Class(i,{__propertys__:function(){this.url="/html5/Account/NonUserLogin",this.param={},this._abortres={},this.isAbort=!1},initialize:function($super,t){$super(t)},excute:function(t,i,o,r,s){var c=a.getUser();if(c&&c.Auth)return void("function"==typeof t&&t.call(r,a.getUser()));this.isAbort=!1;var n=window.location.host;("localhost"==n||n.match(/\.fat/i))&&(n="m.fat19.qa.nt.ctripcorp.com");var e="http://"+n+this.url,u=function(o){1==o.ServerCode&&o.Data?(a.setUser(o.Data),"function"==typeof t&&t.call(r,o)):"function"==typeof i&&i.call(r)},l=function(){return this.isAbort?("function"==typeof s&&s.call(r),void(this.isAbort=!1)):void("function"==typeof i&&i.apply(r,arguments))};this._abortres=$.ajax({type:"get",url:e,dataType:"json",crossDomain:!0,success:$.proxy(u,this),error:$.proxy(l,this),timeout:25e3})},abort:function(){this.isAbort=!0,this._abortres&&"function"==typeof this._abortres.abort&&this._abortres.abort()}}),s.UserLoginModel=new t.Class(i,{__propertys__:function(){this.param={},this.contentType="jsonp",this.url="CrossDomainGetTicket/ajax/ajaxgetticket.ashx",this._abortres={},this.isAbort=!1},initialize:function($super,t){$super(t)},buildurl:function(){var t=window.location.host,i="accounts.ctrip.com";return t.match(/^m\.ctrip\.com/i)?i="accounts.ctrip.com":t.match(/\.uat\.qa/i)?i="accounts.uat.qa.nt.ctripcorp.com":(t.match(/\.fat/i)||t.match(/\.lpt/i)||t.match(/\.fws/i)||t.match(/^(localhost|172\.16|127\.0)/i))&&(i="accounts.fat49.qa.nt.ctripcorp.com"),["https://",i,"/",this.url].join("")},excute:function(t,i,o,r,a){this.isAbort=!1;var s=this.buildurl(),c=function(o){"0"==o.RetCode&&o.UserData?"function"==typeof t&&t.call(r,o.UserData):"function"==typeof i&&i.call(r)},n=function(){return this.isAbort?("function"==typeof a&&a.call(r),void(this.isAbort=!1)):void("function"==typeof i&&i.apply(r,arguments))};this._abortres=$.ajax({type:"get",url:s,dataType:"jsonp",data:this.param,crossDomain:!0,jsonpCallback:"callbackfn",success:$.proxy(c,this),error:$.proxy(n,this),timeout:5e4})},abort:function(){this.isAbort=!0,this._abortres&&"function"==typeof this._abortres.abort&&this._abortres.abort()}}),s.ThirdPartInfoModel=new t.Class(i,{__propertys__:function(){this.param={},this.url="10448/GetThirdPartMembers.json"},initialize:function($super,t){$super(t),this.baseurl=this.seturl()},seturl:function(){var t=window.location.host,i="/restapi/soa2/",o="m.ctrip.com";return t.match(/^m\.ctrip\.com/i)?o="m.ctrip.com":t.match(/\.uat\.qa/i)?o="gateway.m.uat.qa.nt.ctripcorp.com":t.match(/(\.fws|\.fat|\.lpt|localhost|172\.16|127\.0)/i)&&(o="gateway.m.fws.qa.nt.ctripcorp.com"),{domain:o,path:i}},buildurl:function(){return r.isUrl(this.url)?this.url:[this.protocol,"://",this.baseurl.domain,this.baseurl.path,this.url].join("")}}),s.ClientIdModel=new t.Class(i,{__propertys__:function(){this.param={systemcode:"09",createtype:3},this.method="get",this.url="10290/createclientid"},initialize:function($super,t){$super(t),this.baseurl=this.seturl()},seturl:function(){var t=window.location.host,i="/restapi/soa2/",o="m.ctrip.com",r="http"==this.protocol?!0:!1;return t.match(/^(m|accounts|secure)\.ctrip\.com/i)?o=r?"m.ctrip.com":"sec-m.ctrip.com":t.match(/\.uat\.qa/i)?o="gateway.m.uat.qa.nt.ctripcorp.com":t.match(/(\.fws|\.fat|\.lpt|localhost|172\.16|127\.0)/i)&&(o="gateway.m.fws.qa.nt.ctripcorp.com"),{domain:o,path:i}},buildurl:function(){return r.isUrl(this.url)?this.url:[this.protocol,"://",this.baseurl.domain,this.baseurl.path,this.url].join("")}}),s.GetUserModel=new t.Class(i,{__propertys__:function(){this.param={},this.url="10090/GetUserInfoToH5.json"},initialize:function($super,t){$super(t),this.baseurl=this.seturl()},seturl:function(){var t=window.location.host,i="/restapi/soa2/",o="m.ctrip.com";return t.match(/^m\.ctrip\.com/i)?o="m.ctrip.com":t.match(/\.uat\.qa/i)?o="gateway.m.uat.qa.nt.ctripcorp.com":t.match(/(\.fws|\.fat|\.lpt|localhost|172\.16|127\.0)/i)&&(o="gateway.m.fws.qa.nt.ctripcorp.com"),{domain:o,path:i}},buildurl:function(){return r.isUrl(this.url)?this.url:[this.protocol,"://",this.baseurl.domain,this.baseurl.path,this.url].join("")}}),s});