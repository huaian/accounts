function Element(t){this.tag=t}function DocumentFragment(){}var put,emptyElements={};["base","link","meta","hr","br","wbr","img","embed","param","source","track","area","col","input","keygen","command"].forEach(function(t){emptyElements[t]=!0});var prototype=Element.prototype,currentIndentation="";prototype.nodeType=1,prototype.put=function(){var t=[this];return t.push.apply(t,arguments),put.apply(null,t)},prototype.toString=function(t){var e=this.tag,n=emptyElements[e];if(put.indentation&&!t){var i=currentIndentation;currentIndentation+=put.indentation;var r=("html"==e?"<!DOCTYPE html>\n<html":"\n"+i+"<"+e)+(this.attributes?this.attributes.join(""):"")+(this.className?' class="'+this.className+'"':"")+">"+(this.children?this.children.join(""):"")+(this.mixed||n||!this.children?"":"\n"+i)+(n?"":"</"+e+">");return currentIndentation=i,r}return("html"==this.tag?"<!DOCTYPE html>\n<html":"<"+this.tag)+(this.attributes?this.attributes.join(""):"")+(this.className?' class="'+this.className+'"':"")+">"+(this.children?this.children.join(""):"")+(t||n?"":"</"+e+">")},prototype.sendTo=function(t){function e(o){var a=n(this);a&&t.write(a);o.tag;o.tag?(put.indentation?(t.write("\n"+r+o.toString(!0)),r+=put.indentation):t.write(o.toString(!0)),this.children=!0,i=o,o.pipe=e):t.write(o.toString())}function n(t){for(var e="";i!=t;){if(!i)throw new Error("Can not add to an element that has already been streamed");var n=i.tag,o=emptyElements[n];put.indentation?(r=r.slice(put.indentation.length),o||(e+=(i.mixed||!i.children?"":"\n"+r)+"</"+n+">")):o||(e+="</"+n+">"),i=i.parentNode}return e}"function"==typeof t&&(t={write:t,end:t});var i=this,r="";return e.call(this,this),this.end=function(e){t[e?"write":"end"](n(this)+"\n</"+this.tag+">")},this},prototype.children=!1,prototype.attributes=!1,prototype.insertBefore=function(t,e){if(t.parentNode=this,this.pipe)return this.pipe(t);var n=this.children;if(n||(n=this.children=[]),e)for(var i=0,r=n.length;r>i;i++)if(e==n[i])return t.nextSibling=e,i>0&&(n[i-1].nextSibling=t),n.splice(i,0,t);n.length>0&&(n[n.length-1].nextSibling=t),n.push(t)},prototype.appendChild=function(t){if("string"==typeof t&&(this.mixed=!0),this.pipe)return this.pipe(t);var e=this.children;e||(e=this.children=[]),e.push(t)},prototype.setAttribute=function(t,e,n){var i=this.attributes;i||(i=this.attributes=[]),i.push(" "+t+'="'+e+'"')},prototype.removeAttribute=function(t,e){var n=this.attributes;if(n)for(var i=" "+t+"=",r=i.length,o=0,a=n.length;a>o;o++)if(n[o].slice(0,r)==i)return n.splice(o,1)},Object.defineProperties(prototype,{innerHTML:{get:function(){return this.children.join("")},set:function(t){return this.mixed=!0,this.pipe?this.pipe(t):void(this.children=[t])}}}),DocumentFragment.prototype=new Element,DocumentFragment.prototype.toString=function(){return this.children?this.children.join(""):""};var lessThanRegex=/</g,ampersandRegex=/&/g;module.exports=function(t,e){put=t.exports=e({createElement:function(t){return new Element(t)},createElementNS:function(t,e){return new Element(n[t]+":"+e)},createTextNode:function(t){return("string"==typeof t?t:""+t).replace(lessThanRegex,"&lt;").replace(ampersandRegex,"&amp;")},createDocumentFragment:function(){return new DocumentFragment}},{test:function(){return!1}}),put.indentation="  ",put.Page=function(t){return put("html").sendTo(t)};var n={},i=put.addNamespace;put.addNamespace=function(t,e){n[e]=t,i(t,e)}};