require({cache:{"url:widgets/template/address.html":'<div>\n    <div class="shade" style="display: none"></div>\n    <div class="address-dialog">\n        <div class="toperFix">\n            <!--头部-->\n            <header class="cm-header">\n                <span class="icon-back float-left cm-header-icon"></span>\n                <h2 class="wxTitle">选择城市</h2>\n            </header>\n            <!--头部 结束-->\n        </div>\n        <!--城市列表主体-->\n        <div class="addressMain">\n            <ul class="addressArea province-list">\n                <!--<li data-code="">江苏省</li>-->\n                <!--<li>安徽省</li>-->\n                <!--<li>浙江省</li>-->\n                <!--<li>河北省</li>-->\n                <!--<li>山西省</li>-->\n                <!--<li>江苏省</li>-->\n                <!--<li>安徽省</li>-->\n                <!--<li>浙江省</li>-->\n                <!--<li>河北省</li>-->\n                <!--<li>山西省</li>-->\n                <!--<li>浙江省</li>-->\n                <!--<li>河北省</li>-->\n                <!--<li>山西省</li>-->\n                <!--<li>江苏省</li>-->\n                <!--<li>安徽省</li>-->\n                <!--<li>浙江省</li>-->\n                <!--<li>河北省</li>-->\n                <!--<li>山西省</li>-->\n            </ul>\n            <ul class="addressArea city-list" style="display: none">\n                <!--<li>南京市</li>-->\n                <!--<li>徐州市</li>-->\n                <!--<li>连云港市</li>-->\n                <!--<li>苏州市</li>-->\n                <!--<li>淮安市</li>-->\n                <!--<li>盐城市</li>-->\n            </ul>\n            <ul class="addressArea area-list" style="display: none">\n                <!--<li>玄武区</li>-->\n                <!--<li>白下区</li>-->\n                <!--<li>秦淮区</li>-->\n                <!--<li>建邺区</li>-->\n                <!--<li>鼓楼区</li>-->\n                <!--<li>上关区</li>-->\n            </ul>\n        </div>\n    </div>\n</div>\n\n'}}),define("widgets/address",["dojo/text!./template/address.html"],function(i){return function(t){var e=$(i);t.container.append(e);var l=t.store,s=t.Data,a=t.view,n=t.dataFilter;s.dataFetcher.provinces({cityId:"",cityType:"1"}).then(function(i){var t=[];n&&(t=n(i)||[]),$(".province-list").html("");for(var e=0;e<t.length;e++)$(".province-list").append("<li data-code='"+t[e].citycode+"'>"+t[e].cityname+"</li>")},function(){for(var i=0;i<data.list.length;i++)$(".province-list").append("<li data-code='"+list[i].code+"'>"+list[i].name+"</li>")});var d=$(t.targetNode),c=($(t.targetValueNode),1),r="",o="",h="",f="",v=function(){r=o+h+(f||""),$(".shade").hide(),$(".address-dialog").css("left","100%"),d.val(r),a.vm.$set(t.addressDescName,r),_.delay(function(){d.trigger("blur")},200)};e.find(".shade").click(function(){e.find(".shade").hide(),e.find(".address-dialog").css("left","100%")}),e.on("click",".province-list li",function(){var i=this,e=$(this)[0].dataset.code;c++,o=$(this).text(),l.setAttr(t.provinceName,$(this)[0].dataset.code),a.vm.$set(t.provinceName,e),l.setAttr(t.provinceName+"Desc",$(this).html()),s.dataFetcher.cities({cityId:$(this)[0].dataset.code,cityType:"2"}).then(function(i){var t=[];if(n&&(t=n(i)||[]),!t||t.length<=0)v();else{$(".city-list").html("");for(var e=0;e<t.length;e++)$(".city-list").append("<li data-code='"+t[e].code+"'>"+t[e].name+"</li>")}},function(){for(var i=0;i<data.list.length;i++)$(".city-list").append("<li data-code='"+list[i].code+"'>"+list[i].name+"</li>")}),$(i).parent().hide(),$(".city-list").show(),$(i).parent().css("left","-100%"),$(".city-list").css("left","0")}),e.on("click",".city-list li",function(){var i=$(this)[0].dataset.code;c++,h=$(this).text(),l.setAttr(t.cityName,$(this)[0].dataset.code),a.vm.$set(t.cityName,i),l.setAttr(t.cityName+"Desc",$(this).html()),s.dataFetcher.counties({cityId:$(this)[0].dataset.code,cityType:"3"}).then(function(i){var t=[];if(n&&(t=n(i)),!t||t.length<=0)v();else{$(".area-list").html("");for(var e=0;e<t.length;e++)$(".area-list").append("<li data-code='"+t[e].code+"'>"+t[e].name+"</li>")}},function(){if($(".area-list").html(""),!data.list||data.list.length<=0)v();else for(var i=0;i<data.list.length;i++)$(".area-list").append("<li data-code='"+data.list[i].code+"'>"+data.list[i].name+"</li>")}),$(this).parent().hide(),$(".area-list").show(),$(this).parent().css("left","-100%"),$(".area-list").css("left","0")}),e.on("click",".area-list li",function(){var i=$(this)[0].dataset.code;l.setAttr(t.countyName,$(this)[0].dataset.code),a.vm.$set(t.countyName,i),l.setAttr(t.countyName+"Desc",$(this).html()),f=$(this).text(),v()}),e.on("click",".icon-back",function(){1==c&&($(".shade").hide(),$(".address-dialog").css("left","100%"),c--),2==c&&(r+=$(this).text(),$(".city-list").css("left","-100%"),$(".province-list").show(),$(".province-list").css("left","0"),c--),3==c&&(r+=$(this).text(),$(".area-list").css("left","-100%"),$(".city-list").show(),$(".city-list").css("left","0"),c--)}),e.find(".shade").show(),e.find(".address-dialog").css("left","10%")}});