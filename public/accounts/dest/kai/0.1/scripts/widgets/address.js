require({cache:{"url:widgets/template/address.html":'<div>\n    <div class="shade" style="display: none"></div>\n    <div class="address-dialog">\n        <div class="toperFix">\n            <!--头部-->\n            <header class="cm-header">\n                <span class="icon-back float-left cm-header-icon"></span>\n                <h2 class="wxTitle">选择城市</h2>\n            </header>\n            <!--头部 结束-->\n        </div>\n        <!--城市列表主体-->\n        <div class="addressMain">\n            <ul class="addressArea province-list">\n                <!--<li data-code="">江苏省</li>-->\n                <!--<li>安徽省</li>-->\n                <!--<li>浙江省</li>-->\n                <!--<li>河北省</li>-->\n                <!--<li>山西省</li>-->\n                <!--<li>江苏省</li>-->\n                <!--<li>安徽省</li>-->\n                <!--<li>浙江省</li>-->\n                <!--<li>河北省</li>-->\n                <!--<li>山西省</li>-->\n                <!--<li>浙江省</li>-->\n                <!--<li>河北省</li>-->\n                <!--<li>山西省</li>-->\n                <!--<li>江苏省</li>-->\n                <!--<li>安徽省</li>-->\n                <!--<li>浙江省</li>-->\n                <!--<li>河北省</li>-->\n                <!--<li>山西省</li>-->\n            </ul>\n            <ul class="addressArea city-list" style="display: none">\n                <!--<li>南京市</li>-->\n                <!--<li>徐州市</li>-->\n                <!--<li>连云港市</li>-->\n                <!--<li>苏州市</li>-->\n                <!--<li>淮安市</li>-->\n                <!--<li>盐城市</li>-->\n            </ul>\n            <ul class="addressArea area-list" style="display: none">\n                <!--<li>玄武区</li>-->\n                <!--<li>白下区</li>-->\n                <!--<li>秦淮区</li>-->\n                <!--<li>建邺区</li>-->\n                <!--<li>鼓楼区</li>-->\n                <!--<li>上关区</li>-->\n            </ul>\n        </div>\n    </div>\n</div>\n\n'}}),define("widgets/address",["dojo/text!./template/address.html"],function(t){return function(i){var e=$(t);i.container.append(e);var s=i.store,l=i.Data,a=i.view,n=i.dataFilter;l.dataFetcher.provinces({cityId:"",cityType:"1"}).then(function(t){var i=[];n&&(i=n(t)||[]),$(".province-list").html("");for(var e=0;e<i.length;e++)$(".province-list").append("<li data-code='"+i[e].citycode+"'>"+i[e].cityname+"</li>")},function(){for(var t=0;t<data.list.length;t++)$(".province-list").append("<li data-code='"+list[t].code+"'>"+list[t].name+"</li>")});var c=$(i.targetNode),d=($(i.targetValueNode),1),r="",o="",h="",v="",m=function(){r=o+h+(v||""),$(".shade").hide(),$(".address-dialog").css("left","100%"),c.val(r),a.vm.$set(i.addressDescName,r),_.delay(function(){c.trigger("blur")},200)};e.find(".shade").click(function(){e.find(".shade").hide(),e.find(".address-dialog").css("left","100%")}),e.on("click",".province-list li",function(t){var e=this,c=$(this)[0].dataset.code,r=$(this)[0].innerHTML;d++,o=$(this).text(),s.setAttr(i.provinceName,$(this)[0].dataset.code),a.vm.$set(i.provinceName,c),a.vm.$set(i.provinceNameDesc,r),s.setAttr(i.provinceName+"Desc",$(this).html()),s.setAttr(i.isCountiesList,!1),s.setAttr(i.isCityList,!1),l.dataFetcher.cities({cityId:$(this)[0].dataset.code,cityType:"2"}).then(function(t){var e=[];if(n&&(e=n(t)||[]),a.vm.$set(i.provinceName,""),a.vm.$set(i.provinceNameDesc,""),a.vm.$set(i.cityName,""),a.vm.$set(i.cityNameDesc,""),a.vm.$set(i.countyName,""),a.vm.$set(i.countyNameDesc,""),!e||e.length<=0)m(),s.setAttr(i.isCityList,!0);else{s.setAttr(i.isCityList,!1),$(".city-list").html("");for(var l=0;l<e.length;l++)$(".city-list").append("<li data-code='"+e[l].code+"'>"+e[l].name+"</li>")}a.vm.$set(i.provinceName,c),a.vm.$set(i.provinceNameDesc,r)},function(){!data.list||data.list.length<=0?s.setAttr(i.isCountiesList,!0):s.setAttr(i.isCountiesList,!1);for(var t=0;t<data.list.length;t++)$(".city-list").append("<li data-code='"+list[t].code+"'>"+list[t].name+"</li>")}),$(e).parent().hide(),$(".city-list").show(),$(e).parent().css("left","-100%"),$(".city-list").css("left","0")}),e.on("click",".city-list li",function(){var t=$(this)[0].dataset.code,e=$(this)[0].innerHTML;d++,h=$(this).text(),s.setAttr(i.cityName,$(this)[0].dataset.code),a.vm.$set(i.cityName,t),a.vm.$set(i.cityNameDesc,e),s.setAttr(i.cityName+"Desc",$(this).html()),l.dataFetcher.counties({cityId:$(this)[0].dataset.code,cityType:"3"}).then(function(t){var e=[];if(n&&(e=n(t)),a.vm.$set(i.countyName,""),a.vm.$set(i.countyNameDesc,""),!e||e.length<=0)m(),s.setAttr(i.isCountiesList,!0);else{s.setAttr(i.isCountiesList,!1),$(".area-list").html("");for(var l=0;l<e.length;l++)$(".area-list").append("<li data-code='"+e[l].code+"'>"+e[l].name+"</li>")}},function(){if($(".area-list").html(""),!data.list||data.list.length<=0)m(),s.setAttr(i.isCountiesList,!0);else{s.setAttr(i.isCountiesList,!1);for(var t=0;t<data.list.length;t++)$(".area-list").append("<li data-code='"+data.list[t].code+"'>"+data.list[t].name+"</li>")}}),$(this).parent().hide(),$(".area-list").show(),$(this).parent().css("left","-100%"),$(".area-list").css("left","0")}),e.on("click",".area-list li",function(){var t=$(this)[0].dataset.code,e=$(this)[0].innerHTML;s.setAttr(i.countyName,$(this)[0].dataset.code),a.vm.$set(i.countyName,t),a.vm.$set(i.countyNameDesc,e),s.setAttr(i.countyName+"Desc",$(this).html()),v=$(this).text(),m()}),e.on("click",".icon-back",function(){1==d&&($(".shade").hide(),$(".address-dialog").css("left","100%"),d--),2==d&&(r+=$(this).text(),$(".city-list").css("left","-100%"),$(".province-list").show(),$(".province-list").css("left","0"),d--),3==d&&(r+=$(this).text(),$(".area-list").css("left","-100%"),$(".city-list").show(),$(".city-list").css("left","0"),d--)}),e.find(".shade").show(),e.find(".address-dialog").css("left","10%")}});