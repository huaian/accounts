require({cache:{"url:widgets/template/tiNetToolbar.html":'<div data-dojo-attach-point="containerNode">\r\n  <div style="position:absolute; top:0; left:0; width:200px; height:100px; z-index:99999; background-color:#FFF; display:none;" id="webRtcDiv"></div>\r\n  <div style="position:absolute;left:8px;top:8px;"><!--height:100%;-->\r\n    <table border="0" cellspacing="0" cellpadding="0" style="margin:0;">\r\n      <tr>\r\n        <td align="center"><span style="background:url(\'${baseUrl}pc/res/img/tiNet/tb1.png\') no-repeat; width:24px; height:24px; display:block;" id="statusImg"></span><span id="cnoTime"></span></td>\r\n        <td align="center" id="status" width="40" style="text-align:left;padding-left:2px;">离线</td>\r\n        <td align="left" id="toolbarButton">\r\n          <input placeholder="暂停" type="button" id="pause" style="border:none;width:57px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_zm.png\') no-repeat;display:none;" />\r\n          <input type="button" id="online" style="border:none;width:57px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_zx.png\') no-repeat;display:none;" />\r\n          <!--                <input type="button" class="split"/>-->\r\n          <input type="button" id="answer" value="" style="border:none;width:57px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_link.png\') no-repeat;display:none;" />\r\n          <input type="button" id="unLink" value="" style="border:none;width:57px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_gd.png\') no-repeat;display:none;" />\r\n          <input type="button" id="refused" value="" style="border:none;width:57px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_jj.png\') no-repeat;display:none;" />\r\n          <input type="button" id="hold" value="" style="border:none;width:57px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_bc.png\') no-repeat;display:none;" />\r\n          <input type="button" id="unHold" value="" style="border:none;width:80px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_bcjh.png\') no-repeat;display:none;" />\r\n          <input type="button" id="consult" value="" style="border:none;width:57px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_zixun.png\') no-repeat;display:none;" />\r\n          <input type="button" id="consultBack" value="" style="border:none;width:80px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_zixunjh.png\') no-repeat;display:none;" />\r\n          <input type="button" id="consultTransfer" value="" style="border:none;width:80px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_zixunzj.png\') no-repeat;display:none;" />\r\n          <input type="button" id="consultThreeway" value="" style="border:none;width:80px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_zixunsf.png\') no-repeat; display:none;" />\r\n          <input type="button" id="transfer" value="" style="border:none;width:57px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_zy.png\') no-repeat;display:none;" />\r\n          <input type="button" id="investigation" value="" style="border:none;width:95px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_myddc.png\') no-repeat;display:none;" />\r\n          <!--                <input type="button" class="split"/>-->\r\n          <input type="text" id="phoneCallText" value="" maxlength="60" style="display:inline-block;width:180px;height:28px;line-height:28px;font-family:verdana;border:solid 1px #ddd;vertical-align:top;margin-top:2px;display:none;" />\r\n          <input type="button" id="phoneCallout" value="" style="border:none;width:80px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_wh.png\') no-repeat;display:none;" />\r\n          <input type="button" id="phoneCallCancel" value="" style="border:none;width:80px;height:33px;background:url(\'${baseUrl}pc/res/img/tiNet/toobarBtn_whqx.png\') no-repeat;display:none;" />\r\n          <select id="consultInput" style="display:none;">\r\n            <option value="0">普通电话</option>\r\n            <option value="1">座席号</option>\r\n          </select>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n</div>\r\n'}}),define("widgets/tiNetToolbar",["dijit/layout/ContentPane","dijit/form/_FormMixin","dojo/_base/lang","custom/dijit/CheckTreeSelector","custom/dijit/_WidgetBase","dojo/_base/declare","dijit/registry","dojo/text!./template/tiNetToolbar.html","dojo/on","dijit/form/Select","dijit/form/TextBox","dijit/form/Textarea","dijit/Fieldset","dijit/layout/Container","dijit/Dialog","dijit/form/RadioButton","custom/dijit/form/FilteringSelect","dojox/form/CheckedMultiSelect","dijit/layout/Container","dijit/form/ValidationTextBox"],function(t,n,o,e,i,u,s,a,c){return u([i],{templateString:a,baseClass:"",view:null,widgetData:null,param:null,config:{},initialized:!1,valueObj:null,baseUrl:appPrefx,_getValueAttr:function(){},_setValueAttr:function(t){},postCreate:function(){var t=this;t.inherited(arguments),t.setDictStore(),t.bindEvents(),t.presetData()},presetData:function(){var t=this;t.valueObj&&t.set("value",t.valueObj)},setDictStore:function(){},bindEvents:function(){var t=this;window.cbLogout=function(t){buttType&&(t=JSON.parse(t)),"0"==t.code&&(typeButton.buttonDisabled(),$("#statusImg").css({backgroundPosition:"0px 0px"}),$("#status").text("离线"),document.getElementById("cnoTime")&&clearInterval(document.getElementById("cnoTime").setIntervalCnoTimeId),document.getElementById("cnoTime")&&(document.getElementById("cnoTime").innerHTML=""))},window.cbWelcome=function(t){},window.typeButton={phoneCallout:function(){$("#phoneCallout").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#phoneCallout").unbind("mouseover mouseout click"),$("#phoneCallout").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){var n={};n.tel=$("#phoneCallText").val(),n.callType="3",t.view.model.trigger("alertCustomCallRecordDialog",n.tel)}})},phoneCallText:function(){$("#phoneCallText").attr("disabled",!1),$("#phoneCallText").show(),$("#consultInput").show()},phoneCallCancel:function(){$("#phoneCallCancel").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#phoneCallCancel").unbind("mouseover mouseout click"),$("#phoneCallCancel").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doPreviewOutcallCancel")}})},refused:function(){$("#refused").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#refused").unbind("mouseover mouseout click"),$("#refused").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doRefuse")}})},unLink:function(){$("#unLink").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#unLink").unbind("mouseover mouseout click"),$("#unLink").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doUnLink")}})},hold:function(){$("#hold").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#hold").unbind("mouseover mouseout click"),$("#hold").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doHold")}})},unHold:function(){$("#unHold").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#unHold").unbind("mouseover mouseout click"),$("#unHold").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doUnhold")}})},investigation:function(){$("#investigation").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#investigation").unbind("mouseover mouseout click"),$("#investigation").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doInvestigation")}})},online:function(){$("#online").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#online").unbind("mouseover mouseout click"),$("#online").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doUnpause")}})},pause:function(){$("#pause").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#pause").unbind("mouseover mouseout click"),$("#pause").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){var t={};t.description="置忙",executeAction("doPause",t)}})},buttonDisabled:function(){$("#toolbarButton input").hide(),$("#toolbarButton input").css({backgroundPosition:"0px 0px"}),$("#toolbarButton input").attr("disabled",!0),$("#toolbarButton input").unbind("mouseover mouseout click")},consult:function(){$("#consult").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#consult").unbind("mouseover mouseout click"),$("#consult").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){var t=$("#consultInput").val(),n=$("#phoneCallText").val(),o={};o.consultObject=n,o.objectType=t,executeAction("doConsult",o)}})},consultBack:function(){$("#consultBack").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#consultBack").unbind("mouseover mouseout click"),$("#consultBack").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doUnconsult")}})},consultTransfer:function(){$("#consultTransfer").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#consultTransfer").unbind("mouseover mouseout click"),$("#consultTransfer").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doConsultTransfer")}})},consultThreeway:function(){$("#consultThreeway").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#consultThreeway").unbind("mouseover mouseout click"),$("#consultThreeway").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doConsultThreeway")}})},transfer:function(){$("#transfer").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#transfer").unbind("mouseover mouseout click"),$("#transfer").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){var t=$("#consultInput").val(),n=$("#phoneCallText").val(),o={};o.transferObject=n,o.objectType=t,executeAction("doTransfer",o)}})},answer:function(){"3"==userBasic.getBindType()&&($("#answer").show().attr("disabled",!1).css({backgroundPosition:"0px -33px"}),$("#answer").unbind("mouseover mouseout click"),$("#answer").bind({mouseover:function(){$(this).css({backgroundPosition:"0px -66px"})},mouseout:function(){$(this).css({backgroundPosition:"0px -33px"})},click:function(){executeAction("doLink")}}))}},window.cbThisStatus=function(t){switch(buttType&&(t=JSON.parse(t)),t.eventName){case"outRinging":"ringing"==t.name&&(typeButton.buttonDisabled(),typeButton.phoneCallCancel(),top.CTI_ID=t.uniqueId);break;case"comeRinging":"ringing"==t.name&&(typeButton.buttonDisabled(),typeButton.answer(t),typeButton.refused());break;case"normalBusy":typeButton.buttonDisabled(),typeButton.unLink(),typeButton.hold(),typeButton.investigation(),typeButton.consult(),typeButton.transfer(),$("#phoneCallText").show().attr("disabled",!1);break;case"outBusy":typeButton.buttonDisabled(),typeButton.unLink(),typeButton.hold(),typeButton.investigation(),typeButton.consult(),typeButton.transfer(),$("#phoneCallText").show().attr("disabled",!1);break;case"online":typeButton.buttonDisabled(),typeButton.phoneCallout(),typeButton.phoneCallText(),typeButton.pause();break;case"pause":typeButton.buttonDisabled(),typeButton.phoneCallout(),typeButton.phoneCallText(),typeButton.online();break;case"waitLink":break;case"neatenStart":typeButton.buttonDisabled(),typeButton.online(),typeButton.pause();break;case"neatenEnd":typeButton.buttonDisabled(),typeButton.phoneCallout(),typeButton.phoneCallText();var n=deviceStatus.deviceStatusLoginStatus(t.deviceStatus+t.loginStatus,t.pauseDescription,t.busyDescription);"空闲"==n?typeButton.pause():typeButton.online();break;case"hold":typeButton.buttonDisabled(),typeButton.unLink(),typeButton.unHold(),typeButton.investigation();break;case"unHold":typeButton.buttonDisabled(),typeButton.unLink(),typeButton.hold(),typeButton.investigation(),typeButton.consult();break;case"onlineUnlink":typeButton.buttonDisabled(),typeButton.phoneCallout(),typeButton.phoneCallText(),typeButton.pause();break;case"pauseUnlink":typeButton.buttonDisabled(),typeButton.phoneCallout(),typeButton.phoneCallText(),typeButton.online();break;case"consultLink":$("#consult").hide(),typeButton.consultBack(),typeButton.consultThreeway(),typeButton.consultTransfer(),typeButton.transfer();break;case"consulterOrTransferBusy":typeButton.buttonDisabled(),typeButton.unLink(),typeButton.hold()}var o=deviceStatus.deviceStatusLoginStatus(t.deviceStatus+t.loginStatus,t.pauseDescription,t.busyDescription);""!=o&&$("#status").text(o),"空闲"==o?$("#statusImg").css({backgroundPosition:"0px -25px"}):"离线"==o?$("#statusImg").css({backgroundPosition:"0px 0px"}):$("#statusImg").css({backgroundPosition:"0px -50px"}),"outRinging"==t.eventName||"comeRinging"==t.eventName||"normalBusy"==t.eventName||"outBusy"==t.eventName||"online"==t.eventName||"pause"==t.eventName||"waitLink"==t.eventName||"neatenStart"==t.eventName||"neatenEnd"==t.eventName||"hold"==t.eventName||"unHold"==t.eventName||"consultLink"==t.eventName||"consulterOrTransferBusy"==t.eventName}}})});