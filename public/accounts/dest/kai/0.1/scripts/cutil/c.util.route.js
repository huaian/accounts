define("cutil/c.util.route",["dojo/_base/lang","underscore"],function(e){var i={_getRecursiveRedirectViews:function(i,r,t){var n=_.filter(i,function(e){return e.id!=t&&e.id.indexOf(t+"/")>=0}),c=e.clone(n);return _.each(c,function(e){e.inaccessible=!1,e.redirectView=e.redirectView||e.id,e.id=e.id.replace(t,r),e.parent=e.parent.replace(t,r)}),c||[]},parse:function(e){var i={},r=this;_.each(e,function(i){i.recursiveRedirect&&(e=e.concat(this._getRecursiveRedirectViews(e,i.id,i.redirectView)))},r);for(var t=0;t<e.length;t++){var n=e[t],c=n.parent,o=_.findWhere(e,{id:c});"object"==typeof n&&(""===n.parent?n.postfix=n.viewName:""==n.viewName||(n.needPostfix||n.indexLevel?n.postfix=n.id:n.postfix=o.postfix),i[n.id]=n.id||n.routeName)}return{routes:i,viewCollectionData:e}}};return i});