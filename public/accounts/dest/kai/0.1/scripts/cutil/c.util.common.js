define("cutil/c.util.common",["./c.util.date"],function(e){var t={};$.os="undefined"==typeof Zepto?{}:Zepto.os;var r={};return r.preventAlert=function(){return window._alert?!1:(window._alert=window.alert,void(window.alert=function(e){}))},r.formatFormValue=function(e){var t=[],r=_.keys(e),n=_.values(e),a=_.unzip(n);return _.each(a,function(e){t.push(_.object(r,e))}),t},r.getAgeByIdCardNum=function(e){if(!_.isString(e))throw new Error("idCardNum is not valid");var t=new Date,r=t.getMonth()+1,n=t.getDate();if(18===e.length){var a=t.getFullYear()-e.substring(6,10)-1;(e.substring(10,12)<r||e.substring(10,12)==r&&e.substring(12,14)<=n)&&a++}else if(15===e.length){var a=t.getFullYear()-("19"+e.substring(6,8))-1;(e.substring(8,10)<r||e.substring(8,10)==r&&e.substring(10,12)<=n)&&a++}return a},r.getBirthdayById=function(e){var t,r;if(18==e.length)t=e.substring(6,14);else{if(15!=e.length)return!1;r=e.substring(6,12),t="19"+r}var n=t.substring(0,4)+"-"+t.substring(4,6)+"-"+t.substring(6,8);return n},r.capitalize=function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},r.getSexById=function(e){var t,r;if(18==e.length)t=e.substring(16,17);else{if(15!=e.length)return!1;t=e.substring(14,15)}var n=t%2;return r=0==n?"F":"M"},r.doResponse=function(e,t,r){e&&e.responseStatus?e.responseStatus&&"000000"===e.responseStatus.code?t(e):r({code:e.responseStatus.code,msg:e.responseStatus.msg}):r({msg:"网络异常，请重试"})},r.isChinese=function(e){var t=/^([\u4E00-\u9FA5]|[\uFE30-\uFFA0])*$/gi;return t.test(e)?!0:!1},r.getLength=function(e){var t=0;if("string"==typeof e){for(var r=0;r<e.length;r++)e.charAt(r)>"~"?t+=2:t++;return t}return!1},r.limitValueLength=function(){var e;return function(t,n){var a,o=$(t.target),i=(t.charCode,o[0].tagName.toLowerCase()),s=n.warningNode,u=n.successNode,c=n.commonWarningNode,f=(n.exactCheckFunction,n.exactMatchRegExpression),d=n.partialCheckFunction,p=n.partialMatchRegExpression,g=n.onPartialMatchSuccess||_.noop,h=n.onPartialMatchError||_.noop,l=n.onExactMatchSuccess||_.noop,w=n.onExactMatchError||_.noop,v=n.maxAllowedLength||Number.POSITIVE_INFINITY;c&&(s=c.html(n.warningText)),p=_.isRegExp(p)?n.partialMatchRegExpression:r.partialRegExpressions[n.valueType],f=_.isRegExp(f)?n.exactMatchRegExpression:_.isFunction(f)?n.exactMatchRegExpression:r.exactRegExpressions[n.valueType],a=o.is("input")?o.val():o.html();var A=r.getLength(a),m=t.charCode>255?2:1,y=v-A;if(y>m);else{if(8==t.keyCode||9==t.keyCode||12==t.keyCode||46==t.keyCode)return!0;t.preventDefault()}p&&(p.lastIndex=0),f&&f.test&&f.test(a)?(s&&s.hide(),u&&u.show(),l()):_.isFunction(f)&&f(a)?(s&&s.hide(),u&&u.show(),l()):"blur"==t.type&&(s&&s.show(),u&&u.hide(),w()),v>=A&&(p?p.test(a):!0)&&(d?d(a):!0)?!function(n){var n=n;"blur"==t.type||r.getLength(n)<=v&&e!==n&&(e=n,p&&p.test?p.test(n)?(s&&s.hide(),g&&g()):(s&&s.show(),u&&u.hide(),h&&h()):"function"==typeof p&&(p&&1==p(n)?(s&&s.hide(),g&&g()):(s&&s.show(),u&&u.hide(),h&&h())))}(a):(s&&s.show(),u&&u.hide(),p&&p.test?p.test(a)?g():h():"function"==typeof p&&(p&&1!=p(a),h()),function(e){var e=e;p.test(e)&&("input"==i?(o.val(e),o.attr("value",e)):"div"==i?o.html(e):o.val(e))}(e))}}(),r.checkPassword=function(e){var t=/^[a-zA-Z0-9]{6,20}$/;return t.test(e)?!0:!1},r.checkIdentifyingCode=function(e){var t=/^[a-zA-Z0-9]{6}$/;return t.test(e)?!0:!1},r.checkCellphoneNumber=function(e){var t=/^1[3-9]\d{9}$/;return t.test(e)?!0:!1},r.checkChinese=function(e){var t=/^([\u4E00-\u9FA5]|[\uFE30-\uFFA0])+$/;return t.test(e)?!0:!1},r.checkIdCard=function(e,t){if("string"!=typeof e)return!1;var e,r,n,a,o,i=new Array(!0,!1,!1,!1,!1,!1),s={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},u=new Array;if(u=e.split(""),null==s[parseInt(e.substr(0,2))])return i[4];switch(e.length){case 15:return t&&t.forceEighteen?i[5]:((parseInt(e.substr(6,2))+1900)%4==0||(parseInt(e.substr(6,2))+1900)%100==0&&(parseInt(e.substr(6,2))+1900)%4==0?ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/,ereg.test(e)?i[0]:i[2]);case 18:return parseInt(e.substr(6,4))%4==0||parseInt(e.substr(6,4))%100==0&&parseInt(e.substr(6,4))%4==0?ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/,ereg.test(e)?(a=7*(parseInt(u[0])+parseInt(u[10]))+9*(parseInt(u[1])+parseInt(u[11]))+10*(parseInt(u[2])+parseInt(u[12]))+5*(parseInt(u[3])+parseInt(u[13]))+8*(parseInt(u[4])+parseInt(u[14]))+4*(parseInt(u[5])+parseInt(u[15]))+2*(parseInt(u[6])+parseInt(u[16]))+1*parseInt(u[7])+6*parseInt(u[8])+3*parseInt(u[9]),r=a%11,o="F",n="10X98765432",o=n.substr(r,1),o==u[17]?i[0]:i[3]):i[2];default:return i[1]}},r.partialRegExpressions={idCard:/^\d{0,18}$|\d{17}[x,X]|^\d{0,15}$/,cellphoneNumber:/^$|^1$|^1[3-9]$|^1[3-9]\d{1,9}$/,chinese:/^([\u4E00-\u9FA5]|[\uFE30-\uFFA0])*$/,password:/^[a-zA-Z0-9]{1,20}$|^$/,loginName:/^[a-zA-Z0-9]{1,16}$|^$/,identifyingCode:/^[a-zA-Z0-9]{0,6}$/,bankCardNumber:/^\d{0,19}/,email:/^$|^([a-zA-Z0-9_-])*$|^([a-zA-Z0-9_-])+@$|^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])*$|^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.)$|^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/},r.exactRegExpressions={idCard:r.checkIdCard,cellphoneNumber:/^1[3-9]\d{9}$/,password:/^[a-zA-Z0-9]{6,20}$/,loginName:/^[a-zA-Z0-9]{6,16}$|^$/,chinese:/^([\u4E00-\u9FA5]|[\uFE30-\uFFA0])+$/,identifyingCode:/^[a-zA-Z0-9]{6}$/,bankCardNumber:/\d{16,19}/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,telephoneNumber:/^[0-9-]{3,}$/,chineseName:/^([\u4E00-\u9FA5]|[\uFE30-\uFFA0]){2,}$/},r.Date=e,r.getServerDate=e.getServerDate,r.isInApp=t.isHybrid,r.isSupportPushState=function(){return t.isHybrid?!1:!!(window.history&&window.history.pushState&&window.history.replaceState)}(),r.isPrivateModel=function(){var e="TEST_PRIVATE_MODEL",t=window.localStorage;try{t.setItem(e,1),t.removeItem(e)}catch(r){return!0}return!1}(),r.isExternalLink=function(e){var t=new RegExp(/^mailto:|^tel:|^javascript:/);return t.test(e)},r.weakUpApp=function(e){var t=document.createElement("iframe");t.height=1,t.width=1,t.frameBorder=0,t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",document.body.appendChild(t),r.weakUpApp=function(e){t.src=e},r.weakUpApp(e)},r.createGuid=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function t(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}return t()},r.getGuid=function(){var e=r.getCookie("GUID"),t=window.localStorage;if(e)try{t.setItem("GUID",e)}catch(n){}else e=t.getItem("GUID")||"";return e},r.getCookie=function(e){var t=document.cookie,r="";if(t)for(var n,a,o=t.split("; "),i=0;i<o.length;i++)n=o[i],a=n.indexOf("="),n.substr(0,a)==e&&(r=n.substr(a+1));return r},r.isAndroid=function(){return $.os.android}(),r.isIphone=function(){return $.os.iphone}(),r.isIpad=function(){return $.os.ipad}(),r.isWPhone=function(){return window.navigator.userAgent.indexOf("Windows Phone")>1}(),r.isUrl=function(e){return/^http(s)?:\/\/[A-Za-z0-9\-]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>])*$/.test(e)},r.withdrawKeyboard=function(){document.activeElement.blur()},r.isEmpty=function(e){return!e||_.isString(e)&&!e.trim()},r.JPEGEncoder=function(e){function t(e){var t,r,n,a,o,i,s,u,c,f=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99];for(t=0;64>t;t++)r=m((f[t]*e+50)/100),1>r?r=1:r>255&&(r=255),y[G[t]]=r;for(n=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;64>a;a++)o=m((n[a]*e+50)/100),1>o?o=1:o>255&&(o=255),I[G[a]]=o;for(i=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],s=0,u=0;8>u;u++)for(c=0;8>c;c++)b[s]=1/(8*y[G[s]]*i[u]*i[c]),$[s]=1/(8*I[G[s]]*i[u]*i[c]),s++}function r(e,t){var r,n,a=0,o=0,i=new Array;for(r=1;16>=r;r++){for(n=1;n<=e[r];n++)i[t[o]]=[],i[t[o]][0]=a,i[t[o]][1]=r,o++,a++;a*=2}return i}function n(){E=r(B,j),_=r(X,W),x=r(O,V),F=r(Y,H)}function a(){var e,t,r,n=1,a=2;for(e=1;15>=e;e++){for(t=n;a>t;t++)z[32767+t]=e,C[32767+t]=[],C[32767+t][1]=e,C[32767+t][0]=t;for(r=-(a-1);-n>=r;r++)z[32767+r]=e,C[32767+r]=[],C[32767+r][1]=e,C[32767+r][0]=a-1+r;n<<=1,a<<=1}}function o(){for(var e=0;256>e;e++)L[e]=19595*e,L[e+256>>0]=38470*e,L[e+512>>0]=7471*e+32768,L[e+768>>0]=-11059*e,L[e+1024>>0]=-21709*e,L[e+1280>>0]=32768*e+8421375,L[e+1536>>0]=-27439*e,L[e+1792>>0]=-5329*e}function i(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(N|=1<<M),r--,M--,0>M&&(255==N?(s(255),s(0)):s(N),M=7,N=0)}function s(e){k.push(P[e])}function u(e){s(255&e>>8),s(255&e)}function c(e,t){var r,n,a,o,i,s,u,c,f,d,p,g,h,l,w,v,A,m,y,I,b,$,E,_,x,F,C,z,S,k,N,M,D,R,T,P,L,U,G,B,j,O,V,X,W,Y,H,J,K=0;const q=8,Q=64;for(f=0;q>f;++f)r=e[K],n=e[K+1],a=e[K+2],o=e[K+3],i=e[K+4],s=e[K+5],u=e[K+6],c=e[K+7],d=r+c,p=r-c,g=n+u,h=n-u,l=a+s,w=a-s,v=o+i,A=o-i,m=d+v,y=d-v,I=g+l,b=g-l,e[K]=m+I,e[K+4]=m-I,$=.707106781*(b+y),e[K+2]=y+$,e[K+6]=y-$,m=A+w,I=w+h,b=h+p,E=.382683433*(m-b),_=.5411961*m+E,x=1.306562965*b+E,F=.707106781*I,C=p+F,z=p-F,e[K+5]=z+_,e[K+3]=z-_,e[K+1]=C+x,e[K+7]=C-x,K+=8;for(K=0,f=0;q>f;++f)r=e[K],n=e[K+8],a=e[K+16],o=e[K+24],i=e[K+32],s=e[K+40],u=e[K+48],c=e[K+56],S=r+c,k=r-c,N=n+u,M=n-u,D=a+s,R=a-s,T=o+i,P=o-i,L=S+T,U=S-T,G=N+D,B=N-D,e[K]=L+G,e[K+32]=L-G,j=.707106781*(B+U),e[K+16]=U+j,e[K+48]=U-j,L=P+R,G=R+M,B=M+k,O=.382683433*(L-B),V=.5411961*L+O,X=1.306562965*B+O,W=.707106781*G,Y=k+W,H=k-W,e[K+40]=H+V,e[K+24]=H-V,e[K+8]=Y+X,e[K+56]=Y-X,K++;for(f=0;Q>f;++f)J=e[f]*t[f],Z[f]=J>0?0|J+.5:0|J-.5;return Z}function f(){u(65504),u(16),s(74),s(70),s(73),s(70),s(0),s(1),s(1),s(0),u(1),u(1),s(0),s(0)}function d(e,t){u(65472),u(17),s(8),u(t),u(e),s(3),s(1),s(17),s(0),s(2),s(17),s(1),s(3),s(17),s(1)}function p(){var e,t;for(u(65499),u(132),s(0),e=0;64>e;e++)s(y[e]);for(s(1),t=0;64>t;t++)s(I[t])}function g(){var e,t,r,n,a,o,i,c;for(u(65476),u(418),s(0),e=0;16>e;e++)s(B[e+1]);for(t=0;11>=t;t++)s(j[t]);for(s(16),r=0;16>r;r++)s(O[r+1]);for(n=0;161>=n;n++)s(V[n]);for(s(1),a=0;16>a;a++)s(X[a+1]);for(o=0;11>=o;o++)s(W[o]);for(s(17),i=0;16>i;i++)s(Y[i+1]);for(c=0;161>=c;c++)s(H[c])}function h(){u(65498),u(12),s(3),s(1),s(0),s(2),s(17),s(3),s(17),s(0),s(63),s(0)}function l(e,t,r,n,a){var o,s,u,f,d,p,g,h,l,w,v=a[0],A=a[240];const m=16,y=63,I=64;for(s=c(e,t),u=0;I>u;++u)S[G[u]]=s[u];for(f=S[0]-r,r=S[0],0==f?i(n[0]):(o=32767+f,i(n[z[o]]),i(C[o])),d=63;d>0&&0==S[d];d--);if(0==d)return i(v),r;for(p=1;d>=p;){for(h=p;0==S[p]&&d>=p;++p);if(l=p-h,l>=m){for(g=l>>4,w=1;g>=w;++w)i(A);l=15&l}o=32767+S[p],i(a[(l<<4)+z[o]]),i(C[o]),p++}return d!=y&&i(v),r}function w(){var e,t=String.fromCharCode;for(e=0;256>e;e++)P[e]=t(e)}function v(e){if(0>=e&&(e=1),e>100&&(e=100),U!=e){var r=0;r=50>e?Math.floor(5e3/e):Math.floor(200-2*e),t(r),void(U=e)}}function A(){var t,r=(new Date).getTime();e||(e=50),w(),n(),a(),o(),v(e),void(t=(new Date).getTime()-r)}var m,y,I,b,$,E,_,x,F,C,z,Z,S,k,N,M,D,R,T,P,L,U,G,B,j,O,V,X,W,Y,H;Math.round,m=Math.floor,y=new Array(64),I=new Array(64),b=new Array(64),$=new Array(64),C=new Array(65535),z=new Array(65535),Z=new Array(64),S=new Array(64),k=[],N=0,M=7,D=new Array(64),R=new Array(64),T=new Array(64),P=new Array(256),L=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],X=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250],this.encode=function(e,t){var r,n,a,o,s,c,w,A,m,y,I,C,z,Z,S,P,U,G,B,j,O=(new Date).getTime();for(t&&v(t),k=new Array,N=0,M=7,u(65496),f(),p(),d(e.width,e.height),g(),h(),r=0,n=0,a=0,N=0,M=7,this.encode.displayName="_encode_",o=e.data,s=e.width,c=e.height,w=4*s,m=0;c>m;){for(A=0;w>A;){for(z=w*m+A,Z=z,S=-1,P=0,U=0;64>U;U++)P=U>>3,S=4*(7&U),Z=z+P*w+S,m+P>=c&&(Z-=w*(m+1+P-c)),A+S>=w&&(Z-=A+S-w+4),y=o[Z++],I=o[Z++],C=o[Z++],D[U]=(L[y]+L[I+256>>0]+L[C+512>>0]>>16)-128,R[U]=(L[y+768>>0]+L[I+1024>>0]+L[C+1280>>0]>>16)-128,T[U]=(L[y+1280>>0]+L[I+1536>>0]+L[C+1792>>0]>>16)-128;r=l(D,b,r,E,x),n=l(R,$,n,_,F),a=l(T,$,a,_,F),A+=32}m+=8}return M>=0&&(G=[],G[1]=M+1,G[0]=(1<<M+1)-1,i(G)),u(65497),B="data:image/jpeg;base64,"+btoa(k.join("")),k=[],j=(new Date).getTime()-O,B},A()},r});