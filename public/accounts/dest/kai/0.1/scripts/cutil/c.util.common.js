define("cutil/c.util.common",["./c.util.date"],function(e){var t={};$.os="undefined"==typeof Zepto?{}:Zepto.os;var n={};return n.preventAlert=function(){return window._alert?!1:(window._alert=window.alert,void(window.alert=function(e){}))},n.formatFormValue=function(e){var t=[],n=_.keys(e),r=_.values(e),s=_.unzip(r);return _.each(s,function(e){t.push(_.object(n,e))}),t},n.getAgeByIdCardNum=function(e){if(!_.isString(e))throw new Error("idCardNum is not valid");var t=new Date,n=t.getMonth()+1,r=t.getDate();if(18===e.length){var s=t.getFullYear()-e.substring(6,10)-1;(e.substring(10,12)<n||e.substring(10,12)==n&&e.substring(12,14)<=r)&&s++}else if(15===e.length){var s=t.getFullYear()-("19"+e.substring(6,8))-1;(e.substring(8,10)<n||e.substring(8,10)==n&&e.substring(10,12)<=r)&&s++}return s},n.getBirthdayById=function(e){var t,n;if(18==e.length)t=e.substring(6,14);else{if(15!=e.length)return!1;n=e.substring(6,12),t="19"+n}var r=t.substring(0,4)+"-"+t.substring(4,6)+"-"+t.substring(6,8);return r},n.capitalize=function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},n.getSexById=function(e){var t,n;if(18==e.length)t=e.substring(16,17);else{if(15!=e.length)return!1;t=e.substring(14,15)}var r=t%2;return n=0==r?"F":"M"},n.doResponse=function(e,t,n){e&&e.responseStatus?e.responseStatus&&"000000"===e.responseStatus.code?t(e):n({code:e.responseStatus.code,msg:e.responseStatus.msg}):n({msg:"网络异常，请重试"})},n.isChinese=function(e){var t=/^([\u4E00-\u9FA5]|[\uFE30-\uFFA0])*$/gi;return t.test(e)?!0:!1},n.getLength=function(e){var t=0;if("string"==typeof e){for(var n=0;n<e.length;n++)e.charAt(n)>"~"?t+=2:t++;return t}return!1},n.limitValueLength=function(){var e;return function(t,r){var s,a=$(t.target),i=(t.charCode,a[0].tagName.toLowerCase()),o=r.warningNode,u=r.successNode,c=r.commonWarningNode,p=(r.exactCheckFunction,r.exactMatchRegExpression),d=r.partialCheckFunction,g=r.partialMatchRegExpression,l=r.onPartialMatchSuccess||_.noop,h=r.onPartialMatchError||_.noop,f=r.onExactMatchSuccess||_.noop,v=r.onExactMatchError||_.noop,w=r.maxAllowedLength||Number.POSITIVE_INFINITY;c&&(o=c.html(r.warningText)),g=_.isRegExp(g)?r.partialMatchRegExpression:n.partialRegExpressions[r.valueType],p=_.isRegExp(p)?r.exactMatchRegExpression:_.isFunction(p)?r.exactMatchRegExpression:n.exactRegExpressions[r.valueType],s=a.is("input")?a.val():a.html();var I=n.getLength(s),m=t.charCode>255?2:1,A=w-I;if(A>m);else{if(8==t.keyCode||9==t.keyCode||12==t.keyCode||46==t.keyCode)return!0;t.preventDefault()}g&&(g.lastIndex=0),p&&p.test&&p.test(s)?(o&&o.hide(),u&&u.show(),f()):_.isFunction(p)&&p(s)?(o&&o.hide(),u&&u.show(),f()):"blur"==t.type&&(o&&o.show(),u&&u.hide(),v()),w>=I&&(g?g.test(s):!0)&&(d?d(s):!0)?!function(r){var r=r;"blur"==t.type||n.getLength(r)<=w&&e!==r&&(e=r,g&&g.test?g.test(r)?(o&&o.hide(),l&&l()):(o&&o.show(),u&&u.hide(),h&&h()):"function"==typeof g&&(g&&1==g(r)?(o&&o.hide(),l&&l()):(o&&o.show(),u&&u.hide(),h&&h())))}(s):(o&&o.show(),u&&u.hide(),g&&g.test?g.test(s)?l():h():"function"==typeof g&&(g&&1!=g(s),h()),function(e){var e=e;g.test(e)&&("input"==i?(a.val(e),a.attr("value",e)):"div"==i?a.html(e):a.val(e))}(e))}}(),n.checkPassword=function(e){var t=/^[a-zA-Z0-9]{6,20}$/;return t.test(e)?!0:!1},n.checkIdentifyingCode=function(e){var t=/^[a-zA-Z0-9]{6}$/;return t.test(e)?!0:!1},n.checkCellphoneNumber=function(e){var t=/^1[3-9]\d{9}$/;return t.test(e)?!0:!1},n.checkChinese=function(e){var t=/^([\u4E00-\u9FA5]|[\uFE30-\uFFA0])+$/;return t.test(e)?!0:!1},n.checkIdCard=function(e,t){if("string"!=typeof e)return!1;var e,n,r,s,a,i=new Array(!0,!1,!1,!1,!1,!1),o={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},u=new Array;if(u=e.split(""),null==o[parseInt(e.substr(0,2))])return i[4];switch(e.length){case 15:return t&&t.forceEighteen?i[5]:((parseInt(e.substr(6,2))+1900)%4==0||(parseInt(e.substr(6,2))+1900)%100==0&&(parseInt(e.substr(6,2))+1900)%4==0?ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/,ereg.test(e)?i[0]:i[2]);case 18:return parseInt(e.substr(6,4))%4==0||parseInt(e.substr(6,4))%100==0&&parseInt(e.substr(6,4))%4==0?ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/,ereg.test(e)?(s=7*(parseInt(u[0])+parseInt(u[10]))+9*(parseInt(u[1])+parseInt(u[11]))+10*(parseInt(u[2])+parseInt(u[12]))+5*(parseInt(u[3])+parseInt(u[13]))+8*(parseInt(u[4])+parseInt(u[14]))+4*(parseInt(u[5])+parseInt(u[15]))+2*(parseInt(u[6])+parseInt(u[16]))+1*parseInt(u[7])+6*parseInt(u[8])+3*parseInt(u[9]),n=s%11,a="F",r="10X98765432",a=r.substr(n,1),a==u[17]?i[0]:i[3]):i[2];default:return i[1]}},n.partialRegExpressions={idCard:/^\d{0,18}$|\d{17}[x,X]|^\d{0,15}$/,cellphoneNumber:/^$|^1$|^1[3-9]$|^1[3-9]\d{1,9}$/,chinese:/^([\u4E00-\u9FA5]|[\uFE30-\uFFA0])*$/,password:/^[a-zA-Z0-9]{1,20}$|^$/,loginName:/^[a-zA-Z0-9]{1,16}$|^$/,identifyingCode:/^[a-zA-Z0-9]{0,6}$/,bankCardNumber:/^\d{0,19}/,email:/^$|^([a-zA-Z0-9_-])*$|^([a-zA-Z0-9_-])+@$|^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])*$|^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.)$|^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/},n.exactRegExpressions={idCard:n.checkIdCard,cellphoneNumber:/^1[3-9]\d{9}$/,password:/^[a-zA-Z0-9]{6,20}$/,loginName:/^[a-zA-Z0-9]{6,16}$|^$/,chinese:/^([\u4E00-\u9FA5]|[\uFE30-\uFFA0])+$/,identifyingCode:/^[a-zA-Z0-9]{6}$/,bankCardNumber:/\d{16,19}/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,telephoneNumber:/^[0-9-]{3,}$/,chineseName:/^([\u4E00-\u9FA5]|[\uFE30-\uFFA0]){2,}$/},n.Date=e,n.getServerDate=e.getServerDate,n.isInApp=t.isHybrid,n.isSupportPushState=function(){return t.isHybrid?!1:!!(window.history&&window.history.pushState&&window.history.replaceState)}(),n.isPrivateModel=function(){var e="TEST_PRIVATE_MODEL",t=window.localStorage;try{t.setItem(e,1),t.removeItem(e)}catch(n){return!0}return!1}(),n.isExternalLink=function(e){var t=new RegExp(/^mailto:|^tel:|^javascript:/);return t.test(e)},n.weakUpApp=function(e){var t=document.createElement("iframe");t.height=1,t.width=1,t.frameBorder=0,t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",document.body.appendChild(t),n.weakUpApp=function(e){t.src=e},n.weakUpApp(e)},n.createGuid=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function t(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}return t()},n.getGuid=function(){var e=n.getCookie("GUID"),t=window.localStorage;if(e)try{t.setItem("GUID",e)}catch(r){}else e=t.getItem("GUID")||"";return e},n.getCookie=function(e){var t=document.cookie,n="";if(t)for(var r,s,a=t.split("; "),i=0;i<a.length;i++)r=a[i],s=r.indexOf("="),r.substr(0,s)==e&&(n=r.substr(s+1));return n},n.isAndroid=function(){return $.os.android}(),n.isIphone=function(){return $.os.iphone}(),n.isIpad=function(){return $.os.ipad}(),n.isWPhone=function(){return window.navigator.userAgent.indexOf("Windows Phone")>1}(),n.isUrl=function(e){return/^http(s)?:\/\/[A-Za-z0-9\-]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>])*$/.test(e)},n.withdrawKeyboard=function(){document.activeElement.blur()},n.isEmpty=function(e){return!e||_.isString(e)&&!e.trim()},n});