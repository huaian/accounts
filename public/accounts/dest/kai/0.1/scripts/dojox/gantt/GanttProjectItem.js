define("dojox/gantt/GanttProjectItem",["./GanttTaskItem","dojo/_base/declare","./GanttProjectControl","dojo/domReady!"],function(t,s){return s("dojox.gantt.GanttProjectItem",[t],{constructor:function(t){this.id=t.id,this.name=t.name||this.id,this.startDate=t.startDate||new Date,this.parentTasks=[]},getTaskById:function(t){for(var s=0;s<this.parentTasks.length;s++){var a=this.parentTasks[s],e=this.getTaskByIdInTree(a,t);if(e)return e}return null},getTaskByIdInTree:function(t,s){if(t.id==s)return t;for(var a=0;a<t.cldTasks.length;a++){var e=t.cldTasks[a];if(e.id==s)return e;if(e.cldTasks.length>0&&e.cldTasks.length>0){var n=this.getTaskByIdInTree(e,s);if(n)return n}}return null},addTask:function(t){this.parentTasks.push(t),t.setProject(this)},deleteTask:function(t){var s=this.getTaskById(t);if(s)if(s.parentTask)for(var a=s.parentTask,e=0;e<a.cldTasks.length;e++){var n=a.cldTasks[e];if(n.id==t){n.nextChildTask?n.previousChildTask?(n.previousChildTask.nextChildTask=n.nextChildTask,n.nextChildTask.previousChildTask=n.previousChildTask):n.nextChildTask.previousChildTask=null:n.previousChildTask&&(n.previousChildTask.nextChildTask=null),n=null,a.cldTasks.splice(e,1);break}}else for(var e=0;e<this.parentTasks.length;e++){var r=this.parentTasks[e];if(r.id==t){r.nextParentTask?r.previousParentTask?(r.previousParentTask.nextParentTask=r.nextParentTask,r.nextParentTask.previousParentTask=r.previousParentTask):r.nextParentTask.previousParentTask=null:r.previousParentTask&&(r.previousParentTask.nextParentTask=null),r=null,this.parentTasks.splice(e,1);break}}}})});