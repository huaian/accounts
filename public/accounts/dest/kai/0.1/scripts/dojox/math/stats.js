define("dojox/math/stats",["dojo","../main"],function(t,n){t.getObject("math.stats",!0,n);var r=n.math.stats;return t.mixin(r,{sd:function(t){return Math.sqrt(r.variance(t))},variance:function(n){var r=0,a=0;return t.forEach(n,function(t){r+=t,a+=Math.pow(t,2)}),a/n.length-Math.pow(r/n.length,2)},bestFit:function(n,r,a){r=r||"x",a=a||"y",void 0!==n[0]&&"number"==typeof n[0]&&(n=t.map(n,function(t,n){return{x:n,y:t}}));for(var o,e=0,i=0,u=0,h=0,c=0,f=0,s=0,m=n.length,p=0;m>p;p++)e+=n[p][r],i+=n[p][a],u+=Math.pow(n[p][r],2),h+=Math.pow(n[p][a],2),c+=n[p][r]*n[p][a];for(p=0;m>p;p++)o=n[p][r]-e/m,f+=o*o,s+=o*n[p][a];var l=s/(f||1),v=Math.sqrt((u-Math.pow(e,2)/m)*(h-Math.pow(i,2)/m));if(0===v)throw new Error("dojox.math.stats.bestFit: the denominator for Pearson's R is 0.");var M=(c-e*i/m)/v,d=Math.pow(M,2);return 0>l&&(M=-M),{slope:l,intercept:(i-e*l)/(m||1),r:M,r2:d}},forecast:function(t,n,a,o){var e=r.bestFit(t,a,o);return e.slope*n+e.intercept},mean:function(n){var r=0;return t.forEach(n,function(t){r+=t}),r/Math.max(n.length,1)},min:function(t){return Math.min.apply(null,t)},max:function(t){return Math.max.apply(null,t)},median:function(t){var n=t.slice(0).sort(function(t,n){return t-n});return(n[Math.floor(t.length/2)]+n[Math.ceil(t.length/2)])/2},mode:function(n){var r={},a=0,o=Number.MIN_VALUE;t.forEach(n,function(t){void 0!==r[t]?r[t]++:r[t]=1});for(var e in r)o<r[e]&&(o=r[e],a=e);return a},sum:function(n){var r=0;return t.forEach(n,function(t){r+=t}),r},approxLin:function(t,n){var r=n*(t.length-1),a=Math.ceil(r),o=a-1;return 0>o?t[0]:a>=t.length?t[t.length-1]:t[o]*(a-r)+t[a]*(r-o)},summary:function(t,n){n||(t=t.slice(0),t.sort(function(t,n){return t-n}));var a=r.approxLin,o={min:t[0],p25:a(t,.25),med:a(t,.5),p75:a(t,.75),max:t[t.length-1],p10:a(t,.1),p90:a(t,.9)};return o}}),n.math.stats});