define("dojox/mobile/app/AlertDialog",["dojo","dijit","dojox","dojo/require!dijit/_WidgetBase"],function(t,e,o){t.provide("dojox.mobile.app.AlertDialog"),t.experimental("dojox.mobile.app.AlertDialog"),t.require("dijit._WidgetBase"),t.declare("dojox.mobile.app.AlertDialog",e._WidgetBase,{title:"",text:"",controller:null,buttons:null,defaultButtonLabel:"OK",onChoose:null,constructor:function(){this.onClick=t.hitch(this,this.onClick),this._handleSelect=t.hitch(this,this._handleSelect)},buildRendering:function(){this.domNode=t.create("div",{"class":"alertDialog"});var e=t.create("div",{"class":"alertDialogBody"},this.domNode);t.create("div",{"class":"alertTitle",innerHTML:this.title||""},e),t.create("div",{"class":"alertText",innerHTML:this.text||""},e);var i=t.create("div",{"class":"alertBtns"},e);this.buttons&&0!=this.buttons.length||(this.buttons=[{label:this.defaultButtonLabel,value:"ok","class":"affirmative"}]);var n=this;t.forEach(this.buttons,function(e){var s=new o.mobile.Button({btnClass:e["class"]||"",label:e.label});s._dialogValue=e.value,t.place(s.domNode,i),n.connect(s,"onClick",n._handleSelect)});var s=this.controller.getWindowSize();this.mask=t.create("div",{"class":"dialogUnderlayWrapper",innerHTML:'<div class="dialogUnderlay"></div>',style:{width:s.w+"px",height:s.h+"px"}},this.controller.assistant.domNode),this.connect(this.mask,"onclick",function(){n.onChoose&&n.onChoose(),n.hide()})},postCreate:function(){this.subscribe("/dojox/mobile/app/goback",this._handleSelect)},_handleSelect:function(t){var o;if(t&&t.target)for(o=t.target;!e.byNode(o);)o=o.parentNode;this.onChoose&&this.onChoose(o?e.byNode(o)._dialogValue:void 0),this.hide()},show:function(){this._doTransition(1)},hide:function(){this._doTransition(-1)},_doTransition:function(e){var o,i=t.marginBox(this.domNode.firstChild).h,n=this.controller.getWindowSize().h,s=n-i,a=n,l=t.fx.slideTo({node:this.domNode,duration:400,top:{start:0>e?s:a,end:0>e?a:s}}),d=t[0>e?"fadeOut":"fadeIn"]({node:this.mask,duration:400}),o=t.fx.combine([l,d]),r=this;t.connect(o,"onEnd",this,function(){0>e&&(r.domNode.style.display="none",t.destroy(r.domNode),t.destroy(r.mask))}),o.play()},destroy:function(){this.inherited(arguments),t.destroy(this.mask)},onClick:function(){}})});