define("dojox/app/utils/hash",["dojo/_base/lang"],function(r){var n={getParams:function(r){var t;if(r&&r.length){for(;r.indexOf("(")>0;){var a=r.indexOf("("),e=r.indexOf(")"),i=r.substring(a,e+1);t||(t={}),t=n.getParamObj(t,i);var s=i.substring(1,i.indexOf("&"));r=r.replace(i,s)}for(var f=r.split("&"),g=0;g<f.length;g++){var u=f[g].split("="),l=u[0],c=encodeURIComponent(u[1]||"");l&&c&&(t||(t={}),t[l]=c)}}return t},getParamObj:function(r,n){for(var t,a=n.substring(1,n.indexOf("&")),e=n.substring(n.indexOf("&"),n.length-1),i=e.split("&"),s=0;s<i.length;s++){var f=i[s].split("="),g=f[0],u=encodeURIComponent(f[1]||"");g&&u&&(t||(t={}),t[g]=u)}return r[a]=t,r},buildWithParams:function(t,a){"#"!==t.charAt(0)&&(t="#"+t);for(var e in a){var i=a[e];r.isObject(i)?t=n.addViewParams(t,e,i):e&&null!=i&&(t=t+"&"+e+"="+a[e])}return t},addViewParams:function(r,t,a){"#"!==r.charAt(0)&&(r="#"+r);var e=r.indexOf(t);if(e>0&&!("#"!=r.charAt(e-1)&&"+"!=r.charAt(e-1)||"&"!=r.charAt(e+t.length)&&"+"!=r.charAt(e+t.length)&&"-"!=r.charAt(e+t.length))){var i=r.substring(e-1,e+t.length+1),s=n.getParamString(a),f=r.charAt(e-1)+"("+t+s+")"+r.charAt(e+t.length);r=r.replace(i,f)}return r},getParamString:function(r){var n="";for(var t in r){var a=r[t];t&&null!=a&&(n=n+"&"+t+"="+r[t])}return n},getTarget:function(r,n){for(n||(n="");r.indexOf("(")>0;){var t=r.indexOf("("),a=r.indexOf(")"),e=r.substring(t,a+1),i=e.substring(1,e.indexOf("&"));r=r.replace(e,i)}return((r&&"#"==r.charAt(0)?r.substr(1):r)||n).split("&")[0]}};return n});