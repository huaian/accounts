define("dojox/charting/plot2d/commonStacked",["dojo/_base/lang","./common"],function(a,n){var t=a.getObject("dojox.charting.plot2d.commonStacked",!0);return a.mixin(t,{collectStats:function(e){for(var l=a.delegate(n.defaultStats),o=0;o<e.length;++o)for(var r=e[o],d=0;d<r.data.length;d++){var u,i;null!==r.data[d]&&("number"!=typeof r.data[d]&&r.data[d].hasOwnProperty("x")?(u=r.data[d].x,null!==u&&(i=t.getValue(e,o,u)[0],i=null!=i&&i.y?i.y:null)):(i=t.getIndexValue(e,o,d)[0],u=d+1),l.hmin=Math.min(l.hmin,u),l.hmax=Math.max(l.hmax,u),l.vmin=Math.min(l.vmin,i),l.vmax=Math.max(l.vmax,i))}return l},getIndexValue:function(a,n,t){var e,l,o,r=0;for(l=0;n>=l;++l)a[l].hidden||(o=r,e=a[l].data[t],null!=e&&(isNaN(e)&&(e=e.y||0),r+=e));return[r,o]},getValue:function(a,n,t){var e,l,o,r,d=null;for(e=0;n>=e;++e)if(!a[e].hidden)for(l=0;l<a[e].data.length;l++)if(r=d,o=a[e].data[l],null!==o){if(o.x==t){d||(d={x:t}),null!=o.y&&(null==d.y&&(d.y=0),d.y+=o.y);break}if(o.x>t)break}return[d,r]}})});