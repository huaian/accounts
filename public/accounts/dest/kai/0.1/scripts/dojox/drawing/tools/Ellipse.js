define("dojox/drawing/tools/Ellipse",["dojo/_base/lang","../util/oo","../manager/_registry","../stencil/Ellipse"],function(i,t,s,e){var o=t.declare(e,function(){},{draws:!0,onDrag:function(i){var t=i.start,s=i,e=t.x<s.x?t.x:s.x,o=t.y<s.y?t.y:s.y,n=t.x<s.x?s.x-t.x:t.x-s.x,a=t.y<s.y?s.y-t.y:t.y-s.y;this.keys.shift&&(n=a=Math.max(n,a)),this.keys.alt?(0>o-a&&(a=o),0>e-n&&(n=e)):(e+=n/2,o+=a/2,n/=2,a/=2),this.points=[{x:e-n,y:o-a},{x:e+n,y:o-a},{x:e+n,y:o+a},{x:e-n,y:o+a}],this.render()},onUp:function(i){if(!this.created&&this._downOnCanvas){if(this._downOnCanvas=!1,this.shape){var t=this.pointsToData();if(2*t.rx<this.minimumSize&&2*t.ry<this.minimumSize)return void this.remove(this.shape,this.hit)}else{var s=i.start,e=2*this.minimumSize;this.data={cx:s.x+e,cy:s.y+e,rx:e,ry:e},this.dataToPoints(),this.render()}this.onRender(this)}}});return i.setObject("dojox.drawing.tools.Ellipse",o),o.setup={name:"dojox.drawing.tools.Ellipse",tooltip:"Ellipse Tool",iconClass:"iconEllipse"},s.register(o.setup,"tool"),o});