define("dojox/widget/rotator/ThumbnailController",["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/event","dojo/aspect","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/query"],function(o,t,e,r,n,a,d,i,s){var l="dojoxRotatorThumb",c=l+"Selected";return o("dojox.widget.rotator.ThumbnailController",null,{rotator:null,constructor:function(o,t){e.mixin(this,o),this._domNode=t;var d=this.rotator;if(d){for(;t.firstChild;)t.removeChild(t.firstChild);for(var s=0;s<d.panes.length;s++){var h=d.panes[s].node,m=a.get(h,"thumbsrc")||a.get(h,"src"),f=a.get(h,"alt")||"";/img/i.test(h.tagName)&&!function(o){i.create("a",{classname:l+" "+l+o+" "+(o==d.idx?c:""),href:m,onclick:function(t){r.stop(t),d&&d.control.apply(d,["go",o])},title:f,innerHTML:'<img src="'+m+'" alt="'+f+'"/>'},t)}(s)}n.after(d,"onUpdate",e.hitch(this,"_onUpdate"),!0)}},destroy:function(){i.destroy(this._domNode)},_onUpdate:function(o){var t=this.rotator;if("onAfterTransition"==o){var e=s("."+l,this._domNode).removeClass(c);t.idx<e.length&&d.add(e[t.idx],c)}}})});