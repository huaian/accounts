require({cache:{"url:dojox/calc/templates/Grapher.html":'<div>\n<div data-dojo-attach-point="chartsParent" class="dojoxCalcChartHolder"></div>\n<div data-dojo-attach-point="outerDiv">\n<div data-dojo-type="dijit.form.DropDownButton" data-dojo-attach-point="windowOptions" class="dojoxCalcDropDownForWindowOptions" title="Window Options">\n	<div>Window Options</div>\n	<div data-dojo-type="dijit.TooltipDialog" data-dojo-attach-point="windowOptionsInside" class="dojoxCalcTooltipDialogForWindowOptions" title="">\n		<table class="dojoxCalcGraphOptionTable">\n			<tr>\n				<td>\n					Width:\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphWidth" class="dojoxCalcGraphWidth" value="500" />\n				</td>\n				<td>\n					Height:\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphHeight" class="dojoxCalcGraphHeight" value="500" />\n				</td>\n			</tr>\n			<tr>\n				<td>\n					X >=\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMinX" class="dojoxCalcGraphMinX" value="-10" />\n				</td>\n\n				<td>\n					X <=\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMaxX" class="dojoxCalcGraphMaxX" value="10" />\n				</td>\n			</tr>\n			<tr>\n				<td>\n					Y >=\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMinY" class="dojoxCalcGraphMinY" value="-10" />\n				</td>\n\n				<td>\n					Y <=\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMaxY" class="dojoxCalcGraphMaxY" value="10" />\n				</td>\n			</tr>\n		</table>\n	</div>\n</div>\n\n<BR>\n\n<div class="dojoxCalcGrapherFuncOuterDiv">\n	<table class="dojoxCalcGrapherFuncTable" data-dojo-attach-point="graphTable">\n	</table>\n</div>\n\n<div data-dojo-type="dijit.form.DropDownButton" data-dojo-attach-point=\'addFuncButton\' class="dojoxCalcDropDownAddingFunction">\n	<div>Add Function</div>\n	<div data-dojo-type="dijit.TooltipDialog" data-dojo-attach-point="addFuncInside" class="dojoxCalcTooltipDialogAddingFunction" title="">\n		<table class="dojoxCalcGrapherModeTable">\n			<tr>\n				<td>\n					Mode:\n				</td>\n				<td>\n					<select data-dojo-type="dijit.form.Select" data-dojo-attach-point="funcMode" class="dojoxCalcFunctionModeSelector">\n						<option value="y=" selected="selected">y=</option>\n						<option value="x=">x=</option>\n					</select>\n				</td>\n				<td>\n			</tr>\n	\n			<tr>\n				<td>\n					<input data-dojo-type="dijit.form.Button" data-dojo-attach-point="createFunc" class="dojoxCalcAddFunctionButton" label="Create" />\n				</td>\n			</tr>\n		</table>\n	</div>\n</div>\n<BR>\n<BR>\n<table class="dijitInline dojoxCalcGrapherLayout">\n	<tr>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'selectAllButton\' label="Select All" />\n		</td>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'deselectAllButton\' label="Deselect All" />\n		</td>\n	</tr>\n	<tr>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'drawButton\'label="Draw Selected" />\n		</td>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'eraseButton\' label="Erase Selected" />\n		</td>\n	</tr>\n	<tr>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'deleteButton\' label="Delete Selected" />\n		</td>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'closeButton\' label="Close" />\n		</td>\n	</tr>\n</table>\n</div>\n</div>\n'}}),define("dojox/calc/Grapher",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dijit/_WidgetBase","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","dojox/math/_base","dijit/registry","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/CheckBox","dijit/ColorPalette","dojox/charting/Chart","dojox/charting/axis2d/Default","dojox/charting/plot2d/Default","dojox/charting/plot2d/Lines","dojox/charting/themes/Tufte","dojo/colors","dojo/text!./templates/Grapher.html","dojox/calc/_Executor","dijit/form/Button","dijit/form/Select"],function(t,e,o,a,n,i,r,d,s,h,l,c,u,p,x,j,f,g,C,y,v,m,b,w){var B=1e-15/9,I=1e200,k=Math.log(2),D={graphNumber:0,fOfX:!0,color:{stroke:"black"}},M=t("dojox.calc.Grapher",[r,s,d],{templateString:b,addXYAxes:function(t){return t.addAxis("x",{max:parseInt(this.graphMaxX.get("value")),min:parseInt(this.graphMinX.get("value")),majorLabels:!0,minorLabels:!0,minorTicks:!1,microTicks:!1,htmlLabels:!0,labelFunc:function(t){return t},maxLabelSize:30,fixUpper:"major",fixLower:"major",majorTick:{length:3}}).addAxis("y",{max:parseInt(this.graphMaxY.get("value")),min:parseInt(this.graphMinY.get("value")),labelFunc:function(t){return t},maxLabelSize:50,vertical:!0,microTicks:!1,minorTicks:!0,majorTick:{stroke:"black",length:3}})},selectAll:function(){for(var t=0;t<this.rowCount;t++)this.array[t][this.checkboxIndex].set("checked",!0)},deselectAll:function(){for(var t=0;t<this.rowCount;t++)this.array[t][this.checkboxIndex].set("checked",!1)},drawOne:function(t){},onDraw:function(){},erase:function(t){for(var e=0,o="Series "+this.array[t][this.funcNumberIndex]+"_"+e;o in this.array[t][this.chartIndex].runs;)this.array[t][this.chartIndex].removeSeries(o),e++,o="Series "+this.array[t][this.funcNumberIndex]+"_"+e;this.array[t][this.chartIndex].render(),this.setStatus(t,"Hidden")},onErase:function(){for(var t=0;t<this.rowCount;t++)this.array[t][this.checkboxIndex].get("checked")&&this.erase(t)},onDelete:function(){for(var t=0;t<this.rowCount;t++)if(this.array[t][this.checkboxIndex].get("checked")){this.erase(t);for(var e=0;e<this.functionRef;e++)this.array[t][e]&&this.array[t][e].destroy&&this.array[t][e].destroy();this.graphTable.deleteRow(t),this.array.splice(t,1),this.rowCount--,t--}},checkboxIndex:0,functionMode:1,expressionIndex:2,colorIndex:3,dropDownIndex:4,tooltipIndex:5,colorBoxFieldsetIndex:6,statusIndex:7,chartIndex:8,funcNumberIndex:9,evaluatedExpression:10,functionRef:11,createFunction:function(){var t=this.graphTable.insertRow(-1);this.array[t.rowIndex]=[];var r=t.insertCell(-1),d=a.create("div");r.appendChild(d);var s=new x({},d);this.array[t.rowIndex][this.checkboxIndex]=s,n.add(d,"dojoxCalcCheckBox"),r=t.insertCell(-1);var h=this.funcMode.get("value");d=o.doc.createTextNode(h),r.appendChild(d),this.array[t.rowIndex][this.functionMode]=h,r=t.insertCell(-1),d=a.create("div"),r.appendChild(d);var l=new p({},d);this.array[t.rowIndex][this.expressionIndex]=l,n.add(d,"dojoxCalcExpressionBox");var f=a.create("div"),g=new j({changedColor:this.changedColor},f);n.add(f,"dojoxCalcColorPalette"),this.array[t.rowIndex][this.colorIndex]=g;var C=a.create("div"),y=new u({content:g},C);this.array[t.rowIndex][this.tooltipIndex]=y,n.add(C,"dojoxCalcContainerOfColor"),r=t.insertCell(-1),d=a.create("div"),r.appendChild(d);var v=a.create("fieldset");i.set(v,{backgroundColor:"black",width:"1em",height:"1em",display:"inline"}),this.array[t.rowIndex][this.colorBoxFieldsetIndex]=v;var m=new c({label:"Color ",dropDown:y},d);m.containerNode.appendChild(v),this.array[t.rowIndex][this.dropDownIndex]=m,n.add(d,"dojoxCalcDropDownForColor"),r=t.insertCell(-1),d=a.create("fieldset"),d.innerHTML="Hidden",this.array[t.rowIndex][this.statusIndex]=d,n.add(d,"dojoxCalcStatusBox"),r.appendChild(d),d=a.create("div"),i.set(d,{position:"absolute",left:"0px",top:"0px"}),this.chartsParent.appendChild(d),this.array[t.rowIndex][this.chartNodeIndex]=d,n.add(d,"dojoxCalcChart");var b=new dojox.charting.Chart(d).setTheme(dojox.charting.themes.Tufte).addPlot("default",{type:"Lines",shadow:{dx:1,dy:1,width:2,color:[0,0,0,.3]}});this.addXYAxes(b),this.array[t.rowIndex][this.chartIndex]=b,g.set("chart",b),g.set("colorBox",v),g.set("onChange",e.hitch(g,"changedColor")),this.array[t.rowIndex][this.funcNumberIndex]=this.funcNumber++,this.rowCount++},setStatus:function(t,e){this.array[t][this.statusIndex].innerHTML=e},changedColor:function(){for(var t=this.get("chart"),e=this.get("colorBox"),o=0;o<t.series.length;o++)t.series[o].stroke&&t.series[o].stroke.color&&(t.series[o].stroke.color=this.get("value"),t.dirty=!0);t.render(),i.set(e,{backgroundColor:this.get("value")})},makeDirty:function(){this.dirty=!0},checkDirty1:function(){setTimeout(e.hitch(this,"checkDirty"),0)},checkDirty:function(){if(this.dirty){for(var t=0;t<this.rowCount;t++)this.array[t][this.chartIndex].removeAxis("x"),this.array[t][this.chartIndex].removeAxis("y"),this.addXYAxes(this.array[t][this.chartIndex]);this.onDraw()}this.dirty=!1},postCreate:function(){this.inherited(arguments),this.createFunc.set("onClick",e.hitch(this,"createFunction")),this.selectAllButton.set("onClick",e.hitch(this,"selectAll")),this.deselectAllButton.set("onClick",e.hitch(this,"deselectAll")),this.drawButton.set("onClick",e.hitch(this,"onDraw")),this.eraseButton.set("onClick",e.hitch(this,"onErase")),this.deleteButton.set("onClick",e.hitch(this,"onDelete")),this.dirty=!1,this.graphWidth.set("onChange",e.hitch(this,"makeDirty")),this.graphHeight.set("onChange",e.hitch(this,"makeDirty")),this.graphMaxX.set("onChange",e.hitch(this,"makeDirty")),this.graphMinX.set("onChange",e.hitch(this,"makeDirty")),this.graphMaxY.set("onChange",e.hitch(this,"makeDirty")),this.graphMinY.set("onChange",e.hitch(this,"makeDirty")),this.windowOptionsInside.set("onClose",e.hitch(this,"checkDirty1")),this.funcNumber=0,this.rowCount=0,this.array=[]},startup:function(){this.inherited(arguments);var t=l.getEnclosingWidget(this.domNode.parentNode);t&&"function"==typeof t.close?this.closeButton.set("onClick",e.hitch(t,"close")):i.set(this.closeButton.domNode,{display:"none"}),this.createFunction(),this.array[0][this.checkboxIndex].set("checked",!0),this.onDraw(),this.erase(0),this.array[0][this.expressionIndex].value=""}});return e.mixin(w,{draw:function(t,o,a){a=e.mixin({},D,a),t.fullGeometry();var n,i,r;1==a.fOfX?(n="x",i="y",r=w.generatePoints(o,n,i,t.axes.x.scaler.bounds.span,t.axes.x.scaler.bounds.lower,t.axes.x.scaler.bounds.upper,t.axes.y.scaler.bounds.lower,t.axes.y.scaler.bounds.upper)):(n="y",i="x",r=w.generatePoints(o,n,i,t.axes.y.scaler.bounds.span,t.axes.y.scaler.bounds.lower,t.axes.y.scaler.bounds.upper,t.axes.x.scaler.bounds.lower,t.axes.x.scaler.bounds.upper));var d=0;if(r.length>0)for(;d<r.length;d++)r[d].length>0&&t.addSeries("Series "+a.graphNumber+"_"+d,r[d],a.color);for(var s="Series "+a.graphNumber+"_"+d;s in t.runs;)t.removeSeries(s),d++,s="Series "+a.graphNumber+"_"+d;return t.render(),r},generatePoints:function(t,e,o,a,n,i,r,d){function s(t,a,n,i){for(;n>=a;){var r=(a[e]+n[e])/2,d={};if(d[e]=r,d[o]=t(d[e]),i==d[o]||d[e]==n[e]||d[e]==a[e])return d;var s=!0;i<d[o]&&(s=!1),d[o]<n[o]?s?a=d:n=d:d[o]<a[o]&&(s?n=d:a=d)}return NaN}function h(t,a,n){for(var i,r=[[],[]],d=a,s=n;d[e]<=s[e];){var h=(d[e]+s[e])/2;i={},i[e]=h,i[o]=t(h);var l=c(i[e]),u={};if(u[e]=l,u[o]=t(l),Math.abs(u[o])>=Math.abs(i[o]))r[0].push(i),d=u;else{if(r[1].unshift(i),s[e]==i[e])break;s=i}}return r}function l(t,e){var o=!1,a=!1;return e>t&&(o=!0),e>0&&(a=!0),{inc:o,pos:a}}function c(t){var e;return e=t>-1&&1>t?0>t?t>=-B?-t:t/Math.ceil(t/B):B:Math.abs(t)*B,t+e}function u(t,a){return(a[o]-t[o])/(a[e]-t[e])}var p,x,j=1<<Math.ceil(Math.log(a)/k),f=(i-n)/j,g=[],C=0;g[C]=[];for(var y,v,m=n,b=0;j>=b;m+=f,b++){if(v={},v[e]=m,v[o]=t({_name:e,_value:m,_graphing:!0}),null==v[e]||null==v[o])return{};if(!isNaN(v[o])&&!isNaN(v[e]))if(g[C].push(v),3!=g[C].length){if(!(g[C].length<4)&&(x=l(u(g[C][g[C].length-3],g[C][g[C].length-2]),u(g[C][g[C].length-2],g[C][g[C].length-1])),p.inc!=x.inc||p.pos!=x.pos)){var w=h(t,g[C][g[C].length-3],g[C][g[C].length-1]);v=g[C].pop(),g[C].pop();for(var D=0;D<w[0].length;D++)g[C].push(w[0][D]);for(y=1;y<w.length;y++)g[++C]=w.pop();g[C].push(v),p=x}}else p=l(u(g[C][g[C].length-3],g[C][g[C].length-2]),u(g[C][g[C].length-2],g[C][g[C].length-1]))}for(;g.length>1;){for(y=0;y<g[1].length;y++)g[0][g[0].length-1][e]!=g[1][y][e]&&g[0].push(g[1][y]);g.splice(1,1)}g=g[0];var M=0,T=[[]];for(y=0;y<g.length;y++){var N,G,A,F;if(isNaN(g[y][o])||isNaN(g[y][e])){for(;isNaN(g[y][o])||isNaN(g[y][e]);)g.splice(y,1);T[++M]=[],y--}else if(g[y][o]>d||g[y][o]<r){y>0&&g[y-1].y!=r&&g[y-1].y!=d&&(F=u(g[y-1],g[y]),F>I?F=I:-I>F&&(F=-I),G=g[y][o]>d?d:r,A=g[y][o]-F*g[y][e],N=(G-A)/F,v={},v[e]=N,v[o]=t(N),v[o]!=G&&(v=s(t,g[y-1],g[y],G)),T[M].push(v),T[++M]=[]);for(;y<g.length&&(g[y][o]>d||g[y][o]<r);)y++;if(y>=g.length){0==T[M].length&&T.splice(M,1);break}y>0&&g[y].y!=r&&g[y].y!=d&&(F=u(g[y-1],g[y]),F>I?F=I:-I>F&&(F=-I),G=g[y-1][o]>d?d:r,A=g[y][o]-F*g[y][e],N=(G-A)/F,v={},v[e]=N,v[o]=t(N),v[o]!=G&&(v=s(t,g[y-1],g[y],G)),T[M].push(v),T[M].push(g[y]))}else T[M].push(g[y])}return T},Grapher:M})});