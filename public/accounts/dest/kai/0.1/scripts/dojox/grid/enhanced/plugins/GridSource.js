define("dojox/grid/enhanced/plugins/GridSource",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dnd/Source","./DnD"],function(n,e,i,t,r){var o=function(n){for(var e=n[0],i=1;i<n.length;++i)e=e.concat(n[i]);return e},s=i.getObject("dojox.grid.enhanced.plugins.GridDnDSource");return n("dojox.grid.enhanced.plugins.GridSource",t,{accept:["grid/cells","grid/rows","grid/cols","text"],insertNodesForGrid:!1,markupFactory:function(n,e){return cls=i.getObject("dojox.grid.enhanced.plugins.GridSource"),new cls(e,n)},checkAcceptance:function(n,i){if(n instanceof s){if(i[0]){var t=n.getItem(i[0].id);if(t&&(e.indexOf(t.type,"grid/rows")>=0||e.indexOf(t.type,"grid/cells")>=0)&&!n.dndPlugin._allDnDItemsLoaded())return!1}this.sourcePlugin=n.dndPlugin}return this.inherited(arguments)},onDraggingOver:function(){this.sourcePlugin&&(this.sourcePlugin._isSource=!0)},onDraggingOut:function(){this.sourcePlugin&&(this.sourcePlugin._isSource=!1)},onDropExternal:function(n,i,t){if(n instanceof s){var r,d=e.map(i,function(e){return n.getItem(e.id).data}),c=n.getItem(i[0].id),u=c.dndPlugin.grid,g=c.type[0];try{switch(g){case"grid/cells":i[0].innerHTML=this.getCellContent(u,d[0].min,d[0].max)||"",this.onDropGridCells(u,d[0].min,d[0].max);break;case"grid/rows":r=o(d),i[0].innerHTML=this.getRowContent(u,r)||"",this.onDropGridRows(u,r);break;case"grid/cols":r=o(d),i[0].innerHTML=this.getColumnContent(u,r)||"",this.onDropGridColumns(u,r)}this.insertNodesForGrid&&(this.selectNone(),this.insertNodes(!0,[i[0]],this.before,this.current)),c.dndPlugin.onDragOut(!t)}catch(l){}}else this.inherited(arguments)},getCellContent:function(n,e,i){},getRowContent:function(n,e){},getColumnContent:function(n,e){},onDropGridCells:function(n,e,i){},onDropGridRows:function(n,e){},onDropGridColumns:function(n,e){}})});