define("dojox/uuid/generateTimeBasedUuid",["dojo/_base/lang","./_base"],function(e){return dojox.uuid.generateTimeBasedUuid=function(e){var r=dojox.uuid.generateTimeBasedUuid._generator.generateUuidString(e);return r},dojox.uuid.generateTimeBasedUuid.isValidNode=function(r){var i=16,o=parseInt(r,i),u=e.isString(r)&&12==r.length&&isFinite(o);return u},dojox.uuid.generateTimeBasedUuid.setNode=function(e){dojox.uuid.assert(null===e||this.isValidNode(e)),this._uniformNode=e},dojox.uuid.generateTimeBasedUuid.getNode=function(){return this._uniformNode},dojox.uuid.generateTimeBasedUuid._generator=new function(){function r(e){e[2]+=e[3]>>>16,e[3]&=65535,e[1]+=e[2]>>>16,e[2]&=65535,e[0]+=e[1]>>>16,e[1]&=65535,dojox.uuid.assert(e[0]>>>16===0)}function i(e){var r=new Array(0,0,0,0);return r[3]=e%65536,e-=r[3],e/=65536,r[2]=e%65536,e-=r[2],e/=65536,r[1]=e%65536,e-=r[1],e/=65536,r[0]=e,r}function o(i,o){dojox.uuid.assert(e.isArray(i)),dojox.uuid.assert(e.isArray(o)),dojox.uuid.assert(4==i.length),dojox.uuid.assert(4==o.length);var u=new Array(0,0,0,0);return u[3]=i[3]+o[3],u[2]=i[2]+o[2],u[1]=i[1]+o[1],u[0]=i[0]+o[0],r(u),u}function u(i,o){dojox.uuid.assert(e.isArray(i)),dojox.uuid.assert(e.isArray(o)),dojox.uuid.assert(4==i.length),dojox.uuid.assert(4==o.length);var u=!1;i[0]*o[0]!==0&&(u=!0),i[0]*o[1]!==0&&(u=!0),i[0]*o[2]!==0&&(u=!0),i[1]*o[0]!==0&&(u=!0),i[1]*o[1]!==0&&(u=!0),i[2]*o[0]!==0&&(u=!0),dojox.uuid.assert(!u);var t=new Array(0,0,0,0);return t[0]+=i[0]*o[3],r(t),t[0]+=i[1]*o[2],r(t),t[0]+=i[2]*o[1],r(t),t[0]+=i[3]*o[0],r(t),t[1]+=i[1]*o[3],r(t),t[1]+=i[2]*o[2],r(t),t[1]+=i[3]*o[1],r(t),t[2]+=i[2]*o[3],r(t),t[2]+=i[3]*o[2],r(t),t[3]+=i[3]*o[3],r(t),t}function t(e,r){for(;e.length<r;)e="0"+e;return e}function n(){for(var e=Math.floor(Math.random()%1*Math.pow(2,32)),r=e.toString(j);r.length<8;)r="0"+r;return r}this.GREGORIAN_CHANGE_OFFSET_IN_HOURS=3394248;var d=null,a=null,s=null,g=0,f=null,l=null,j=16;this.generateUuidString=function(e){if(e)dojox.uuid.assert(dojox.uuid.generateTimeBasedUuid.isValidNode(e));else if(dojox.uuid.generateTimeBasedUuid._uniformNode)e=dojox.uuid.generateTimeBasedUuid._uniformNode;else{if(!d){var x=32768,h=Math.floor(Math.random()%1*Math.pow(2,15)),v=(x|h).toString(j);d=v+n()}e=d}if(!a){var m=32768,_=Math.floor(Math.random()%1*Math.pow(2,14));a=(m|_).toString(j)}var U=new Date,N=U.valueOf(),S=i(N);if(!f){var T=i(3600),c=i(dojox.uuid.generateTimeBasedUuid._generator.GREGORIAN_CHANGE_OFFSET_IN_HOURS),B=u(c,T),A=i(1e3);f=u(B,A),l=i(1e4)}var w=S,O=o(f,w),M=u(O,l);if(U.valueOf()==s){if(M[3]+=g,r(M),g+=1,1e4==g)for(;U.valueOf()==s;)U=new Date}else s=U.valueOf(),g=1;var y=M[2].toString(j),E=M[3].toString(j),G=t(y,4)+t(E,4),R=M[1].toString(j);R=t(R,4);var F=M[0].toString(j);F=t(F,3);var I="-",p="1",H=G+I+R+I+p+F+I+a+I+e;return H=H.toLowerCase()}},dojox.uuid.generateTimeBasedUuid});