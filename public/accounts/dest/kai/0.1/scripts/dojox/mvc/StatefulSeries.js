define("dojox/mvc/StatefulSeries",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojox/mvc/at"],function(t,e,r,i){return e("dojox.mvc.StatefulSeries",null,{constructor:function(e){function o(){n.series&&(n.series.chart.updateSeries(n.series.name,n),n.series.chart.delayedRender())}var n=this;this._handles=[],this.data=t.map(e,function(t,e){if("dojox.mvc.at"==(t||{}).atsignature){var s=t.target,a=t.targetProp;if(r.isString(s))throw new Error("Literal-based dojox/mvc/at is not supported in dojox/mvc/StatefulSeries.");if(t.bindDirection&&!(t.bindDirection&i.from),a&&r.isFunction(s.set)&&r.isFunction(s.watch)){var c=t.converter,d=(c||{}).format&&r.hitch({target:s,source:this},c.format);this._handles.push(s.watch(a,function(t,r,i){n.data[e]=d?d(i):i,o()}))}return a?r.isFunction(s.get)?s.get(a):s[a]:s}return t},this),o()},destroy:function(){for(var t=null;t=this._handles.pop();)t.unwatch()},setSeriesObject:function(t){this.series=t}})});