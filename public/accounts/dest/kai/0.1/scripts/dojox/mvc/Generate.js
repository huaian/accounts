define("dojox/mvc/Generate",["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","./_Container","./at","./Group","dijit/form/TextBox"],function(t,i,e,a,s){return e("dojox.mvc.Generate",[a],{_counter:0,_defaultWidgetMapping:{String:"dijit/form/TextBox"},_defaultClassMapping:{Label:"generate-label-cell",String:"generate-dijit-cell",Heading:"generate-heading",Row:"row"},_defaultIdNameMapping:{String:"textbox_t"},children:null,_relTargetProp:"children",startup:function(){this.inherited(arguments),this._setChildrenAttr(this.children)},_setChildrenAttr:function(t){var i=this.children;this._set("children",t),this.binding!=t&&this.set("ref",t),!this._started||this._builtOnce&&i==t||(this._builtOnce=!0,this._buildContained(t))},_buildContained:function(t){t&&(this._destroyBody(),this._counter=0,this.srcNodeRef.innerHTML=this._generateBody(t),this._createBody())},_generateBody:function(e,a){function s(t,e){(r?t&&i.isFunction(t.toPlainObject):!i.isFunction(t))&&(i.isArray(t)?n.push(this._generateRepeat(t,e)):(r?!t.value:null!=t&&"[object Object]"=={}.toString.call(t)||(t||{}).set&&(t||{}).watch)?n.push(this._generateGroup(t,e,a)):n.push(this._generateTextBox(e,r)))}if(void 0===e)return"";var n=[],r=i.isFunction(e.toPlainObject);if(i.isArray(e))t.forEach(e,s,this);else for(var d in e)e.hasOwnProperty(d)&&s.call(this,e[d],d);return n.join("")},_generateRepeat:function(t,i){var e=this.classMapping&&this.classMapping.Heading?this.classMapping.Heading:this._defaultClassMapping.Heading;return"<div data-dojo-type=\"dojox/mvc/Group\" data-dojo-props=\"target: at('rel:', '"+i+'\')" + id="'+this.id+"_r"+this._counter++ +'"><div class="'+e+'">'+i+"</div>"+this._generateBody(t,!0)+"</div>"},_generateGroup:function(t,i,e){var a=["<div data-dojo-type=\"dojox/mvc/Group\" data-dojo-props=\"target: at('rel:', '"+i+'\')" + id="'+this.id+"_g"+this._counter++ +'">'];if(!e){var s=this.classMapping&&this.classMapping.Heading?this.classMapping.Heading:this._defaultClassMapping.Heading;a.push('<div class="'+s+'">'+i+"</div>")}return a.push(this._generateBody(t)+"</div>"),a.join("")},_generateTextBox:function(t,i){var e=this.idNameMapping?this.idNameMapping.String:this._defaultIdNameMapping.String;e+=this._counter++;var a=this.widgetMapping?this.widgetMapping.String:this._defaultWidgetMapping.String,s=this.classMapping&&this.classMapping.Label?this.classMapping.Label:this._defaultClassMapping.Label,n=this.classMapping&&this.classMapping.String?this.classMapping.String:this._defaultClassMapping.String,r=this.classMapping&&this.classMapping.Row?this.classMapping.Row:this._defaultClassMapping.Row,d="value: at('rel:"+(i&&t||"")+"', '"+(i?"value":t)+"')";return'<div class="'+r+'"><label class="'+s+'">'+t+':</label><input class="'+n+'" data-dojo-type="'+a+'" data-dojo-props="name: \''+e+"', "+d+'" id="'+e+'"></input></div>'}})});