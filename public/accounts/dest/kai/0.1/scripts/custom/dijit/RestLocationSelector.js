require({cache:{"url:custom/dijit/templates/RestLocationSelector.html":'<span style=\'display:inline\' data-dojo-attach-point="containerNode">\n    <select required=${required} id="province-${id}" data-dojo-type="dijit/form/FilteringSelect"\n            data-dojo-props="class:\'select-width\'" name="${provinceDomName}" placeholder="选择省">\n    </select>\n    <select required=${required} id="city-${id}" data-dojo-type="dijit/form/FilteringSelect"\n            data-dojo-props="class:\'select-width\'" name="${cityDomName}" placeholder="选择市">\n    </select>\n    <select required=${required}  id="county-${id}" data-dojo-type="dijit/form/FilteringSelect"\n            data-dojo-props="class:\'select-width\'" name="${countyDomName}" placeholder="选择区/县">\n    </select>\n    <br />\n    <input class="detail_input" required=${required} id="address-${id}" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="maxlength:100" name="${addressDomName}" class="address-textBox" trim="true" placeholder="请输入详细地址" />\n</span >\n'}}),define("custom/dijit/RestLocationSelector",["dojo/data/ObjectStore","dojo/store/Memory","module","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/_base/declare","dijit/registry","dojo/text!./templates/RestLocationSelector.html","dijit/form/Select","dijit/form/TextBox"],function(t,e,i,n,d,o,r,s,a){return r([n,d,o],{name:"Location Selector",_isSetting:!1,templateString:a,baseClass:"locationSelectorWidget",_getProvinceAttr:function(){return s.byId("province-"+this.id).get("value")},_setProvinceAttr:function(t){s.byId("province-"+this.id).set("value",t)},_getProvinceNameAttr:function(t){return s.byId("province-"+this.id).get("displayedValue")},_getCityAttr:function(){return s.byId("city-"+this.id).get("value")},_getCityNameAttr:function(){return s.byId("city-"+this.id).get("displayedValue")},_setCityAttr:function(t){s.byId("city-"+this.id).set("value",t)},_getCountyAttr:function(){return s.byId("county-"+this.id).get("value")},_getCountyNameAttr:function(){return s.byId("county-"+this.id).get("displayedValue")},_setCountyAttr:function(t){s.byId("county-"+this.id).set("value",t)},_getAddressAttr:function(){return s.byId("address-"+this.id).get("value")},_setAddressAttr:function(t){s.byId("address-"+this.id).set("value",t)},_setReadOnlyAttr:function(t){s.byId("province-"+this.id).set("disabled",t),s.byId("city-"+this.id).set("disabled",t),s.byId("county-"+this.id).set("disabled",t),s.byId("address-"+this.id).set("disabled",t)},_setLocationAttr:function(t){var e=this,i=e.id?e.id:Date.now().toString(),n=s.byId("province-"+i),d=s.byId("city-"+i),o=s.byId("county-"+i);e._isSetting=!0,e.bindStore(n,"Province","provinces",{},function(){return t&&t.province?(e.set("province",t.province),void e.bindStore(d,"City","cities",{id:e.get("province")},function(){return t&&t.city?(e.set("city",t.city),void e.bindStore(o,"County","counties",{id:e.get("city")},function(){return t&&t.county?(e.set("county",t.county),void(e._isSetting=!1)):void(e._isSetting=!1)},t?t.county:null)):void(e._isSetting=!1)},t?t.city:null)):(e._isSetting=!1,void e.set("city",""))},t?t.province:null),t&&void 0!==t.address&&e.set("address",t.address)},bindStore:function(t,e,n,d,o,r){var a=this,c=a.id?a.id:"",u=(s.byId("province-"+c),s.byId("city-"+c),s.byId("county-"+c),function(){Kai.showToast({text:"获取"+e+"数据失败"})}),l=i.config().restStores[e],y="";d&&(y=d),l.get(y.id?y.id:"").then(function(e){var i=e.body;i?_.map(i,function(t){return r&&t.id.toString()===r.toString()&&(t.selected=!0),t}):i=[],t.store.setData(i),t.startup(),o&&o.apply(a)},u)},postCreate:function(){var t=this,e=t.id?t.id:"",i=s.byId("province-"+e),n=s.byId("city-"+e),d=s.byId("county-"+e);t.inherited(arguments),i.on("change",function(){return t._isSetting?!1:void(i.get("value")?t.bindStore(n,"City","cities",{id:i.getValue()},function(){n.set("value","")}):(n.store.setData([]),n.set("value",""),d.store.setData([]),d.set("value","")))}),n.on("change",function(){return t._isSetting?!1:void(n.get("value")?t.bindStore(d,"County","counties",{id:n.getValue()},function(){d.set("value","")}):(d.store.setData([]),d.set("value","")))})}})});