define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(e,t,r,a,o,n,i){function s(a,i,s,h){var d=n.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase()&&!$(a.parentNode).hasClass("sub_viewport"))&&o.body(a.ownerDocument).appendChild(a);var l=null;e.some(i,function(e){var r=e.corner,o=e.pos,n=0,i={w:{L:d.l+d.w-o.x,R:o.x-d.l,M:d.w}[r.charAt(1)],h:{T:d.t+d.h-o.y,B:o.y-d.t,M:d.h}[r.charAt(0)]},c=a.style;if(c.left=c.right="auto",s){var p=s(a,e.aroundCorner,r,i,h);n="undefined"==typeof p?0:p}var y=a.style,u=y.display,b=y.visibility;"none"==y.display&&(y.visibility="hidden",y.display="");var f=t.position(a);y.display=u,y.visibility=b;var w={L:o.x,R:o.x-f.w,M:Math.max(d.l,Math.min(d.l+d.w,o.x+(f.w>>1))-f.w)}[r.charAt(1)],v={T:o.y,B:o.y-f.h,M:Math.max(d.t,Math.min(d.t+d.h,o.y+(f.h>>1))-f.h)}[r.charAt(0)],x=Math.max(d.l,w),m=Math.max(d.t,v),M=Math.min(d.l+d.w,w+f.w),B=Math.min(d.t+d.h,v+f.h),L=M-x,T=B-m;return n+=f.w-L+(f.h-T),(null==l||n<l.overflow)&&(l={corner:r,aroundCorner:e.aroundCorner,x:x,y:m,w:L,h:T,overflow:n,spaceAvailable:i}),!n}),l.overflow&&s&&s(a,l.aroundCorner,l.corner,l.spaceAvailable,h);var c=l.y,p=l.x,y=o.body(a.ownerDocument);/relative|absolute/.test(r.get(y,"position"))&&(c-=r.get(y,"marginTop"),p-=r.get(y,"marginLeft"));var u=a.style;return u.top=c+"px",u.left=p+"px",u.right="auto",l}var h={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},d={at:function(t,r,a,o,n){var i=e.map(a,function(e){var t={corner:e,aroundCorner:h[e],pos:{x:r.x,y:r.y}};return o&&(t.pos.x+="L"==e.charAt(1)?o.x:-o.x,t.pos.y+="T"==e.charAt(0)?o.y:-o.y),t});return s(t,i,n)},around:function(o,n,i,h,d){function l(e,t){R.push({aroundCorner:e,corner:t,pos:{x:{L:B,R:B+T,M:B+(T>>1)}[e.charAt(1)],y:{T:L,B:L+g,M:L+(g>>1)}[e.charAt(0)]}})}var c;if("string"==typeof n||"offsetWidth"in n||"ownerSVGElement"in n){if(c=t.position(n,!0),/^(above|below)/.test(i[0])){var p=t.getBorderExtents(n),y=n.firstChild?t.getBorderExtents(n.firstChild):{t:0,l:0,b:0,r:0},u=t.getBorderExtents(o),b=o.firstChild?t.getBorderExtents(o.firstChild):{t:0,l:0,b:0,r:0};c.y+=Math.min(p.t+y.t,u.t+b.t),c.h-=Math.min(p.t+y.t,u.t+b.t)+Math.min(p.b+y.b,u.b+b.b)}}else c=n;if(n.parentNode)for(var f="absolute"==r.getComputedStyle(n).position,w=n.parentNode;w&&1==w.nodeType&&"BODY"!=w.nodeName;){var v=t.position(w,!0),x=r.getComputedStyle(w);if(/relative|absolute/.test(x.position)&&(f=!1),!f&&/hidden|auto|scroll/.test(x.overflow)){var m=Math.min(c.y+c.h,v.y+v.h),M=Math.min(c.x+c.w,v.x+v.w);c.x=Math.max(c.x,v.x),c.y=Math.max(c.y,v.y),c.h=m-c.y,c.w=M-c.x}"absolute"==x.position&&(f=!0),w=w.parentNode}var B=c.x,L=c.y,T="w"in c?c.w:c.w=c.width,g="h"in c?c.h:(a.deprecated("place.around: dijit/place.__Rectangle: { x:"+B+", y:"+L+", height:"+c.height+", width:"+T+" } has been deprecated.  Please use { x:"+B+", y:"+L+", h:"+c.height+", w:"+T+" }","","2.0"),c.h=c.height),R=[];e.forEach(i,function(e){var t=h;switch(e){case"above-centered":l("TM","BM");break;case"below-centered":l("BM","TM");break;case"after-centered":t=!t;case"before-centered":l(t?"ML":"MR",t?"MR":"ML");break;case"after":t=!t;case"before":l(t?"TL":"TR",t?"TR":"TL"),l(t?"BL":"BR",t?"BR":"BL");break;case"below-alt":t=!t;case"below":l(t?"BL":"BR",t?"TL":"TR"),l(t?"BR":"BL",t?"TR":"TL");break;case"above-alt":t=!t;case"above":l(t?"TL":"TR",t?"BL":"BR"),l(t?"TR":"TL",t?"BR":"BL");break;default:l(e.aroundCorner,e.corner)}});var C=s(o,R,d,{w:T,h:g});return C.aroundNodePos=c,C}};return i.place=d});