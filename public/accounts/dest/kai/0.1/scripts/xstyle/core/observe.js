define("xstyle/core/observe",[],function(){function e(e){return o[e]}function r(e,r,t){n?-1===n.indexOf(e)&&n.push(e):(n=[e],setTimeout(function(){n.forEach(function(e){var r=[];e.properties.forEach(function(t){r.push({target:e.object,name:t})}),e(r),e.object=null,e.properties=null}),n=null},0)),e.object=r;var o=e.properties||(e.properties=[]);-1===o.indexOf(t)&&o.push(t)}function t(e,r,t){var n;for(var o in e)e.hasOwnProperty(o)&&e[o]!==r[o]&&(e[o]=r[o],(n||(n=[])).push({name:o}));for(var o in r)r.hasOwnProperty(o)&&!e.hasOwnProperty(o)&&(e[o]=r[o],(n||(n=[])).push({name:o}));n&&t(n)}var n,o={observe:Object.observe,defineProperty:Object.defineProperty&&function(){try{return Object.defineProperty({},"t",{}),!0}catch(e){}}()},i=e("observe")?Object.observe:e("defineProperty")?function(e,t){function n(n){var o="key"+n;if(!this[o]){this[o]=!0;var i=e[n],s=Object.getOwnPropertyDescriptor(e,n);if(s&&s.set){var c=s.set,u=s.get;Object.defineProperty(e,n,{get:function(){return i=u.call(this)},set:function(e){c.call(this,e),i!==e&&(i=e,t&&r(t,this,n))}})}else Object.defineProperty(e,n,{get:function(){return i},set:function(e){i!==e&&(i=e,t&&r(t,this,n))}})}}t.addKey=n,t.remove=function(){t=null}}:function(e,r){p||(p=!0,setInterval(function(){for(var e=0,r=c.length;r>e;e++)t(u[e],c[e],f[e])},20));var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);c.push(e),u.push(n),f.push(r)},s=e("observe")?Object.unobserve:function(e,r){r.remove&&r.remove();for(var t=0,n=c.length;n>t;t++)if(c[t]===e&&f[t]===r)return c.splice(t,1),u.splice(t,1),void f.splice(t,1)},c=[],u=[],f=[],p=!1;return{observe:i,unobserve:s}});