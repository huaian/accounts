define("xstyle/core/load-imports",[],function(){function e(e,r){function l(){--i||(s(c),r&&r(c))}function s(e){for(var t="",r=!e.disabled&&(e.imports||e.rules||e.cssRules),n=0;n<r.length;n++){var o=r[n];o.href&&(t+=s(o.styleSheet||o))}return e.source=t+e.localSource}function u(r,s){var c=t(s,r.correctHref||r.href);r.addRule||(r.addRule=function(e,t,r){return this.insertRule(e+"{"+t+"}",r>=0?r:this.cssRules.length)}),r.deleteRule||(r.deleteRule=r.removeRule);var a=c&&o[c];if(a){var f;if(a!=r){var d=r.parentStyleSheet,h=a.ownerElement;(h.compareDocumentPosition?2!=h.compareDocumentPosition(e):h.sourceIndex<=e.sourceIndex)?f=r:(f=a,a=o[c]=r),f.addRule=function(e,t,r){a.addRule(e,t,r>-1?r:-1)},f.deleteRule=function(e){a.deleteRule(e)};var v=f.ownerNode||!d&&f.owningElement;if(v)v.parentNode.removeChild(v);else if(f.disabled=!0,"cssText"in f)f.cssText="";else if(v=f.ownerRule)try{d=v.parentStyleSheet;for(var p=d.cssRules,R=0;R<p.length;R++)if(p[R]==v){d.deleteRule(R);break}return!0}catch(g){}}}if(f!=r){if(c){if(/no-xstyle$/.test(c))return void(r.localSource="");o[c]=r,r.ownerElement=e;var S=r;i++,n(c,function(e){S.localSource=e,l()},function(){S.localSource="",l()})}else r.localSource=e.innerHTML;for(var m=r.rules||r.cssRules||[],R=0;R<m.length;R++){var x=m[R];x.selectorText&&"x-"==x.selectorText.substring(0,2)&&(r.needsParsing=!0)}for(var y=r.imports||m,R=0;R<y.length;R++){var x=y[R];if(x.href){var w=x.styleSheet||x;u(w,c)&&R--,w.needsParsing&&(r.needsParsing=!0)}}}}var c=e.sheet||e.styleSheet,i=1;u(c),l()}function t(e,t){if(!t||t.indexOf(":")>0||"/"==t.charAt(0))return t;var r;for(t=((e||location.toString()).replace(/[^\/]*$/,"")+t).replace(/\/\.\//g,"/");r!=t;)r=t,t=t.replace(/\/[^\/]+\/\.\.\//g,"/");return t}function r(){if("undefined"!=typeof XMLHttpRequest)r=function(){return new XMLHttpRequest};else for(var e=r=function(){throw new Error("getXhr(): XMLHttpRequest not available")};l.length>0&&r===e;)(function(e){try{new ActiveXObject(e),r=function(){return new ActiveXObject(e)}}catch(t){}})(l.shift());return r()}function n(e,t,n){var o=r();o.open("GET",e,!0),o.onreadystatechange=function(){4===o.readyState&&(o.status<400?t(o.responseText):n(new Error("fetchText() failed. status: "+o.statusText)))},o.send(null)}var o={};({"dom-deep-import":!document.createStyleSheet});return e;var l});