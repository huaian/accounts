define("xstyle/ext/dgrid",["dojo/_base/declare","dojo/promise/all","dojo/Deferred","dojo/when","./widget","../core/expression"],function(e,o,r,n,t,s){var c={selectionMode:"Selection",columns:"Grid",keyboard:"Keyboard"},i={selectionMode:function(e,o){e.selectionMode=o},keyboard:function(e,o){e.cellNavigation="cell"==o},store:function(e,o,r){var o=s(r,"store",o);return n(o,function(o){e.store=o}),o},columns:function(e,o){var n,s=e.columns={};return o[0].eachProperty(function(e,o){var c=t.parse(o[0]);c.className=o[0].selector.slice(1),c.editor&&(n=new r,require(["dgrid/editor"],function(o){var r=c.editor.split(/,\s*/);s[e]=o(c,r[0],r[1]),n.resolve()})),s[e]=c}),n}};return{put:function(e,r,n){n=n.slice(6);"dgrid/"+c[n];r.constructors||(r.constructors=["dgrid/OnDemandList"],r.handlers=[]);var s=e[0],d=[];s.eachProperty(function(e,o){var n=i[e];if(n){var t=n(s.values,o,r);t&&d.push(t)}c[e]&&r.constructors.push("dgrid/"+c[e])}),o(d).then(function(){t.parse(e[0],function(e){r.elements(e)},r.constructors)})}}});