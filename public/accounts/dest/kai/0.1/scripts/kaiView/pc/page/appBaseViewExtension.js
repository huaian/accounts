define("kaiView/pc/page/appBaseViewExtension",["page/c.page.view","data/store/c.common.store","cutil/c.util.common","../widget/dijit/login_dialog"],function(e,t,o,n){"use strict";var i={},a=t.UserStore.getInstance();t.HeadStore.getInstance();return i={"super":e.prototype,initialize:function(){var e=this["super"].initialize.apply(this,arguments);return e},show:function(){var e=this["super"].show.apply(this,arguments);return e}},_.extend(i,{login:function(){var e=this;e.showLoginDialog()},showLoginDialog:function(){var e=this;e.loginDialogInstance||(e.loginDialogInstance=new n({view:e,widgetData:{title:Kai.title||""}})),e.loginDialogInstance.startup(),e.loginDialogInstance.show(),Kai.hideLoading()},logout:function(){var e=this,t=Models.logout.getInstance();e.showLoading();var o=function(t){e.hideLoading(),e.isSucceedResponse(t)?e.showToast({text:"注销成功",callback:function(){a.remove(),_.isObject(localStorage)&&localStorage.clear(),e.forward(Kai.loginUrl,{keepURL:!0})}}):e.showResponseError(t)},n=function(t){e.hideLoading(),e.showResponseError(t)},i=function(){};i();t.execute(o,n,!0,e)},prepareDebugData:function(){var e=this,t=e.getQueryObj();t.applycode&&(e.applyCode=t.applycode)},setUbtData:function(e){var t=this;t.ubtData={current:e||"*",applyCode:t.model.get("applyCode")||"*"}},getStaffNumber:function(){t.HeadStore.getInstance();return(a.get()||{}).user.username},getStaffRole:function(){}}),i});