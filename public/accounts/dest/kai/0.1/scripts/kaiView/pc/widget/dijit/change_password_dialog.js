require({cache:{"url:kaiView/pc/widget/dijit/templates/change_password_dialog.html":'<div  data-dojo-attach-point="containerNode">\n	<div data-dojo-type="dijit/Dialog" id="pc/change_password_dialog" data-dojo-props=\'\n			title:"修改密码"\' data-dojo-attach-point=\'dialog\'>\n		<table>\n			<tr>\n				<td><label for="oldPass">旧密码:</label></td>\n				<td><input data-dojo-type="dijit/form/TextBox" type="password" id="oldPass" name="oldPass"></td>\n			</tr>\n			<tr>\n				<td><label for="newPass">新密码:</label></td>\n				<td><input data-dojo-type="dijit/form/TextBox" type="password" id="newPass" name="newPass" v-model=\'password\'></td>\n				<td><i class=\'iconfont iconfont-zhengque\' style=\'display:none\'></i></td>\n			</tr>\n			<tr>\n				<td><label for="reNewPass">重复新密码:</label></td>\n				<td><input data-dojo-type="dijit/form/TextBox" type="password" id="reNewPass" name="reNewPass"></td>\n				<td><i class=\'iconfont iconfont-zhengque\' style=\'display:none\'></i></td>\n			</tr>\n		</table>\n		<div class=\'dijitDialogPaneActionBar\' data-dojo-attach-point="actionBarNode">\n			<button data-dojo-type=\'dijit/form/Button\' data-dojo-attach-point="submitButton">确认</button>\n			<!--\n			<button data-dojo-type=\'dijit/form/Button\' type=\'button\'\n			data-dojo-attach-point="cancelButton" data-dojo-attach-event=\'click:onCancel\'>取消</button>\n			-->\n		</div>\n		<br/>\n		<div>\n			<span class=\'color-red\'>注:密码至少8位，且至少包含大写字母、<br/>小写字母、数字、特殊字符中的三种</span>\n		</div>\n	</div>\n</div>\n'}}),define("kaiView/pc/widget/dijit/change_password_dialog",["data/store/c.common.store","custom/dijit/_WidgetBase","dojo/_base/declare","dijit/registry","dojo/text!./templates/change_password_dialog.html","dojo/parser","dojo/on","dojo/aspect","dojox/encoding/digests/_base","dojox/encoding/digests/MD5","dijit/form/Select","dijit/form/TextBox","dijit/form/Textarea","dijit/Fieldset","dijit/layout/Container","dijit/Dialog","dijit/form/RadioButton","dijit/ConfirmDialog"],function(t,e,o,a,s,i,n,d,r,l){var c=t.UserStore.getInstance();return o([e],{name:"",templateString:s,baseClass:"",widgetData:{},param:{},view:null,force:!1,requireMD5Encrypt:!1,show:function(){var t=this;t.dialog.show(),t.force&&t.dialog.set("closable",!1),t.bindEvents()},bindEvents:function(){var t=this;n(t.dialog,"hide",function(){t.dialog&&t.dialog.destroyRecursive()}),n(t.submitButton,"click",function(){var e,o=function(e){t.view.isSucceedResponse(e)?t.view.showToast({text:"修改密码成功",callback:function(){t.dialog.hide(),c.remove(),t.view.forward(Kai.loginUrl,{keepURL:!0})}}):t.view.showResponseError(e)},a=function(e){t.view.showResponseError(e)},s=function(){var e=t.dialog.get("value");return e.oldPass||t.view.showToast({text:"请输入旧密码"}),e.newPass?e.reNewPass?e&&e.oldPass&&e.newPass&&e.reNewPass?e.newPass===e.reNewPass?t.view.viewUtils.checkStrong(e.newPass)>=3?(t.requireMD5Encrypt?(e.oldPass=l(e.oldPass,r.outputTypes.Hex),e.newPass=l(e.newPass,r.outputTypes.Hex),e.reNewPass=l(e.reNewPass,r.outputTypes.Hex)):(e.oldPass=e.oldPass,e.newPass=e.newPass,e.reNewPass=e.reNewPass),e):(t.view.showToast({text:"新密码复杂度不符合要求:密码至少8位，且至少包含大、小写字母、数字、特殊字符中的三种",closeTime:2e3}),!1):(t.view.showToast({text:"新密码和确认密码两次输入不一致"}),!1):!1:(t.view.showToast({text:"请重复新密码"}),!1):(t.view.showToast({text:"请输入新密码"}),!1)};return(e=s())?void(t.view._changePassComm.storage?t.view._changePassComm.add(e).then(o,a):(t.view._changePassComm.param=e,t.view._changePassComm.execute(o,a,!0,t))):!1})}})});