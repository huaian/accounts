define("util/less/test/less-test",["dojo","dijit","dojox"],function(e,r,n){function t(e,r){var n=p.join(process.cwd(),r),t=p.join(process.cwd(),r+"import/"),i=n.replace(/[.:\/]/g,"\\$&"),s=t.replace(/[.:\/]/g,"\\$&");return e.replace(/\{path\}/g,n).replace(/\{pathesc\}/g,i).replace(/\{pathimport\}/g,t).replace(/\{pathimportesc\}/g,s).replace(/\r\n/g,"\n")}function i(e,r,n,i,s){r=r||"",s||(s=t),d.readdirSync(p.join("test/less/",r)).forEach(function(t){if(/\.less/.test(t)){var a=r+p.basename(t,".less");g&&a!==g||(h++,c(e,p.join("test/less/",r+t),function(e,t){if(n)return n(a,e,t,s);var c=a;i&&(c=i(a)),d.readFile(p.join("test/css",c)+".css","utf8",function(n,i){f.print("- "+c+": "),i=i&&s(i,"test/less/"+r),t===i?l("OK"):e?u("ERROR: "+(e&&e.message)):o("FAIL",i,t),f.puts("")})}))}})}function s(e,r){f.puts(""),require("diff").diffLines(e,r).forEach(function(e){e.added||e.removed?f.print(v(e.value,e.added?"green":"red")):f.print(e.value)})}function u(e){f.print(v(e,"red")),j++,a()}function o(e,r,n){f.print(v(e,"yellow")),j++,s(r,n),a()}function l(e){f.print(v(e,"green")),q++,a()}function a(){j+q===h&&(f.puts(""),f.puts(""),j>0?(f.print(j),f.print(v(" Failed","red")),f.print(", "+q+" passed")):(f.print(v("All Passed ","green")),f.print(q+" run")))}function c(e,r,n){var t;e=e||{},d.readFile(r,"utf8",function(i,s){return i?n(i):(e.paths=[require("path").dirname(r)],e.filename=require("path").resolve(process.cwd(),r),e.optimization=e.optimization||0,void new m.Parser(e).parse(s,function(e,r){if(e)n(e);else try{t=r.toCSS(),n(null,t)}catch(i){n(i)}}))})}var p=require("path"),d=require("fs"),f=require("util"),m=require("../lib/less"),v=require("../lib/less/lessc_helper").stylize,g=process.argv[2],h=0,j=0,q=0;m.tree.functions.add=function(e,r){return new m.tree.Dimension(e.value+r.value)},m.tree.functions.increment=function(e){return new m.tree.Dimension(e.value+1)},m.tree.functions._color=function(e){return"evil red"===e.value?new m.tree.Color("600"):void 0},f.puts("\n"+v("LESS","underline")+"\n"),i({relativeUrls:!0}),i(null,"errors/",function(e,r,n,t){d.readFile(p.join("test/less/",e)+".txt","utf8",function(i,s){if(f.print("- "+e+": "),s=t(s,"test/less/errors/"),r){var a=m.formatError(r);a===s?l("OK"):o("FAIL",s,a)}else n?u("No Error","red"):u("No Error, No Output");f.puts("")})},null,function(e,r){return e.replace("{path}",p.join(process.cwd(),"/test/less/errors/")).replace("{pathrel}",p.join("test","less","errors/")).replace(/\r\n/g,"\n")}),i({dumpLineNumbers:"comments"},"debug/",null,function(e){return e+"-comments"}),i({dumpLineNumbers:"mediaquery"},"debug/",null,function(e){return e+"-mediaquery"}),i({dumpLineNumbers:"all"},"debug/",null,function(e){return e+"-all"}),i({relativeUrls:!1,rootpath:"folder (1)/"},"static-urls/")});