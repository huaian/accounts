define("util/less/lib/less/browser",["dojo","dijit","dojox"],function(e,t,s){function n(){"development"===less.env?(less.optimization=0,less.watchTimer=setInterval(function(){less.watchMode&&l(function(e,t,s,n,r){t&&d(t.toCSS(),n,r.lastModified)})},less.poll)):less.optimization=3}function r(){for(var e=document.getElementsByTagName("style"),t=0;t<e.length;t++)e[t].type.match(T)&&new less.Parser({filename:document.location.href.replace(/#.*$/,""),dumpLineNumbers:less.dumpLineNumbers}).parse(e[t].innerHTML||"",function(s,n){var r=n.toCSS(),l=e[t];l.type="text/css",l.styleSheet?l.styleSheet.cssText=r:l.innerHTML=r})}function l(e,t){for(var s=0;s<less.sheets.length;s++)i(less.sheets[s],e,t,less.sheets.length-(s+1))}function o(e,t){var s,n,r,l,o=a(e),i=a(t),c="";if(o.hostPart!==i.hostPart)return"";for(n=Math.max(i.directories.length,o.directories.length),s=0;n>s&&i.directories[s]===o.directories[s];s++);for(l=i.directories.slice(s),r=o.directories.slice(s),s=0;s<l.length-1;s++)c+="../";for(s=0;s<r.length-1;s++)c+=r[s]+"/";return c}function a(e,t){var s,n,r=/^((?:[a-z-]+:)?\/\/(?:[^\/\?#]+\/)|([\/\\]))?((?:[^\/\\\?#]+[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/,l=e.match(r),o={},a=[];if(!l)throw new Error("Could not parse sheet href - '"+e+"'");if(!l[1]||l[2]){if(n=t.match(r),!n)throw new Error("Could not parse page url - '"+t+"'");l[1]=n[1],l[2]||(l[3]=n[3]+l[3])}if(l[3])for(a=l[3].replace("\\","/").split("/"),s=0;s<a.length;s++)".."===a[s]&&s>0&&(a.splice(s-1,2),s-=2);return o.hostPart=l[1],o.directories=a,o.path=l[1]+a.join("/"),o.fileUrl=o.path+(l[4]||""),o.url=o.fileUrl+(l[5]||""),o}function i(e,t,s,n){var r,l=e.contents||{},i=e.files||{},p=a(e.href,window.location.href),h=p.url,g=w&&w.getItem(h),y=w&&w.getItem(h+":timestamp"),v={css:g,timestamp:y};r=less.relativeUrls?less.rootpath?e.entryPath?a(less.rootpath+o(p.path,e.entryPath)).path:less.rootpath:p.path:less.rootpath?less.rootpath:e.entryPath?e.entryPath:p.path,m(h,e.type,function(o,a){if(S+=o.replace(/@import .+?;/gi,""),!s&&v&&a&&new Date(a).valueOf()===new Date(v.timestamp).valueOf())d(v.css,e),t(null,null,o,e,{local:!0,remaining:n},h);else try{l[h]=o,new less.Parser({optimization:less.optimization,paths:[p.path],entryPath:e.entryPath||p.path,mime:e.type,filename:h,rootpath:r,relativeUrls:e.relativeUrls,contents:l,files:i,dumpLineNumbers:less.dumpLineNumbers}).parse(o,function(s,r){if(s)return f(s,h);try{t(s,r,o,e,{local:!1,lastModified:a,remaining:n},h),u(document.getElementById("less-error-message:"+c(h)))}catch(s){f(s,h)}})}catch(m){f(m,h)}},function(e,t){throw new Error("Couldn't load "+t+" ("+e+")")})}function c(e){return e.replace(/^[a-z]+:\/\/?[^\/]+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")}function d(e,t,s){var n,r=t.href||"",l="less:"+(t.title||c(r));if(null===(n=document.getElementById(l))){n=document.createElement("style"),n.type="text/css",t.media&&(n.media=t.media),n.id=l;var o=t&&t.nextSibling||null;(o||document.getElementsByTagName("head")[0]).parentNode.insertBefore(n,o)}if(n.styleSheet)try{n.styleSheet.cssText=e}catch(a){throw new Error("Couldn't reassign styleSheet.cssText.")}else!function(e){n.childNodes.length>0?n.firstChild.nodeValue!==e.nodeValue&&n.replaceChild(e,n.firstChild):n.appendChild(e)}(document.createTextNode(e));if(s&&w){h("saving "+r+" to cache.");try{w.setItem(r,e),w.setItem(r+":timestamp",s)}catch(a){h("failed to save")}}}function m(e,t,s,n){function r(t,s,n){t.status>=200&&t.status<300?s(t.responseText,t.getResponseHeader("Last-Modified")):"function"==typeof n&&n(t.status,e)}var l=p(),o=g?less.fileAsync:less.async;"function"==typeof l.overrideMimeType&&l.overrideMimeType("text/css"),l.open("GET",e,o),l.setRequestHeader("Accept",t||"text/x-less, text/css; q=0.9, */*; q=0.5"),l.send(null),g&&!less.fileAsync?0===l.status||l.status>=200&&l.status<300?s(l.responseText):n(l.status,e):o?l.onreadystatechange=function(){4==l.readyState&&r(l,s,n)}:r(l,s,n)}function p(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return h("browser doesn't support AJAX."),null}}function u(e){return e&&e.parentNode.removeChild(e)}function h(e){"development"==less.env&&"undefined"!=typeof console}function f(e,t){var s,n,r="less-error-message:"+c(t),l='<li><label>{line}</label><pre class="{class}">{content}</pre></li>',o=document.createElement("div"),a=[],i=e.filename||t,m=i.match(/([^\/]+(\?.*)?)$/)[1];o.id=r,o.className="less-error-message",n="<h3>"+(e.message||"There is an error in your .less file")+'</h3><p>in <a href="'+i+'">'+m+"</a> ";var p=function(e,t,s){e.extract[t]&&a.push(l.replace(/\{line\}/,parseInt(e.line)+(t-1)).replace(/\{class\}/,s).replace(/\{content\}/,e.extract[t]))};e.stack?n+="<br/>"+e.stack.split("\n").slice(1).join("<br/>"):e.extract&&(p(e,0,""),p(e,1,"line"),p(e,2,""),n+="on line "+e.line+", column "+(e.column+1)+":</p><ul>"+a.join("")+"</ul>"),o.innerHTML=n,d([".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),o.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),"development"==less.env&&(s=setInterval(function(){document.body&&(document.getElementById(r)?document.body.replaceChild(o,document.getElementById(r)):document.body.insertBefore(o,document.body.firstChild),clearInterval(s))},10))}var g=/^(file|chrome(-extension)?|resource|qrc|app):/.test(location.protocol);if(less.env=less.env||("127.0.0.1"==location.hostname||"0.0.0.0"==location.hostname||"localhost"==location.hostname||location.port.length>0||g?"development":"production"),less.async=less.async||!1,less.fileAsync=less.fileAsync||!1,less.poll=less.poll||(g?1e3:1500),less.functions)for(var y in less.functions)less.tree.functions[y]=less.functions[y];var v=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(location.hash);v&&(less.dumpLineNumbers=v[1]),less.watch=function(){return less.watchMode||(less.env="development",n()),this.watchMode=!0},less.unwatch=function(){return clearInterval(less.watchTimer),this.watchMode=!1},/!watch/.test(location.hash)&&less.watch();var w=null;if("development"!=less.env)try{w="undefined"==typeof window.localStorage?null:window.localStorage}catch(x){}var b=document.getElementsByTagName("link"),T=/^text\/(x-)?less$/;less.sheets=[];for(var M=0;M<b.length;M++)("stylesheet/less"===b[M].rel||b[M].rel.match(/stylesheet/)&&b[M].type.match(T))&&less.sheets.push(b[M]);var S="";less.modifyVars=function(e){var t=S;for(name in e)t+=("@"===name.slice(0,1)?"":"@")+name+": "+(";"===e[name].slice(-1)?e[name]:e[name]+";");(new less.Parser).parse(t,function(e,t){d(t.toCSS(),less.sheets[less.sheets.length-1])})},less.refresh=function(e){var t,s;t=s=new Date,l(function(e,n,r,l,o){o.local?h("loading "+l.href+" from cache."):(h("parsed "+l.href+" successfully."),d(n.toCSS(),l,o.lastModified)),h("css for "+l.href+" generated in "+(new Date-s)+"ms"),0===o.remaining&&h("css generated in "+(new Date-t)+"ms"),s=new Date},e),r()},less.refreshStyles=r,less.refresh("development"===less.env)});