define("util/build/stringify",["dojo/json","./buildControlBase"],function(n,e){var t,r,i="					 ",s=2,u=function(n){s=n},o=function(n,e){for(n*=e||s;i.length<n;)i+=i;return i.substring(0,n)},f=function(n){return/^[\w\$]+$/.test(n)?n+":":"'"+n+"':"},l=function(n){return n.replace(/(\r\n)|(\n\r)/g,"\n").replace(/\r/,"\n").split("\n")},a=function(i,s){s?s++:(t="",r=!1,s=1);var u,c,g,b,h=e.newline;switch(typeof i){case"undefined":t+="undefined";break;case"boolean":t+=i?"true":"false";break;case"number":t+=i.toString();break;case"string":t+=n.stringify(i);break;case"object":if(null===i)t+="null";else if(i instanceof RegExp)t+=i.toString();else if(i instanceof Array)if(i.length>1){for(t+="["+h,b=0;b<i.length-1;b++)t+=o(s),a(i[b],s),t+=","+h;t+=o(s),a(i[b],s),t+=h+o(s-1)+"]"}else i.length?(t+="[",a(i[0],s),t+="]"):t+="[]";else{u=[];for(g in i)u.push(g);if(u.sort(),u.length>1){for(t+="{"+h,b=0;b<u.length-1;b++)t+=o(s)+f(u[b]),a(i[u[b]],s),t+=","+h;t+=o(s)+f(u[b]),a(i[u[b]],s),t+=h,t+=o(s-1)+"}"}else u.length?(t+="{"+f(u[0]),a(i[u[0]],s),t+="}"):t+="{}"}break;case"function":c=o(s);var d=l(i.toString()),p=d.shift(),k=Number.MAX_VALUE;d.forEach(function(n){var e=n.match(/(\s*)\S/);e&&(k=Math.min(k,e[1].length))}),k==Number.MAX_VALUE&&(k=0),d.unshift(o(k,1)+p),t+=h+d.map(function(n){return c+n.substring(k)}).join(h);break;default:t+="undefined /* unsolved */",r=!0}return t.unsolved=r,t};return a.setIndentFactor=u,a.split=l,a});