define("util/build/transforms/dojoReport",["../buildControl","../version","../fileUtils"],function(e,t,r){var n=e.buildReportDir||".",i=e.buildReportFilename||"build-report.txt";return function(o,s){return o.reports.push({dir:n,filename:i,content:function(){var s="";s+="Build started: "+e.startTimestamp+"\n",s+="Build application version: "+t+"\n",s+="Messages:\n"+e.getAllNonreportMessages(),s+="Layer Contents:\n";for(var a in e.resources)if(o=e.resources[a],o.moduleSet){s+=o.mid+":\n";var l=o.moduleSet;for(var u in l)s+="	"+l[u].mid+"\n";s+="\n"}var d=e.getOptimizerOutput();return d.length&&(s+="Optimizer Messages:\n"+d),s+=e.getAllReportMessages(),e.log("pacify","Report written to "+r.computePath(r.catPath(n,i),e.destBasePath)),s+="\n\nProcess finished normally\n",s+="	errors: "+e.getErrorCount()+"\n	warnings: "+e.getWarnCount()+"\n	build time: "+((new Date).getTime()-e.startTimestamp.getTime())/1e3+" seconds"}}),0}});