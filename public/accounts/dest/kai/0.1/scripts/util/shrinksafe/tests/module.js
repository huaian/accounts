define("util/shrinksafe/tests/module",["dojo","dijit","dojox"],function(dojo,dijit,dojox){dojo.provide("shrinksafe.tests.module"),shrinksafe.tests.module.getContents=function(e){return e="../shrinksafe/tests/"+e,readFile(e)},shrinksafe.tests.module.compress=function(e,s,r){return new String(Packages.org.dojotoolkit.shrinksafe.Compressor.compressScript(e,0,1,r,s)).toString()},shrinksafe.tests.module.loader=function(e,s,r){var t=shrinksafe.tests.module.getContents(e);return{original:t,compressed:shrinksafe.tests.module.compress(t,s,r||!1)}};try{tests.register("shrinksafe",[function forwardReference(t){var src=shrinksafe.tests.module.loader("3241.js",null);t.assertTrue(src.original.length>src.compressed.length),t.assertTrue(-1==src.compressed.indexOf("test")),eval(src.compressed),t.assertEqual("data",result),delete result},function nestedReference(t){var src=shrinksafe.tests.module.loader("5303.js",null);t.assertTrue(src.original.length>src.compressed.length),t.assertTrue(-1==src.compressed.indexOf("say_hello")),t.assertTrue(-1==src.compressed.indexOf("callback")),eval(src.compressed),t.assertEqual("hello worldhello world",result),t.assertEqual("function",typeof CallMe),delete result},function varConflict(t){var src=shrinksafe.tests.module.loader("8974.js",null);t.assertTrue(src.original.length>src.compressed.length),t.assertTrue(-1==src.compressed.indexOf("variabletwo")),eval(src.compressed),t.assertEqual(-1,result),delete result},function varlists(t){var src=shrinksafe.tests.module.loader("1768.js",null);t.t(-1==src.compressed.indexOf("superlong")),t.t(-1==src.compressed.indexOf("aFunction")),t.t(-1==src.compressed.indexOf("inList"));var boo=eval(src.compressed);t.is(4,result),delete result},function stripConsoleNormal(t){var src=shrinksafe.tests.module.loader("stripconsole.js","normal");t.assertTrue(-1==src.compressed.indexOf('console.debug("debug here!"')),t.assertTrue(-1!=src.compressed.indexOf('console.warn("warn here!")')),t.assertTrue(-1!=src.compressed.indexOf('console.error("error here!")')),eval(src.compressed),t.assertEqual("WARN: warn here!ERROR: error here!notconsole debug here!notconsole warn here!",result),delete result},function stripConsoleWarns(t){var src=shrinksafe.tests.module.loader("stripconsole.js","warn");t.assertTrue(src.original.length>src.compressed.length),t.assertTrue(-1==src.compressed.indexOf('console.debug("debug here!"')),t.assertTrue(-1==src.compressed.indexOf('console.warn("warn here!")')),t.assertTrue(-1!=src.compressed.indexOf('console.error("error here!")')),eval(src.compressed),t.assertEqual("ERROR: error here!notconsole debug here!notconsole warn here!",result),delete result},function stripConsoleAll(t){var src=shrinksafe.tests.module.loader("stripconsole.js","all");t.assertTrue(src.original.length>src.compressed.length),t.assertTrue(-1==src.compressed.indexOf('console.debug("debug here!"')),t.assertTrue(-1==src.compressed.indexOf('console.warn("warn here!")')),t.assertTrue(-1==src.compressed.indexOf('console.error("error here!")')),eval(src.compressed),t.assertEqual("notconsole debug here!notconsole warn here!",result),delete result},function stripConsoleComplex(t){var src=shrinksafe.tests.module.loader("stripcomplex.js","normal");t.assertTrue(src.original.length>src.compressed.length),eval(src.compressed),t.assertEqual("ERROR: wooosome \\ dodgy \" characters *$!?//3-3fn saw arg 'wooo'.ERROR: Error return statement.",result),delete result},function(e){var s=shrinksafe.tests.module.loader("9444.js",null);e.t(s.compressed.indexOf("debugger")>-1)},function nestedReference(t){var src=shrinksafe.tests.module.loader("9676.js",null);eval(src.compressed),t.assertEqual(6,result),delete result},function(e){var s=shrinksafe.tests.module.loader("escapeunicode.js",null);e.assertTrue(0==s.compressed.indexOf('"α";')),e.assertTrue(s.compressed.indexOf("_\\x00_")>0),e.assertTrue(s.compressed.indexOf("_�_")>0),e.assertTrue(s.compressed.indexOf("_\\ufffe_")>0),e.assertTrue(s.compressed.indexOf("_\\uffff_")>0),s=shrinksafe.tests.module.loader("escapeunicode.js",null,!0),e.assertTrue(0==s.compressed.indexOf('"\\u03b1";')),e.assertTrue(s.compressed.indexOf("_\\x00_")>0),e.assertTrue(s.compressed.indexOf("_\\ufffd_")>0),e.assertTrue(s.compressed.indexOf("_\\ufffe_")>0),e.assertTrue(s.compressed.indexOf("_\\uffff_")>0)},function s(e){return;var s,r,t,o}])}catch(e){doh.debug(e)}});