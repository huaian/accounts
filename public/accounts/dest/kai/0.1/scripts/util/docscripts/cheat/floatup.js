define("util/docscripts/cheat/floatup",["dojo","dijit","dojox"],function(t,i,o){t.provide("util.docscripts.cheat.floatup"),function(i){function o(t){return Math.max.apply(Math,t)}function n(i){var o=0;return t.forEach(i,function(t){o+=t}),o}i.NodeList.prototype.floatup=function(t){return t=t||"> *",this.forEach(function(h){function e(t){var i=optimumHeight+threshold,o=optimumHeight-threshold;return t==optimumHeight||i>=t&&t>=o?!0:!1}function r(t,h,r){function a(o){i.forEach(o,function(o){var n=i.indexOf(h,o);~n&&(c[u].push(t[n][0]),t.splice(n,1),h.splice(n,1))}),u++}var u=0,c=new Array(r+1);i.forEach(c,function(t,i){c[i]=[]});for(;h.length;){var p=[];p.push(f?o(h):h[0]),e(n(p))||i.forEach(h,function(t){var i=n(p);(e(i+t)||t<optimumHeight-i)&&p.push(t)}),a(p)}return c}var a=i.query(t,h),u=254,c=4,f=!0,p=(a.length,i.map(a,function(t){return[t,Math.floor(i.position(t).h)]}));heights=i.map(p,function(t){return t[1]}),totalHeight=n(heights),avgHeight=totalHeight/c,maxHeight=o(heights),optimumHeight=Math.max(avgHeight,maxHeight),threshold=75;var l=r(p,heights,c);i.forEach(l,function(t,o){var n=i.create("div",{style:{width:u+"px","float":"left"}},h);i.forEach(t,function(t){i.place(t,n)})})})}}(t)});