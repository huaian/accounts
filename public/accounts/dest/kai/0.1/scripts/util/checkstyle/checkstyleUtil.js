define("util/checkstyle/checkstyleUtil",["dojo","dijit","dojox"],function(e,t,c){checkstyleUtil={errors:[],commentNames:["summary","description","example","tags","this"]},checkstyleUtil.applyRules=function(e,t){if("{"!=t.charAt(0)){var c=checkstyleUtil.getComments(t);for(var l in checkstyleUtil.rules)checkstyleUtil.rules[l](e,t,c)}},checkstyleUtil.getComments=function(e){function t(e,t){for(var c=e;t>c;c++)r[c]=1}function c(){for(var c,l=e.indexOf("/g");l>-1;){if(!r[l]&&"*"!=e.charAt(l-1)){var i=e.charAt(l-1);for(c=l;"\n"!=i&&"/"!=i&&c>0;)i=e.charAt(--c);"/"==i&&l-1>c&&t(c,l)}l=e.indexOf("/g",l+2)}var s,n=["match","replace"];for(c=0;c<n.length;c++)for(s=n[c],l=e.indexOf(s+"(");l>-1;)if(r[l])l=e.indexOf(s+"(",l+s.length);else{var a=e.indexOf(")",l);t(l,a+1)}for(l=e.indexOf(" = /");l>-1;){if(!r[l]&&"*"!=e.charAt(l+4)){var h=e.indexOf("\n",l+1);t(l+3,Math.max(h,l+4))}l=e.indexOf(" = /",l+3)}}var l,r=[];for(l=0;l<e.length;l++)r[l]=0;c();var i,s,n=null,a=1,h=2,o=3,f=4,d=5;for(l=0;l<e.length;l++){var y=!1;if(!r[l]){switch(i=e[l]){case'"':n==a?n=d:null==n&&(n=a,s=l);break;case"'":n==h?n=d:null==n&&(n=h,s=l);break;case"/":null==n&&("/"==e[l+1]?(n=o,s=l,y=!0):"*"==e[l+1]&&(n=f,s=l,y=!0));break;case"*":n==f&&"/"==e[l+1]&&(n=d,y=!0);break;case"\n":n==o&&(n=d)}null!=n&&(r[l]=1),n==d&&(n=null),y&&(l++,r[l]=1)}}return r},checkstyleUtil.getLineNumber=function(e,t){for(var c=0,l=t;l>-1;l--)"\n"==e.charAt(l)&&c++;return c+1},checkstyleUtil.addError=function(e,t,c,l){for(;0==t.indexOf("../");)t=t.substring(3);checkstyleUtil.errors.push({file:t,line:checkstyleUtil.getLineNumber(c,l),message:e})},checkstyleUtil.getNextChar=function(e,t,c,l){for(var r=t;r<e.length;r++)if(!(c&&c[r]||" "==e.charAt(r)||"	"==e.charAt(r)||l&&13==e.charCodeAt(r)))return{value:e[r],pos:r};return null},checkstyleUtil.findNextCharPos=function(e,t,c){for(var l=t;l<e.length;l++)if(e.charAt(l)==c)return l;return-1},checkstyleUtil.createSimpleSearch=function(e,t){return function(c,l,r){for(var i=l.indexOf(e);i>-1;)r[i]||checkstyleUtil.addError(t,c,l,i),i=l.indexOf(e,i+1)}},checkstyleUtil.createSpaceWrappedSearch=function(e,t){return function(c,l,r){for(var i,s,n=l.indexOf(e),a=e.length;n>-1;)i=l.charAt(n-1),s=l.charAt(n+a),r[n]||(" "==i||"	"==i||"=="==e&&"!"==i||"="==e&&("<"==i||">"==i||"="==i||"!"==i||"+"==i||"-"==i||"*"==i||"/"==i||"&"==i||"|"==i))&&(" "==s||13==l.charCodeAt(n+a)||10==l.charCodeAt(n+a)||"=="==e&&"="==s||"!="==e&&"="==s||"<"==e&&"="==s||">"==e&&"="==s||"="==e&&"="==s||"&"==e&&"="==s||"|"==e&&"="==s||"+"==e&&"="==s||"-"==e&&"="==s||"*"==e&&"="==s||"/"==e&&"="==s)||checkstyleUtil.addError(t,c,l,n),n=l.indexOf(e,n+e.length)}},checkstyleUtil.isEOL=function(e,t){var c=e.charCodeAt(t);return 10==c||13==c||"\n"==e.charAt(t)},checkstyleUtil.rules={elseFollowedBySpace:function(e,t,c){for(var l=t.indexOf("else ");l>-1;)c[l]||"if"==t.substring(l+5,l+7)||checkstyleUtil.addError('" else " cannot be followed by a space',e,t,l),l=t.indexOf("else {",l+1)},trailingComma:function(e,t,c){for(var l,r=",",i=t.indexOf(r);i>-1;)c[i]||(l=checkstyleUtil.getNextChar(t,i+1,c,!0),l&&"}"==l.value&&checkstyleUtil.addError("Trailing commas are not permitted",e,t,i)),i=t.indexOf(r,i+1)},switchCaseNewLine:function(e,t,c){for(var l,r="	case ",i=t.indexOf(r);i>-1;){if(!c[i]&&(l=t.indexOf("\n",i+4),l>i))for(var s=l;s>i+4;s--){var n=t.charAt(s);if(!c[s]&&" "!=n&&"	"!=n&&":"!=n&&!checkstyleUtil.isEOL(t,s)){checkstyleUtil.addError("A CASE statement should be followed by a new line",e,t,i);break}if(":"==n)break}i=t.indexOf(r,i+4)}},curlyBraceAtStartOfLine:function(e,t,c){for(var l=t.indexOf("\n");l>-1;){var r=checkstyleUtil.getNextChar(t,l+1);if(r&&!c[r.pos]&&"{"==r.value){var i,s=0;for(i=l-1;i>-1&&3>s;i--)"\n"==t[i]&&s++;var n=t.indexOf("dojo.declare",Math.max(0,i));(0>n||n>l)&&checkstyleUtil.addError("An opening curly brace should not be the first on a line",e,t,l)}l=t.indexOf("\n",l+1)}},parenthesisSpaceCurlyBrace:checkstyleUtil.createSimpleSearch(") {","A space is not permitted between a closing parenthesis and a curly brace"),useTabs:function(e,t,c){for(var l=t.indexOf("  ");l>-1;){var r=checkstyleUtil.getNextChar(t,l+1);if(!c[l]&&r&&13!=r.value.charCodeAt(0)){checkstyleUtil.addError("Tabs should be used instead of spaces",e,t,l);var i=checkstyleUtil.findNextCharPos(t,l+1,"\n");if(0>i)break;l=t.indexOf("  ",i+1)}else l=t.indexOf("  ",l+2)}},commentFormatting:function(e,t,c){for(var l,r=checkstyleUtil.commentNames,i=["//","//	"],s=0;s<r.length;s++){for(var n=r[s],a=0;a<i.length;a++)for(l=t.indexOf(i[a]+n+":");l>-1;){checkstyleUtil.addError('Must be just a space in a comment before "'+n+'"',e,t,l);var h=checkstyleUtil.findNextCharPos(t,l+1,"\n");if(0>h)break;l=t.indexOf(i[a]+n+":",h)}for(l=t.indexOf(n+":");l>-1;){if(c[l])for(var o=l+n.length+1;!checkstyleUtil.isEOL(t,o);){if(" "!=t[o]&&"	"!=t[o]){checkstyleUtil.addError('The comment "'+n+'" must be followed by a new line',e,t,l);break}o++}l=t.indexOf(n+":",l+n.length+2)}}},spacesAroundEquals:checkstyleUtil.createSpaceWrappedSearch("==","The equals sign should be preceded and followed by a space"),spacesAroundNotEquals:checkstyleUtil.createSpaceWrappedSearch("!=","The != sign should be preceded and followed by a space"),spacesAroundAssignment:checkstyleUtil.createSpaceWrappedSearch("=","The = sign should be preceded and followed by a space"),spacesAroundOr:checkstyleUtil.createSpaceWrappedSearch("||","The || sign should be preceded and followed by a space"),spacesAroundLessThan:checkstyleUtil.createSpaceWrappedSearch("<","The < sign should be preceded and followed by a space"),spacesAroundGreaterThan:checkstyleUtil.createSpaceWrappedSearch(">","The > sign should be preceded and followed by a space"),spacesAroundAnd:checkstyleUtil.createSpaceWrappedSearch("&&","The && sign should be preceded and followed by a space")};var l=["catch","do","finally","for","if","switch","try","while","with"];checkstyleUtil.createNoSpaceAfterFunction=function(e){checkstyleUtil.rules["noSpaceAfter"+l[r]+"1"]=checkstyleUtil.createSimpleSearch(" "+e+" ",'" '+e+' " cannot be followed by a space'),checkstyleUtil.rules["noSpaceAfter"+l[r]+"2"]=checkstyleUtil.createSimpleSearch("	"+e+" ",'" '+e+' " cannot be followed by a space')};for(var r=0;r<l.length;r++)checkstyleUtil.createNoSpaceAfterFunction(l[r]);checkstyleUtil.clear=function(){checkstyleUtil.errors=[]},checkstyleUtil.serializeErrors=function(){for(var e=[],t=checkstyleUtil.errors,c=0;c<t.length;c++)e.push(t[c].file+":"+t[c].line+" - "+t[c].message);return e.join("\n")},checkstyleUtil.makeSimpleFixes=function(e){for(var t=checkstyleUtil.getComments(e),c=0;c<l.length;c++)e=checkstyleUtil.fixSpaceAfter(e,l[c],t);return e=checkstyleUtil.replaceAllExceptComments(e,"=  ","= ",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,"    ","	",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,"  ","	",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,"	if (","	if(",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,"} else","}else",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,"}	else","}else",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,"}else {","}else{",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,"	while (","	while(",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,"	for (","	for(",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,"	switch (","	switch(",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,") {","){",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.replaceAllExceptComments(e,"//summary:","// summary:",{}),e=checkstyleUtil.replaceAllExceptComments(e,"//description:","// description:",{}),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixTrailingWhitespace(e),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,"===",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,"!==",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,"<=",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,"<",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,">=",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,">",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,"!=",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,"==",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,"=",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,"||",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixSpaceBeforeAndAfter(e,"&&",t),t=checkstyleUtil.getComments(e),e=checkstyleUtil.fixCommentNames(e)},checkstyleUtil.fixCommentNames=function(e){var t,c=checkstyleUtil.commentNames;for(t=0;t<c.length;t++)e=checkstyleUtil.replaceAllExceptComments(e,"//	"+c[t]+":","// "+c[t]+":",{});for(t=0;t<c.length;t++)for(var l=c[t],r="// "+l+":",i=e.indexOf(r);i>-1;){if(!checkstyleUtil.isEOL(e,i+l.length+4)){for(var s="",n=i-1;!checkstyleUtil.isEOL(e,n);)s+=e.charAt(n),n--;var a=i+l.length+4;(" "==e.charAt(a)||"	"==e.charAt(a))&&(e=checkstyleUtil.deleteChar(e,a)),e=checkstyleUtil.insertChar(e,"\n"+s+"//		",i+l.length+4)}i=e.indexOf(r,i+l.length)}return e},checkstyleUtil.replaceAllExceptComments=function(e,t,c,l){for(var r=e.indexOf(t),i=[];r>-1;)l[r]||i.push(r),r=e.indexOf(t,r+t.length);for(var s=i.length-1;s>-1;s--)r=i[s],l[r]||(e=e.substring(0,r)+c+e.substring(r+t.length,e.length));return e},checkstyleUtil.insertChar=function(e,t,c){return e.substring(0,c)+t+e.substring(c)},checkstyleUtil.deleteChar=function(e,t){return e.substring(0,t)+e.substring(t+1)},checkstyleUtil.fixTrailingWhitespace=function(e){for(var t=e.indexOf("\n");t>-1;){for(var c=t-1;c>-1&&(" "==e.charAt(c)||"	"==e.charAt(c));)c--;t-1>c?(e=e.substring(0,c+1)+e.substring(t,e.length),t=e.indexOf("\n",c+2)):t=e.indexOf("\n",t+1)}return e},checkstyleUtil.fixSpaceAfter=function(e,t,c){for(var l=e.indexOf(t+" ");l>-1;)c[l]||(e=checkstyleUtil.deleteChar(e,l+t.length)),l=e.indexOf(t+" ",l+t.length);return e},checkstyleUtil.fixSpaceBeforeAndAfter=function(e,t,c){for(var l,r,i=e.indexOf(t),s=t.length;i>-1;)l=e.charAt(i-1),r=e.charAt(i+s),c[i]||(" "!=l&&"	"!=l&&("=="!=t||"!"!=l&&"="!=l)&&("="!=t||"<"!=l&&">"!=l&&"="!=l&&"!"!=l&&"+"!=l&&"-"!=l&&"*"!=l&&"/"!=l&&"&"!=l&&"|"!=l)&&(e=checkstyleUtil.insertChar(e," ",i),i++)," "==r||13==e.charCodeAt(i+s)||10==e.charCodeAt(i+s)||"=="==t&&"="==r||"!="==t&&"="==r||"="==t&&"="==r||"<"==t&&"="==r||">"==t&&"="==r||"&"==t&&"="==r||"|"==t&&"="==r||"+"==t&&"="==r||"-"==t&&"="==r||"*"==t&&"="==r||"/"==t&&"="==r||(e=e=checkstyleUtil.insertChar(e," ",i+t.length),i++)),i=e.indexOf(t,i+t.length);return e},checkstyleUtil.generateReport=function(e){function t(e){var t=e.lastIndexOf("/");return e.substring(0,t)}function c(e){n[e]||(n[e]=!0,s.push("{id: '"+i++ +"', file: '"+e+"', folder: 1}"))}var l,r,i=1,s=["{id:'"+i++ +"', file: 'All', isFolder:true}"],n={},a={},h=1;for(l=0;l<checkstyleUtil.errors.length;l++){r=checkstyleUtil.errors[l];var o=r.message,f=a[o];f||(f="m"+h++,a[o]=f,s.push("{id:'"+f+"',msg:'"+o+"'}"))}for(c("All"),l=0;l<checkstyleUtil.errors.length;l++){r=checkstyleUtil.errors[l];var d=t(r.file);c(d),s.push("{id:'"+i++ +"', file:'"+r.file+"',line:"+r.line+",msg:{'_reference':'"+a[r.message]+"'},folder: 0}")}return s.push("{id:'"+i++ +"', date: "+(new Date).getTime()+"}"),e||print("Found "+checkstyleUtil.errors.length+" checkstyle errors. Open the file checkstyleReport.html to view the results."),"{ identifier: 'id', label:'file', items: ["+s.join(",\n")+"]}"}});