define("topic/c.topic",["common/c.class.inherit","dojo/topic","topic/c.abstract.topic"],function(t,s,i){var c=new t.Class(i,{__propertys__:function(){this.topicName="",this.target=null,this.source=null,this.data=null,this.status=null,this.subscribers=null,this.callbacksObj=null},initialize:function($super,t){var i=this;_.isFunction($super)&&$super(t),s.subscribe(i.topicName,function(t){$.proxy(i.executeCallback,i)(t)}),this.callbacksObj={},this.subscribers=[],this.target=[]},publish:function(){s.publish(this.topicName,{status:this.status,data:this.data,source:this.source,sourceParentViewName:this.sourceParentViewName,target:this.target||[]})},subscribe:function(t,s){var i=t.viewName;return _.isString(i)?(_.contains(this.subscribers,i)||this.subscribers.push(i),void(this.callbacksObj[i]=function(c){return t.viewName?void s.apply(t,[c]):(delete s[i],!1)})):!1},unsubscribe:function(t){this.subscribers=_.without(this.subscribers,t),this.callbacksObj[t]=null,delete this.callbacksObj[t]},addTarget:function(t){this.target.concat(t||[])},set:function(t,s){return this[t]=s,!0},executeCallback:function(t){var s=this;_.each(s.subscribers,function(i){(_.isEmpty(t.target)||_.contains(t.target,i))&&s.callbacksObj[i]&&s.callbacksObj[i](t)})}});return c.getInstance=function(){return this.instance instanceof this?this.instance:this.instance=new this},c});