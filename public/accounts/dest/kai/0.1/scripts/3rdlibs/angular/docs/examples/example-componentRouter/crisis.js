define("3rdlibs/angular/docs/examples/example-componentRouter/crisis",["dojo","dijit","dojox"],function(i,e,t){!function(i){"use strict";function e(i){var e=i.when([{id:1,name:"Princess Held Captive"},{id:2,name:"Dragon Burning Cities"},{id:3,name:"Giant Asteroid Heading For Earth"},{id:4,name:"Release Deadline Looms"}]);this.getCrises=function(){return e},this.getCrisis=function(i){return e.then(function(e){for(var t=0;t<e.length;t++)if(e[t].id==i)return e[t]})}}function t(i){var e=null,t=this;this.$routerOnActivate=function(s){i.getCrises().then(function(i){t.crises=i,e=s.params.id})},this.isSelected=function(i){return i.id==e},this.onSelect=function(i){this.$router.navigate(["CrisisDetail",{id:i.id}])}}function s(i,e){var t=this;this.$routerOnActivate=function(e){var s=e.params.id;i.getCrisis(s).then(function(i){i?(t.editName=i.name,t.crisis=i):t.gotoCrises()})},this.$routerCanDeactivate=function(){return this.crisis&&this.crisis.name!==this.editName?e.confirm("Discard changes?"):!0},this.cancel=function(){t.editName=t.crisis.name,t.gotoCrises()},this.save=function(){t.crisis.name=t.editName,t.gotoCrises()},this.gotoCrises=function(){var i=t.crisis&&t.crisis.id;this.$router.navigate(["CrisisList",{id:i}])}}i.module("crisis-center",["dialog"]).service("crisisService",e).component("crisisCenter",{template:"<h2>Crisis Center</h2><ng-outlet></ng-outlet>",$routeConfig:[{path:"/",name:"CrisisList",component:"crisisList",useAsDefault:!0},{path:"/:id",name:"CrisisDetail",component:"crisisDetail"}]}).component("crisisList",{template:'<ul>\n  <li ng-repeat="crisis in $ctrl.crises"\n    ng-class="{ selected: $ctrl.isSelected(crisis) }"\n    ng-click="$ctrl.onSelect(crisis)">\n    <span class="badge">{{crisis.id}}</span> {{crisis.name}}\n  </li>\n</ul>\n',bindings:{$router:"<"},controller:t,$canActivate:function(i,e){}}).component("crisisDetail",{templateUrl:"crisisDetail.html",bindings:{$router:"<"},controller:s})}(window.angular)});