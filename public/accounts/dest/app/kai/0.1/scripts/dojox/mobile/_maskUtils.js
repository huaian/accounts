define("dojox/mobile/_maskUtils",["dojo/_base/window","dojo/dom-style","./sniff"],function(e,t,a){a.add("mask-image-css",function(e,t,a){return"function"==typeof t.getCSSCanvasContext&&"undefined"!=typeof a.style.webkitMaskImage}),a.add("mask-image",function(){return a("mask-image-css")||a("svg")});var l={};return{createRoundMask:function(i,o,s,r,n,c,f,d,v,g){var h=o+c+r,m=s+f+n;if(a("mask-image-css")){var b=("DojoMobileMask"+o+s+c+f+d+v).replace(/\./g,"_");if(!l[b]){l[b]=1;var u=e.doc.getCSSCanvasContext("2d",b,h,m);if(u.beginPath(),d==v)2==d&&5==c?(u.fillStyle="rgba(0,0,0,0.5)",u.fillRect(1,0,3,2),u.fillRect(0,1,5,1),u.fillRect(0,f-2,5,1),u.fillRect(1,f-1,3,2),u.fillStyle="rgb(0,0,0)",u.fillRect(0,2,5,f-4)):2==d&&5==f?(u.fillStyle="rgba(0,0,0,0.5)",u.fillRect(0,1,2,3),u.fillRect(1,0,1,5),u.fillRect(c-2,0,1,5),u.fillRect(c-1,1,2,3),u.fillStyle="rgb(0,0,0)",u.fillRect(2,0,c-4,5)):(u.fillStyle="#000000",u.moveTo(o+d,s),u.arcTo(o,s,o,s+d,d),u.lineTo(o,s+f-d),u.arcTo(o,s+f,o+d,s+f,d),u.lineTo(o+c-d,s+f),u.arcTo(o+c,s+f,o+c,s+d,d),u.lineTo(o+c,s+d),u.arcTo(o+c,s,o+c-d,s,d));else{var y=Math.PI;u.scale(1,v/d),u.moveTo(o+d,s),u.arc(o+d,s+d,d,1.5*y,.5*y,!0),u.lineTo(o+c-d,s+2*d),u.arc(o+c-d,s+d,d,.5*y,1.5*y,!0)}u.closePath(),u.fill()}i.style.webkitMaskImage="-webkit-canvas("+b+")"}else if(a("svg")){i._svgMask&&i.removeChild(i._svgMask);for(var k=null,p=i.parentNode;p&&(k=t.getComputedStyle(p).backgroundColor,!k||"transparent"==k||k.match(/rgba\(.*,\s*0\s*\)/));p=p.parentNode);var M="http://www.w3.org/2000/svg",S=e.doc.createElementNS(M,"svg");S.setAttribute("width",h),S.setAttribute("height",m),S.style.position="absolute",S.style.pointerEvents="none",S.style.opacity="1",S.style.zIndex="2147483647";var C=e.doc.createElementNS(M,"path");g=g||0,d+=g,v+=g;var R=" M"+(o+d-g)+","+(s-g)+" a"+d+","+v+" 0 0,0 "+-d+","+v+" v"+-v+" h"+d+" Z M"+(o-g)+","+(s+f-v+g)+" a"+d+","+v+" 0 0,0 "+d+","+v+" h"+-d+" v"+-v+" z M"+(o+c-d+g)+","+(s+f+g)+" a"+d+","+v+" 0 0,0 "+d+","+-v+" v"+v+" h"+-d+" z M"+(o+c+g)+","+(s+v-g)+" a"+d+","+v+" 0 0,0 "+-d+","+-v+" h"+d+" v"+v+" z";s>0&&(R+=" M0,0 h"+h+" v"+s+" h"+-h+" z"),n>0&&(R+=" M0,"+(s+f)+" h"+h+" v"+n+" h"+-h+" z"),C.setAttribute("d",R),C.setAttribute("fill",k),C.setAttribute("stroke",k),C.style.opacity="1",S.appendChild(C),i._svgMask=S,i.appendChild(S)}}}});