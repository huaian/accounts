define("dojox/lang/async",["dojo","dijit","dojox"],function(n,a,c){n.provide("dojox.lang.async"),function(){var a=n,r=a.Deferred,t=a.forEach,e=a.some,o=c.lang.async,l=Array.prototype.slice,u=Object.prototype.toString;o.seq=function(n){var a="[object Array]"==u.call(n)?n:arguments;return function(n){var c=new r;return t(a,function(n){c.addCallback(n)}),c.callback(n),c}},o.par=function(n){var a="[object Array]"==u.call(n)?n:arguments;return function(n){var c=new Array(a.length),o=function(){t(c,function(n){n instanceof r&&n.fired<0&&n.cancel()})},l=new r(o),u=a.length;t(a,function(a,r){var t;try{t=a(n)}catch(e){t=e}c[r]=t});var i=e(c,function(n){return n instanceof Error?(o(),l.errback(n),!0):!1});return i||t(c,function(n,a){n instanceof r?n.addCallbacks(function(n){c[a]=n,--u||l.callback(c)},function(n){o(),l.errback(n)}):--u}),u||l.callback(c),l}},o.any=function(n){var a="[object Array]"==u.call(n)?n:arguments;return function(c){var o=new Array(a.length),l=!0;cancel=function(n){t(o,function(a,c){c!=n&&a instanceof r&&a.fired<0&&a.cancel()})},n=new r(cancel),t(a,function(n,a){var r;try{r=n(c)}catch(t){r=t}o[a]=r});var u=e(o,function(a,c){return a instanceof r?!1:(cancel(c),n.callback(a),!0)});return u||t(o,function(a,c){a.addBoth(function(a){l&&(l=!1,cancel(c),n.callback(a))})}),n}},o.select=function(n,a){var c="[object Array]"==u.call(a)?a:l.call(arguments,1);return function(a){return(new r).addCallback(n).addCallback(function(n){return"number"==typeof n&&n>=0&&n<c.length?c[n](a):new Error("async.select: out of range")}).callback(a)}},o.ifThen=function(n,a,c){return function(t){return(new r).addCallback(n).addCallback(function(n){return(n?a:c)(t)}).callback(t)}},o.loop=function(n,a){return function(c){function t(n){u.errback(n)}function e(n){return n?l.addCallback(a).addCallback(o):u.callback(n),n}function o(a){l=(new r).addCallback(n).addCallback(e).addErrback(t),l.callback(a)}var l,u=new r(function(){l.cancel()});return o(c),u}}}()});