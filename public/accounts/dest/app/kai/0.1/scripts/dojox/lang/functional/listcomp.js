define("dojox/lang/functional/listcomp",["dojo","dijit","dojox"],function(n,o,i){n.provide("dojox.lang.functional.listcomp"),function(){var o=/\bfor\b|\bif\b/gm,t=function(n){for(var i=n.split(o),t=n.match(o),r=["var r = [];"],u=[],c=0,e=t.length;e>c;){var f=t[c],a=i[++c];"for"!=f||/^\s*\(\s*(;|var)/.test(a)||(a=a.replace(/^\s*\(/,"(var ")),r.push(f,a,"{"),u.push("}")}return r.join("")+"r.push("+i[0]+");"+u.join("")+"return r;"};n.mixin(i.lang.functional,{buildListcomp:function(n){return"function(){"+t(n)+"}"},compileListcomp:function(n){return new Function([],t(n))},listcomp:function(n){return new Function([],t(n))()}})}()});