define("dojox/math/matrix",["dojo","dojox"],function(r,t){return r.getObject("math.matrix",!0,t),r.mixin(t.math.matrix,{iDF:0,ALMOST_ZERO:1e-10,multiply:function(r,t){var n=r.length,e=r[0].length,a=t.length,i=t[0].length;if(e!=a)return[[0]];for(var o=[],f=0;n>f;f++){o[f]=[];for(var u=0;i>u;u++){o[f][u]=0;for(var h=0;e>h;h++)o[f][u]+=r[f][h]*t[h][u]}}return o},product:function(){if(0==arguments.length)return 1;for(var r=arguments[0],t=1;t<arguments.length;t++)r=this.multiply(r,arguments[t]);return r},sum:function(){if(0==arguments.length)return 0;var r=this.copy(arguments[0]),t=r.length;if(0==t)return 0;var n=r[0].length;if(0==n)return 0;for(var e=1;e<arguments.length;++e){var a=arguments[e];if(a.length!=t||a[0].length!=n)return 0;for(var i=0;t>i;i++)for(var o=0;n>o;o++)r[i][o]+=a[i][o]}return r},inverse:function(r){if(1==r.length&&1==r[0].length)return[[1/r[0][0]]];var t=r.length,n=this.create(t,t),e=this.adjoint(r),a=this.determinant(r),i=0;if(0==a)return[[0]];i=1/a;for(var o=0;t>o;o++)for(var f=0;t>f;f++)n[o][f]=i*e[o][f];return n},determinant:function(r){if(r.length!=r[0].length)return 0;for(var t=r.length,n=1,e=this.upperTriangle(r),a=0;t>a;a++){var i=e[a][a];if(Math.abs(i)<this.ALMOST_ZERO)return 0;n*=i}return n*=this.iDF},upperTriangle:function(r){r=this.copy(r);var t=0,n=0,e=r.length,a=1;this.iDF=1;for(var i=0;e-1>i;i++){"number"!=typeof r[i][i],a=1;for(var o=0;0==r[i][i]&&!o;)if(i+a>=e)this.iDF=0,o=1;else{for(var f=0;e>f;f++)n=r[i][f],r[i][f]=r[i+a][f],r[i+a][f]=n;a++,this.iDF*=-1}for(var u=i+1;e>u;u++)if("number"!=typeof r[u][i],"number"!=typeof r[i][u],0!=r[i][i])for(var t=-1*r[u][i]/r[i][i],h=i;e>h;h++)r[u][h]=t*r[i][h]+r[u][h]}return r},create:function(r,t,n){n=n||0;for(var e=[],a=0;t>a;a++){e[a]=[];for(var i=0;r>i;i++)e[a][i]=n}return e},ones:function(r,t){return this.create(r,t,1)},zeros:function(r,t){return this.create(r,t)},identity:function(r,t){t=t||1;for(var n=[],e=0;r>e;e++){n[e]=[];for(var a=0;r>a;a++)n[e][a]=e==a?t:0}return n},adjoint:function(r){var t=r.length;if(1>=t)return[[0]];if(r.length!=r[0].length)return[[0]];for(var n=this.create(t,t),e=this.create(t-1,t-1),a=0,i=0,o=0,f=0,u=0,h=0;t>h;h++)for(var g=0;t>g;g++){for(o=0,a=0;t>a;a++)if(a!=h){for(f=0,i=0;t>i;i++)i!=g&&(e[o][f]=r[a][i],f++);o++}u=this.determinant(e),n[h][g]=Math.pow(-1,h+g)*u}return this.transpose(n)},transpose:function(r){for(var t=this.create(r.length,r[0].length),n=0;n<r.length;n++)for(var e=0;e<r[n].length;e++)t[e][n]=r[n][e];return t},format:function(r,t){function n(r,t){var n=Math.pow(10,t),e=Math.round(r*n)/n,a=e.toString();for("-"!=a.charAt(0)&&(a=" "+a),a.indexOf(".")>-1&&(a+=".");a.length<t+3;)a+="0";return a}t=t||5;for(var e=r.length,a=e>0?r[0].length:0,i="",o=0;e>o;o++){i+="| ";for(var f=0;a>f;f++)i+=n(r[o][f],t)+" ";i+="|\n"}return i},copy:function(r){for(var t=r.length,n=r[0].length,e=this.create(n,t),a=0;t>a;a++)for(var i=0;n>i;i++)e[a][i]=r[a][i];return e},scale:function(r,t){r=this.copy(r);for(var n=r.length,e=r[0].length,a=0;n>a;a++)for(var i=0;e>i;i++)r[a][i]*=t;return r}}),t.math.matrix});