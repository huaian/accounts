define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../when"],function(t,r,e){var n=function(u){function o(r){u[r]=function(){var o=arguments,l=e(u,function(e){return Array.prototype.unshift.call(o,e),n(t[r].apply(t,o))});return"forEach"!==r||a?l:void 0}}if(!u)return u;var a=!!u.then;return a&&(u=r.delegate(u)),o("forEach"),o("filter"),o("map"),null==u.total&&(u.total=e(u,function(t){return t.length})),u};return r.setObject("dojo.store.util.QueryResults",n),n});