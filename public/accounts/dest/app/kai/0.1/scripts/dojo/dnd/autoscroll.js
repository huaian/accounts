define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(o,e,t,l,r,a){var L={};o.setObject("dojo.dnd.autoscroll",L),L.getViewport=a.getBox,L.V_TRIGGER_AUTOSCROLL=32,L.H_TRIGGER_AUTOSCROLL=32,L.V_AUTOSCROLL_VALUE=16,L.H_AUTOSCROLL_VALUE=16;var n,i=t.doc,_=1/0,d=1/0;return L.autoScrollStart=function(o){i=o,n=a.getBox(i);var e=t.body(i).parentNode;_=Math.max(e.scrollHeight-n.h,0),d=Math.max(e.scrollWidth-n.w,0)},L.autoScroll=function(o){var e=n||a.getBox(i),l=t.body(i).parentNode,r=0,O=0;o.clientX<L.H_TRIGGER_AUTOSCROLL?r=-L.H_AUTOSCROLL_VALUE:o.clientX>e.w-L.H_TRIGGER_AUTOSCROLL&&(r=Math.min(L.H_AUTOSCROLL_VALUE,d-l.scrollLeft)),o.clientY<L.V_TRIGGER_AUTOSCROLL?O=-L.V_AUTOSCROLL_VALUE:o.clientY>e.h-L.V_TRIGGER_AUTOSCROLL&&(O=Math.min(L.V_AUTOSCROLL_VALUE,_-l.scrollTop)),window.scrollBy(r,O)},L._validNodes={div:1,p:1,td:1},L._validOverflow={auto:1,scroll:1},L.autoScrollNodes=function(o){for(var a,n,i,_,d,O,c,R,s=0,T=0,w=o.target;w;){if(1==w.nodeType&&w.tagName.toLowerCase()in L._validNodes){var f=r.getComputedStyle(w),v=f.overflow.toLowerCase()in L._validOverflow,A=f.overflowX.toLowerCase()in L._validOverflow,C=f.overflowY.toLowerCase()in L._validOverflow;if((v||A||C)&&(a=l.getContentBox(w,f),n=l.position(w,!0)),(v||A)&&(i=Math.min(L.H_TRIGGER_AUTOSCROLL,a.w/2),d=o.pageX-n.x,(e("webkit")||e("opera"))&&(d+=t.body().scrollLeft),s=0,d>0&&d<a.w&&(i>d?s=-i:d>a.w-i&&(s=i),c=w.scrollLeft,w.scrollLeft=w.scrollLeft+s)),(v||C)&&(_=Math.min(L.V_TRIGGER_AUTOSCROLL,a.h/2),O=o.pageY-n.y,(e("webkit")||e("opera"))&&(O+=t.body().scrollTop),T=0,O>0&&O<a.h&&(_>O?T=-_:O>a.h-_&&(T=_),R=w.scrollTop,w.scrollTop=w.scrollTop+T)),s||T)return}try{w=w.parentNode}catch(S){w=null}}L.autoScroll(o)},L});