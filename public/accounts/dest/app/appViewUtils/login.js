define("appViewUtils/login",["../appRestStore/account","appConfig/const","cutil/c.util.common","cutil/c.util.validate"],function(t,a,o,r){"use strict";var e={hasValidFormData:function(t){var a=this,o=JSON.parse(JSON.stringify(a.vm.$data.formData));return a.memoryStore.setAttr("memory.formData",o),a.vm.$data.formData.loginId?a.vm.$data.formData.password?o:(a.showErrorTip({tipMessage:"请输入密码"}),!1):(a.showErrorTip({tipMessage:"请输入用户名"}),!1)},login:function(a){var o=this,r=null;return a&&$(a.target).hasClass("disabled")?!1:void((r=$.proxy(e.hasValidFormData,o)())&&t.login.add(_.extend(o.vm.$data.formData,{url:Kai.getUrlWithoutHash()})).then(function(t){o.isSucceedResponse(t)?(o.setUserStore(t.body.userInfo),o.showToast({text:"登录成功",callback:function(){o.forward("h5/view/mobile_index")}})):o.showResponseError(t)},function(t){o.showResponseError(t)}))}};return e});