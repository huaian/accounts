define(["../appRestStore/account","appConfig/const","cutil/c.util.common","cutil/c.util.validate"],function(t,a,r,o){"use strict";var e={hasValidFormData:function(t){var a=this,r=JSON.parse(JSON.stringify(a.vm.$data.formData));return a.memoryStore.setAttr("memory.formData",r),a.vm.$data.formData.loginId?a.vm.$data.formData.password?r:(a.showErrorTip({tipMessage:"请输入密码"}),!1):(a.showErrorTip({tipMessage:"请输入用户名"}),!1)},login:function(a){var r=this,o=null;return a&&$(a.target).hasClass("disabled")?!1:void((o=$.proxy(e.hasValidFormData,r)())&&t.register.add(_.extend(r.vm.$data.formData,{url:Kai.getUrlWithoutHash()})).then(function(t){r.isSucceedResponse(t)?(r.setUserStore(t.body),r.showToast({text:"注册成功!",callback:function(){r.forward("h5/view/login")}})):r.showResponseError(t)},function(){}))}};return e});