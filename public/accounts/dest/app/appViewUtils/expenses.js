define("appViewUtils/expenses",["appRestStore/expenses","dojo/_base/lang","cutil/c.util.common","cutil/c.util.validate"],function(e,t,s,o){"use strict";var a={hasValidFormData:function(e){var t=this,s=JSON.parse(JSON.stringify(t.vm.$data.formData));return t.memoryStore.setAttr("memory.formData",s),s.type?"1"===s.date?(t.showToast({text:"请选择日期"}),!1):_.isNumber(parseFloat(s.amount))?s:(t.showToast({text:"请输入金额"}),!1):(t.showToast({text:"请选择来源"}),!1)},save:function(s){var o=this,r=null;return s&&$(s.target).hasClass("form-disabled")?!1:void((r=$.proxy(a.hasValidFormData,o)())&&e.expenses.add(_.extend(r,{id:o.getQueryObj().expenseid}),{forcePost:!1}).then(function(e){o.isSucceedResponse(e)&&t.exists("body.content"),e?o.showToast({text:"保存成功",callback:function(){o.model.trigger("goBack")}}):o.showResponseError(e)},function(){o.showResponseError(resp)}))}};return a});