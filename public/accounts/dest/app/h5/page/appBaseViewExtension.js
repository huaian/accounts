define(["viewUtils/index","page/c.page.view","data/store/c.common.store","cutil/c.util.common"],function(e,t,o,n){"use strict";var i={};return i={"super":t.prototype,initialize:function(){var e=this["super"].initialize.apply(this,arguments);return e},show:function(){var e=this["super"].show.apply(this,arguments);return e}},_.extend(i,e,{login:function(){var e=this;e.showLoginDialog()},showLoginDialog:function(){var e=this;e.loginDialogInstance||(e.loginDialogInstance=new loginDialog({view:e})),e.loginDialogInstance.startup(),e.loginDialogInstance.show(),Kai.hideLoading()},logout:function(){var e=this,t=Models.logout.getInstance();e.showLoading();var o=function(t){e.hideLoading(),e.isSucceedResponse(t)?e.showToast({text:"注销成功",callback:function(){UserStore.remove(),_.isObject(localStorage)&&localStorage.clear(),e.forward(Kai.loginUrl,{keepURL:!0})}}):e.showResponseError(t)},n=function(t){e.hideLoading(),e.showResponseError(t)},i=function(){};i();t.execute(o,n,!0,e)},prepareDebugData:function(){var e=this,t=e.getQueryObj();t.applycode&&(e.applyCode=t.applycode)},setUbtData:function(e){var t=this;t.ubtData={current:e||"*",applyCode:t.model.get("applyCode")||"*"}},getStaffNumber:function(){var e=o.UserStore.getInstance();o.HeadStore.getInstance();return(e.get()||{}).user.username},getStaffRole:function(){}}),i});