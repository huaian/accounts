require({cache:{"kaiView/viewUtils/index":function(){define(["service/web/c.web.geolocation","data/store/c.common.store","dojo/Deferred"],function(e,t,i){"use strict";var n={goBack:function(){var e=this;e.back()},gotoPage:function(e,t){var i=this,t=t||{};i.forward(e,t)},showSystemAlert:function(e){var e=e||{};Kai.showAlert('<div class="weui_cells notification"><p class="noti_title">'+(e.title||"")+'</p><p class="main_text"</p>'+(e.message||"")+'<p class="noti_name">---'+(e.source||"")+"</p></div>")},checkStrong:function(e){var t=0;if(e.length<8)return t;switch(/\d/.test(e)&&t++,/[a-z]/.test(e)&&t++,/[A-Z]/.test(e)&&t++,/[_\W]/.test(e)&&t++,t){case 1:return 1;case 2:return 2;case 3:case 4:return e.length<12?3:4}},getPosition:function(t,i,n){_.defer(function(){e.requestGeographic(t,i,n)})}};return n})},"service/web/c.web.geolocation":function(){define(["./c.geo.helper","data/model/c.model","common/c.class.inherit"],function(e,t,i){var n={};return n.isInOverseas=!1,n.requestGeographic=function(t,i,o){var a=function(e,t,i){var n=document.createElement("script"),o=document.write;n.type="text/javascript",n.readyState?n.onreadystatechange=function(){("loaded"==n.readyState||"complete"==n.readyState)&&(n.onreadystatechange=null,document.write=o,i&&t&&t())}:(n.onload=function(){document.write=o,i&&t&&t()},n.onerror=function(){document.write=o}),n.src=e,document.write=function(e){var t=e.match(/http(s)?:\/\/[A-Za-z0-9]+[\.\/=\?%\-&_~`@[\]\:+!]*([^<>])*(\.js)/);t&&a(t[0],function(){document.write=o},!0)},document.body.appendChild(n)},s=function(i){t&&t(i);var o=i.coords.longitude,s=i.coords.latitude,r=e.getCountry(o,s);2==r?(n.isInOverseas=!0,"undefined"==typeof google&&a("https://maps.googleapis.com/maps/api/js?v=3&region=zh-CN")):n.isInOverseas=!1},r=function(e){var t="未能获取到您当前位置，请重试或选择城市";switch(e.code){case e.TIMEOUT:t="获取您当前位置超时，请重试或选择城市！";break;case e.PERMISSION_DENIED:t="您拒绝了使用位置共享服务，查询已取消，请开启位置共享或选择城市！";break;case e.POSITION_UNAVAILABLE:t="获取您当前位置信息失败，请重试或选择城市！"}i&&i(e,t)};window.navigator&&window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(s,r,{enableHighAccuracy:!0,maximumAge:5e3,timeout:o||2e4}):i&&i("","获取您当前位置信息失败，浏览器不支持定位！")},n})},"data/model/c.model":function(){define(["common/c.class.inherit","data/store/c.abstract.store","data/store/common/c.head.store","data/store/common/c.user.store","data/store/common/c.mobiletoken.store","./c.abstract.model","cutil/c.util.object","cutil/c.util.common"],function(e,t,i,n,o,a,s,r){var c=function(){Kai.forward(Kai.loginUrl,{keepURL:!1})},u=new e.Class(a,{__propertys__:function(){this.usehead=!0,this.headStore=i.getInstance(),this.userStore=n.getInstance(),this.mTokenStore=o.getInstance(),this.headinfo=null,this.result=null,this.checkAuth=!0,this.extension=null,this.isUseH5Sys=!1},initialize:function($super,e){_.isFunction($super)&&$super(e)},getTag:function(){var e=this.getParamData();return JSON.stringify(e)},getParamData:function(){var e=this.param instanceof t?this.param.get():this.param;return _.isObject(e)||(e={}),$.extend(!0,{},e)},execute:function(e,i,n,o,s){var u=this.headStore.get(),l=this.userStore.get();if(!l&&this.checkAuth)return $.proxy(c,o)(),!1;if(_.isObject(u)&&_.isObject(l)&&l.auth!==u.auth)return Kai.showMessage("您已在其他标签中登录本系统(或当前登录信息已过期)，请保存已编辑的内容后重新登录"),Kai.hideLoading(),this.userStore.remove(),!1;var d=this.mTokenStore.get();d?this.headStore.setAttr("pauth",d):this.headStore.removeAttr("pauth");var h=r.getGuid(),p=this.headStore.getAttr("cid");h&&h!=p&&this.headStore.setAttr("cid",r.getGuid()||""),!Kai.app.code.is("MASTER")||Kai.app.code.is("YOUTH");var f=this.getParamData();this.pushValidates(function(e){var t=this._getResponseHead(e);return t.overdue?{overdue:t.overdue}:t.success});var v=this.getTag(),m=this.result&&this.result.get(v);!m||this.ajaxOnly||n?("get"!==this.method.toLowerCase()&&this.usehead&&this.contentType!==a.CONTENT_TYPE_JSONP?(f.head=this.headStore.get()||{},this.isUseH5Sys&&f.head&&(f.head.syscode="09"),_.isEmpty(this.extension)||(_.isArray(this.extension)?f.head.extension=this.extension:_.isObject(this.extension)&&(f.head.extension=[],f.head.extension.push(this.extension)))):"get"===this.method.toLowerCase()||this.usehead||this.contentType===a.CONTENT_TYPE_JSONP||this.headinfo&&(f.head=this.headinfo),this.onBeforeCompleteCallback=function(e){try{}catch(i){}if(e&&e[Kai.responseStatusKey]&&"400004"==e[Kai.responseStatusKey].code&&this.checkAuth)return $.proxy(c,o)(),!1;if(this.result instanceof t){try{}catch(i){}this.result.set(e,v)}},this._execute(e,i,o,s,f)):"function"==typeof e&&e.call(o||this,m)},_getResponseHead:function(e){var t=!!e[Kai.responseStatusKey],i=t?e[Kai.responseStatusKey]:e.head,n=!1,o=!1;if(t&&i){var a=i.Ack;if("Failure"===a||1==a){var s=i.Errors;if(s instanceof Array&&s.length>0)for(var r,c=0;c<s.length;c++)if(r=s[c],r&&r.ErrorCode&&"MobileRequestFilterException"==r.ErrorCode){this.checkAuth&&(o=!0,this.headStore.setAuth(""),this.userStore.removeUser());break}}n="Success"===i.Ack||"0"==i.Ack||"000000"==i.code}else n=i&&0===i.errcode;return{success:n,overdue:o}},setParam:function(e,i,n){var o={},a=this.param instanceof t;if(_.isObject(e)?(o=e,_.isUndefined(n)&&_.isBoolean(i)&&(n=i)):o[e]=i,n)a?this.param.set(o):this.param=o;else for(var r in o)a?this.param.setAttr(r,o[r]):s.set(this.param,r,o[r])},clearResult:function(){this.result&&"function"==typeof this.result.remove?this.result.remove():this.result=null},fetch:function(){}});return u})},"appViewUtils/index":function(){define([],function(){"use strict";var e={goBack:function(){var e=this;e.back()},goRegister:function(){var e=this;e.forward("h5/view/register")},showSystemAlert:function(e){var e=e||{};Kai.showAlert('<div class="weui_cells notification"><p class="noti_title">'+(e.title||"")+'</p><p class="main_text"</p>'+(e.message||"")+'<p class="noti_name">---'+(e.source||"")+"</p></div>")}};return e})},"kaiView/h5/view/login/view":function(){define(["ui/actionSheet/ui.actionSheet","appConfig/interface","data/restStore/factory","../../page/appBaseViewExtension","../../../viewUtils/index","page/viewFactory","./viewUtils/login","./events/events","cutil/c.util.validate","dojo/text!./template/template.html"],function(e,t,i,n,o,a,s,r,c){"use strict";var u=a.create("kaiBaseView",n),l=u.extend({events:{"click .js-button-send_verifyCode":_.debounce(s.sendVerifyCode,250,!0,function(){}),"click .js_button_login":_.debounce(s.login,250,!0,function(){})},onCreate:function(){},els:{sendVerifyCodeButton:{selector:".js-button-send_verifyCode",type:"jquery"},cellphoneErrorIconNode:{selector:".js_cellphone_container .weui_icon_warn",type:"jquery"},cellphoneSuccessIconNode:{selector:".js_cellphone_container .weui_icon_success_no_circle",type:"jquery"},loginButton:{selector:".js_button_login",type:"jquery"},js_select_store:{selector:".js_select_store",type:"jquery"}},onShow:function(){},onHide:function(){},init:function(){},prepareViewData:function(){var e=this;if(e.needSupermarket){e.viewData.dictData=e.viewData.dictData||{};var t={id:e.supermarketCode},n=[t];_.each(n,function(t){e.viewData.dictData[t.id]=[],i.createDictStore(t.id).get("").then(function(i){e.viewData.dictData[t.id]=i})})}e.viewData.idNameAttribute=e.idNameAttribute||"loginId",e.viewData.passwordNameAttribute=e.passwordNameAttribute||"password",e.viewData.captchaNameAttribute=e.captchaNameAttribute||"captcha",e.viewData.storeNameAttribute=e.storeNameAttribute||"storeCode",e.turnOn()},prepareEvents:function(){var e=this;e.event=r},prepareViewUtils:function(){var e=this;e.viewUtils=s},afterShow:function(){var e=this;e.hideLoading()},getVueData:function(){var e=this;return{formData:e.memoryStore.getAttr("memory.formData")||{},logoImgUrl:_.isFunction(e.getLogoImgUrl)?e.getLogoImgUrl():dojoConfig.baseUrl+kaiPrefx+"/./kai/0.1/scripts/kaiView/h5/view/login/res/img/logo.png",baseUrl:appPrefx,title:e.title,needSupermarket:e.needSupermarket,dictData:e.viewData.dictData,nameMaxLength:e.nameMaxLength||"11",envCode:Kai.env.envCode,version:dojo.config.cacheBust.match(/_v=(\w{0,}).{0,1}\w{0,}_k/)[1],showEnv:e.showEnv||!0}},getVueMethods:function(){var i=this;return{setCellphoneNumberInputClicked:function(){this.cellphoneNumberInputClicked=!0},isValidCellphoneNumber:function(e){return c.isMobile(e)},isValidUserName:function(e){return!!e},isValidPassword:function(e){return!!e},setUsernameInputClicked:function(){},setPasswordInputClicked:function(){},showEnvListActionSheet:function(){_.each(t,function(e){e.name=e.id=e.envCode}),i.actionSheet?i.actionSheet.show():(i.actionSheet=new e({datamodel:{actionList:t,itemClickedCallback:function(e){i.actionSheet.hide(),Kai.restart({keepHash:!0,keepQuery:!0,queryObj:{envcode:e.id},fullPath:!0})}},wrapper:i.$el}),i.actionSheet.show())}}}});return l})},"ui/actionSheet/ui.actionSheet":function(){define(["../ui.abstract.view","dojo/text!./template/ui.actionSheet.html"],function(e,t){return _.inherit(e,{propertys:function($super){$super(),this.template=t,this.datamodel={actionList:[],isCancel:!0,itemClickedCallback:function(){},cancelCallback:function(){}}},initialize:function($super,e){$super(e)},setDatamodel:function(e){_.extend(this.datamodel,e),this.refresh()},initElement:function(){this.el=this.$el,this.cancelButton=this.$el.find(".kui-actionSheet-cancel"),this.actionListPane=this.$el.find(".weui-actionsheet__menu")},createRoot:function(e){this.$el=$(e).hide().attr("id",this.id)},bindEvents:function(){var e=this;return e.eventsBound?!1:(this.cancelButton.on("click",function(){e.$el.hide()}),this.actionListPane.on("click",function(t){var i=$(t.target);if(i.hasClass("weui-actionsheet__cell")){var n=_.findWhere(e.datamodel.actionList,{id:i.data("id")+""});e.datamodel.itemClickedCallback.call(e,n)}}),void(e.eventsBound=!0))},addEvent:function($super){$super();this.on("onCreate",function(){}),this.on("onShow",function(){}),this.on("onHide",function(){})}})})},"kaiView/h5/page/appBaseViewExtension":function(){define(["../../viewUtils/index","page/c.page.view","data/store/c.common.store","cutil/c.util.common"],function(e,t,i,n){"use strict";var o={};return o={"super":t.prototype,initialize:function(){var e=this["super"].initialize.apply(this,arguments);return e},show:function(){var e=this["super"].show.apply(this,arguments);return e}},_.extend(o,e,{prepareDebugData:function(){var e=this,t=e.getQueryObj();t.applycode&&(e.applyCode=t.applycode)}}),o})},"kaiView/h5/view/login/viewUtils/login":function(){define(["appConfig/const","cutil/c.util.common","cutil/c.util.validate","data/restStore/factory"],function(e,t,i,n){"use strict";var o={hasValidFormData:function(e){var t=this,e=e||{},i=JSON.parse(JSON.stringify(t.vm.$data.formData));return t.memoryStore.setAttr("memory.formData",i),t.vm.$data.formData[t.viewData.idNameAttribute]?t.vm.$data.formData[t.viewData.passwordNameAttribute]?e.captchaRequired&&t.needSupermarket&&!t.vm.$data.formData[t.viewData.storeNameAttribute]?(t.showErrorTip({tipMessage:"请选择驻点商超"}),!1):e.captchaRequired&&!t.vm.$data.formData[t.viewData.captchaNameAttribute]?(t.showErrorTip({tipMessage:"请输入验证码"}),!1):i:(t.showErrorTip({tipMessage:"请输入密码"}),!1):(t.showErrorTip({tipMessage:"请输入用户名"}),!1)},sendLoginRequest:function(e){var t=this;t._loginComm.add(_.extend(e||{},{url:Kai.getUrlWithoutHash()})).then(function(i){t.isSucceedResponse(i)?(t.setUserStore(i.body.userInfo||i.body),t.setBeeSignatureStore?(t.setBeeSignatureStore&&t.setBeeSignatureStore(i.body.beeSignature),t.model.trigger("beeSignature",i.body.beeSignature,{successCallback:function(i){t.hideLoading(),t.needLoginInfo&&t.parentStore.setAttr("loginInfo",{storeName:i.body.storeName,storeCode:i.body.storeCode,userId:e.userId||e.loginId}),t.showToast({text:"登录成功！",callback:function(){t.forward(t.successUrl?t.successUrl:"h5/view/mobile_index")}})},errorCallback:function(e){e.errorCode;t.forward("h5/view/mobile_index")}})):(t.needLoginInfo&&t.parentStore.setAttr("loginInfo",{storeName:i.body.storeName,storeCode:i.body.storeCode,userId:e.userId||e.loginId}),t.showToast({text:"登录成功！",callback:function(){t.forward(t.successUrl?t.successUrl:"h5/view/mobile_index")}}))):t.showResponseError(i)},function(e){t.showResponseError(e)})},login:function(e){var t=this,i=null;return e&&$(e.target).hasClass("disabled")?!1:void((i=$.proxy(o.hasValidFormData,t)({captchaRequired:t.captchaRequired}))&&(t.showLoading({datamodel:{style:"toast",data:{text:"正在登录,请耐心等待……"}}}),t.needSupermarket&&(i.storeName=(t.els.js_select_store.find("option:selected").text()||"").trim(),i.latitude="",i.longitude=""),alert("try to sign with url: "+Kai.getUrlWithoutHash()),t.needPositionInfo?t.getPosition(function(e){alert("latitude: "+e.coords.latitude),alert("longitude: "+e.coords.longitude),t.model.trigger("sendLoginRequest",_.extend(i,{longitude:e.coords.longitude,latitude:e.coords.latitude}))},function(){t.model.trigger("sendLoginRequest",i)},t.positionTimeout||2e4):t.model.trigger("sendLoginRequest",i)))},enableSendVerifyCodeButton:function(){var e=this;e.countDownTimeHandler&&clearTimeout(e.countDownTimeHandler),e.els.sendVerifyCodeButton.html("发送验证码").removeClass("disabled")},countDown:function(e,t){var i=this;return t.html(e+"秒后可重新获取").addClass("disabled"),--e>0?void(i.countDownTimeHandler=setTimeout(function(){o.countDown(e,t)},1e3)):void t.html("发送验证码").removeClass("disabled")},sendVerifyCode:function(e){var t=this,i=null;return e&&$(e.target).hasClass("disabled")?!1:(i=$.proxy(o.hasValidFormData,t)({}))?($.proxy(t.viewUtils.countDown,t)(60,t.els.sendVerifyCodeButton),void t._getVerificationCodeComm.add(i).then(function(e){if(t.isSucceedResponse(e)){var i=e.body.obj?e.body.obj.mobile:e.body.phone?e.body.phone:"";t.showToast({text:"我们已向您的["+i+"]手机发送了验证码，有效期为5分钟"})}else t.showResponseError(e),$.proxy(o.enableSendVerifyCodeButton,t)()},function(e){return t.showResponseError(e),$.proxy(o.enableSendVerifyCodeButton,t)(),!1})):!1},supermarketDictionary:function(){var e=this;e.viewData.dictData=e.viewData.dictData||{};var t={id:e.supermarketCode},i=[t];_.each(i,function(t){e.viewData.dictData[t.id]=[],n.createDictStore(t.id).get("").then(function(i){e.viewData.dictData[t.id]=i})})}};return o})},"appConfig/const":function(){define([],function(){"use strict";var e={verifyCodeType:{simple:"001",login:"002"}};return e})},"kaiView/h5/view/login/events/events":function(){define(["dojo/on","cutil/c.util.validate"],function(e,t){"use strict";var i={subscribeTopics:function(){},bindEvents:function(){var e=this;e.bind({})}};return{eventBinder:i}})},"kaiView/h5/view/index/view":function(){define(["page/viewFactory","../../../viewUtils/index","./events/events","cutil/c.util.validate","css!./res/style/h5.css"],function(e,t,i,n){"use strict";var o=e.create("appBaseView"),a=o.extend({events:{"click .js_button_login":_.debounce(t.login,250,!0,function(){})},onCreate:function(){},els:{sendVerifyCodeButton:{selector:".js_button_sendVerifyCode",type:"jquery"},cellphoneErrorIconNode:{selector:".js_cellphone_container .weui_icon_warn",type:"jquery"},cellphoneSuccessIconNode:{selector:".js_cellphone_container .weui_icon_success_no_circle",type:"jquery"},loginButton:{selector:".js_button_login",type:"jquery"}},onShow:function(){},onHide:function(){},init:function(){},prepareViewData:function(){var e=this;e.turnOn()},prepareEvents:function(){var e=this;e.event=i},prepareViewUtils:function(){var e=this;e.viewUtils=t},prepareDataHelper:function(){},afterShow:function(){var e=this;e.hideLoading()},getVueInitParams:function(){var e=this;return{data:{formData:e.memoryStore.getAttr("memory.formData")||{},taskList:e.viewData.taskList},methods:{gotoCustomerDetail:function(t,i){e.model.trigger("gotoCustomerDetail",t)},greet:function(e){alert("Hello "+this.name+"!"),alert(e.target.tagName)}}}},parseTempate:function(){var e=this,t=_.template("<%_.each(childViewItems,function(viewItem){%><h2><%=viewItem.viewTitle%></h2><div data-viewname='<%=viewItem.id%>'><a data-dojo-type='dijit/layout/LinkPane' id='<%=viewItem.id%>'></a></div><%});%>"),i=t({childViewItems:e.childViewItems});e.$el.append(i)}});return a})},"kaiView/h5/view/index/events/events":function(){define(["dojo/on","cutil/c.util.validate"],function(e,t){"use strict";var i={subscribeTopics:function(){},bindEvents:function(){var e=this;e.bind({})}};return{eventBinder:i}})},"h5/view/login/view":function(){define(["page/viewFactory","appViewUtils/login","./events/events","cutil/c.util.validate"],function(e,t,i,n){"use strict";var o=e.create("appBaseView"),a=o.extend({showHeader:!0,events:{"click .js_button_login":_.debounce(t.login,250,!0,function(){})},onCreate:function(){},els:{sendVerifyCodeButton:{selector:".js_button_sendVerifyCode",type:"jquery"},cellphoneErrorIconNode:{selector:".js_cellphone_container .weui_icon_warn",type:"jquery"},cellphoneSuccessIconNode:{selector:".js_cellphone_container .weui_icon_success_no_circle",type:"jquery"},loginButton:{selector:".js_button_login",type:"jquery"}},onShow:function(){},onHide:function(){},init:function(){},prepareViewData:function(){var e=this;e.turnOn()},prepareEvents:function(){var e=this;e.event=i},prepareViewUtils:function(){var e=this;e.viewUtils=t},prepareDataHelper:function(){},afterShow:function(){var e=this;e.hideLoading()},getVueData:function(){var e=this;return{formData:e.memoryStore.getAttr("memory.formData")||{},baseUrl:appPrefx}},getVueMethods:function(){var e=this;return{goRegister:function(){e.goRegister()},setCellphoneNumberInputClicked:function(){this.cellphoneNumberInputClicked=!0},isValidCellphoneNumber:function(e){return n.isMobile(e)},isValidUserName:function(){},isValidPassword:function(){}}}});return a})},"appViewUtils/login":function(){define(["../appRestStore/account","appConfig/const","cutil/c.util.common","cutil/c.util.validate"],function(e,t,i,n){"use strict";var o={hasValidFormData:function(e){var t=this,i=JSON.parse(JSON.stringify(t.vm.$data.formData));return t.memoryStore.setAttr("memory.formData",i),t.vm.$data.formData.loginId?t.vm.$data.formData.password?i:(t.showErrorTip({tipMessage:"请输入密码"}),!1):(t.showErrorTip({tipMessage:"请输入用户名"}),!1)},login:function(t){var i=this,n=null;return t&&$(t.target).hasClass("disabled")?!1:void((n=$.proxy(o.hasValidFormData,i)())&&e.login.add(_.extend(i.vm.$data.formData,{url:Kai.getUrlWithoutHash()})).then(function(e){i.isSucceedResponse(e)?(i.setUserStore(e.body.userInfo),i.showToast({text:"登录成功",callback:function(){i.forward("h5/view/mobile_index")}})):i.showResponseError(e)},function(e){i.showResponseError(e)}))}};return o})},"appRestStore/account":function(){define(["dojo/_base/lang","dojo/_base/declare","custom/dstore/Rest","dstore/Cache","custom/dstore/Trackable","cutil/c.util.config","appConfig/interface"],function(e,t,i,n,o,a,s){"use strict";var r,c=t([i,o]),u=(t([i,n,o]),{}),l=a.getBaseUrl(s);return l&&l.domain&&l.protocol&&(r=l.protocol+"://"+l.domain+"/"+l.path),u._name="appRestStore/account",u.login=new c({target:r+"/authority/login/",authRequired:!1}),u.register=new c({target:r+"/authority/register/",authRequired:!1}),u.changePassword=new c({target:r+"/authority/password/",authRequired:!1}),u.logout=new c({target:r+"/authority/logout/"}),u.beeSignature=new c({target:r+"/authority/beeSignature/"}),u})},"h5/view/login/events/events":function(){define(["dojo/on","appViewUtils/login","cutil/c.util.validate"],function(e,t,i){"use strict";var n={subscribeTopics:function(){},bindEvents:function(){var e=this;e.bind({"input paste keyup keydown change focus blur .js_input_cellphone":t.checkPhoneInput,"blur .js_input_name":t.checkNameInput}),e.els.loginButton.on("click",function(){})}};return{eventBinder:n}})},"kaiView/h5/view/center_controller/view":function(){define(["page/viewFactory"],function(e){"use strict";var t=e.create("appBaseView"),i=t.extend({events:{},onCreate:function(){},els:{},onShow:function(){Kai.initIonic2(),_.defer(function(){Kai.forward(Kai.indexUrl)},20)},onHide:function(){},init:function(){},prepareViewData:function(){var e=this;e.turnOn()},prepareEvents:function(){},prepareViewUtils:function(){},prepareDataHelper:function(){},afterShow:function(){var e=this;e.hideLoading()},getVueInitParams:function(){return{data:{},methods:{}}}});return i})},"url:ui/actionSheet/template/ui.actionSheet.html":'<div class="cui-actionSheet">\r\n  <div class="weui-mask" id="iosMask" style="opacity: 1;"></div>\r\n  <div class="weui-actionsheet weui-actionsheet_toggle">\r\n    <div class="weui-actionsheet__menu">\r\n      <%_.each(actionList,function(actionItem){%>\r\n        <div class="weui-actionsheet__cell" data-id=\'<%=actionItem.id%>\'><%=actionItem.name%></div>\r\n      <%});%>\r\n    </div>\r\n    <%if(isCancel){%>\r\n    <div class="weui-actionsheet__action">\r\n      <div class="weui-actionsheet__cell kui-actionSheet-cancel">取消</div>\r\n    </div>\r\n    <%}%>\r\n  </div>\r\n</div>\r\n',"url:kaiView/h5/view/login/template/template.html":'<!--登录-->\n<script type="text/template" style="display: none;" class=\'kai_widget\' data-avoidreparse=\'true\'>\n<div>\n  <div class="hd" style="text-align:center;">\n    <img class=\'logoImg\' v-bind:src="logoImgUrl" title="中腾信金融" alt="中腾信金融">\n    <h2 class="align-center">{{title}}</h2><!-- align-cente-->\n  </div>\n  <div class="weui_cells weui_cells weui_cells_form ">\n    <div class="weui_cell js_cellphone_container">\n      <div class="weui_cell_hd"><label class="weui_label">用户名:</label></div>\n      <div class="weui_cell_bd weui_cell_primary">\n        <input class="weui_input js_input_username" type="" pattern="" maxlength="{{nameMaxLength}}" placeholder="请输入用户名" v-model="formData.<%=idNameAttribute%>" v-on:click="setUsernameInputClicked">\n      </div>\n      <div class="weui_cell_ft">\n        <i class="weui_icon_warn" v-show=\'!isValidUserName(formData.loginId)\'></i>\n        <i class="weui_icon_success_no_circle" v-show=\'isValidUserName(formData.<%=idNameAttribute%>)\'></i>\n      </div>\n    </div>\n    <div class="weui_cell js_cellphone_container"><!---->\n      <div class="weui_cell_hd"><label class="weui_label">密码:</label></div>\n      <div class="weui_cell_bd weui_cell_primary">\n        <input class="weui_input js_input_password" type="password" pattern="" maxlength="20" placeholder="请输入密码" v-model="formData.<%=passwordNameAttribute%>" v-on:click="setPasswordInputClicked">\n      </div>\n      <div class="weui_cell_ft">\n        <i class="weui_icon_warn" v-show=\'!isValidPassword(formData.password)\'></i>\n        <i class="weui_icon_success_no_circle" v-show=\'isValidPassword(formData.password)\'></i>\n      </div>\n    </div>\n\n    <div class="weui_cell  weui_cell_select" v-show="needSupermarket"><!---->\n      <div class="weui_cell_hd"><label class="weui_label">驻点商超:</label></div>\n      <div class="weui_cell_bd weui_cell_primary">\n        <select  class="weui_select js_select_store {{formData.storeCode?\'\':\'kui_placeholder_sim font-small\'}}" name="storeCode" v-model="formData.<%=storeNameAttribute%>">\n          <option :selected="!formData.storeCode" value=\'\'>请选择驻点商超</option>\n          <option v-for="item in dictData[\'STORE\']" value="{{item.id}}">\n            {{item.name}}</option>\n        </select>\n      </div>\n      <div class="weui_cell_ft">\n        <i class="weui_icon_warn" v-show=\'!formData.storeCode\'></i>\n        <i class="weui_icon_success_no_circle" v-show=\'formData.storeCode\'></i>\n      </div>\n    </div>\n\n    <div class="weui_cell weui_vcode weui_cell_warn">\n        <div class="weui_cell_bd weui_cell_primary">\n            <input class="weui_input" type="text" placeholder="请输入验证码" maxlength="10"  v-model="formData.<%=captchaNameAttribute%>" >\n        </div>\n        <div class="weui_btn_area">\n          <a class="weui_btn weui_btn_primary js-button-send_verifyCode" href="javascript:">发送验证码</a>\n        </div>\n    </div>\n  </div>\n  <div class="weui_btn_area" style="margin-top:2em;">\n    <a class="weui_btn weui_btn_primary js_button_login" href="javascript:">登录</a>\n  </div>\n  <div class="align-center color-grey font-small">\n    <span v-if="showEnv">环境：{{envCode}} &nbsp;&nbsp; 版本号：{{version}}</span>\n    <div v-on:click="showEnvListActionSheet"> &nbsp;&nbsp;</div>\n  </div>\n</div>\n</script>\n'}}),define("h5/page/appBaseViewExtension",["kaiView/viewUtils/index","appViewUtils/index","page/c.page.view","data/store/c.common.store","cutil/c.util.common"],function(e,t,i,n,o){"use strict";var a={};return a={"super":i.prototype,initialize:function(){var e=this["super"].initialize.apply(this,arguments);return e},show:function(){var e=this["super"].show.apply(this,arguments);return e}},_.extend(a,e,t,{login:function(){var e=this;e.showLoginDialog()},showLoginDialog:function(){var e=this;e.loginDialogInstance||(e.loginDialogInstance=new loginDialog({view:e})),e.loginDialogInstance.startup(),e.loginDialogInstance.show(),Kai.hideLoading()},logout:function(){var e=this,t=Models.logout.getInstance();e.showLoading();var i=function(t){e.hideLoading(),e.isSucceedResponse(t)?e.showToast({text:"注销成功",callback:function(){UserStore.remove(),_.isObject(localStorage)&&localStorage.clear(),e.forward(Kai.loginUrl,{keepURL:!0})}}):e.showResponseError(t)},n=function(t){e.hideLoading(),e.showResponseError(t)},o=function(){};o();t.execute(i,n,!0,e)},prepareDebugData:function(){var e=this,t=e.getQueryObj();t.applycode&&(e.applyCode=t.applycode)},setUbtData:function(e){var t=this;t.ubtData={current:e||"*",applyCode:t.model.get("applyCode")||"*"}},getStaffNumber:function(){var e=n.UserStore.getInstance();n.HeadStore.getInstance();return(e.get()||{}).user.username},getStaffRole:function(){}}),a});