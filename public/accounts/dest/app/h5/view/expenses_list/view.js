define(["dojo/date/locale","appRestStore/expenses","page/viewFactory","viewUtils/index","viewUtils/expenses_list","./events/events","cutil/c.util.validate"],function(e,t,n,i,o,a,s){"use strict";var r=n.create("appBaseView"),c=r.extend({events:{"click .mobile_back":_.debounce(o.goBack,250,!0,function(){})},onCreate:function(){},els:{loginButton:{selector:".js_button_login",type:"jquery"}},onShow:function(){},onHide:function(){},init:function(){},prepareViewData:function(){var n=this;n.viewData.expenseList=n.viewData.expenseList||[];var i=function(t){n.viewData.expenseList=t,_.each(t,function(t){t.date=e.format(new Date(t.date),{datePattern:"yyyy-MM-dd",selector:"date"})}),n.vm&&n.vm.$set("expenseList",n.viewData.expenseList)};t.expenses.get("").then(function(e){n.isSucceedResponse(e)?i(e.body):n.showResponseError(e),n.turnOn()},function(){})},prepareEvents:function(){var e=this;e.event=a},prepareViewUtils:function(){var e=this;e.viewUtils=_.extend(o,i)},prepareDataHelper:function(){},afterShow:function(){var e=this;e.hideLoading()},getVueInitParams:function(){var e=this;return{data:{formData:e.memoryStore.getAttr("memory.formData")||{},expenseList:e.viewData.expenseList},methods:{"delete":function(t){e.model.trigger("deleteExpense",t)},edit:function(t,n){e.forward("h5/view/expenses?"+$.param({ExpenseId:t}))},gotoExpenses:function(t,n){e.forward("h5/view/expenses")},goBack:function(t,n){e.model.trigger("goBack",t)},goCollectionDetail:function(t){e.parentModel.set("h5/view/collection_detail",_.extend(t,{_readonly:!0})),Kai.forwardWithQueryParams("h5/view/collection_detail",{modelObj:{readonly:!0},queryObj:{collectionRecordId:t.id}})}}}}});return c});