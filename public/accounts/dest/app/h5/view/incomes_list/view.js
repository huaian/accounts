define(["dojo/date/locale","appRestStore/incomes","page/viewFactory","viewUtils/index","viewUtils/incomes_list","./events/events","cutil/c.util.validate"],function(e,t,i,n,o,a,c){"use strict";var r=i.create("appBaseView"),s=r.extend({events:{"click .mobile_back":_.debounce(o.goBack,250,!0,function(){})},onCreate:function(){},els:{loginButton:{selector:".js_button_login",type:"jquery"}},onShow:function(){},onHide:function(){},init:function(){},prepareViewData:function(){var i=this;i.viewData.incomeList=i.viewData.incomeList||[];var n=function(t){i.viewData.incomeList=t,_.each(t,function(t){t.date=e.format(new Date(t.date),{datePattern:"yyyy-MM-dd",selector:"date"})}),i.vm&&i.vm.$set("incomeList",i.viewData.incomeList)};t.incomes.get("").then(function(e){i.isSucceedResponse(e)?n(e.body):i.showResponseError(e),i.turnOn()},function(){})},prepareEvents:function(){var e=this;e.event=a},prepareViewUtils:function(){var e=this;e.viewUtils=_.extend(o,n)},prepareDataHelper:function(){},afterShow:function(){var e=this;e.hideLoading()},getVueInitParams:function(){var e=this;return{data:{formData:e.memoryStore.getAttr("memory.formData")||{},incomeList:e.viewData.incomeList},methods:{"delete":function(t){e.model.trigger("deleteIncome",t)},edit:function(t,i){e.forward("h5/view/incomes?"+$.param({incomeId:t}))},gotoIncomes:function(t,i){e.forward("h5/view/incomes")},goBack:function(t,i){e.model.trigger("goBack",t)}}}}});return s});